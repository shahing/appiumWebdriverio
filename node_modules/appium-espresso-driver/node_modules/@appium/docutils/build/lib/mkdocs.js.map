{"version":3,"file":"mkdocs.js","names":["MKDOCS_VER_STR","verifyMkdocs","stdout","exec","includes","Error","err","mkdocsBuild","configPath","outputDir","theme","mkdocsServe","proc","SubProcess","start"],"sources":["../../lib/mkdocs.js"],"sourcesContent":["import {exec, SubProcess} from 'teen_process';\n\nconst MKDOCS_VER_STR = 'version 1.';\n\n/**\n * Run a version check on the system-installed mkdocs to make sure it is set up\n */\nexport async function verifyMkdocs() {\n  try {\n    const {stdout} = await exec('mkdocs', ['-V']);\n    if (!stdout.includes(MKDOCS_VER_STR)) {\n      throw new Error('version mismatch');\n    }\n  } catch (err) {\n    throw new Error(\n      `Could not verify mkdocs 1.x is available. Make sure it's installed ` +\n        `and on your path. Specific error: ${err}`\n    );\n  }\n}\n\n/**\n * Run 'mkdocs build' on a project\n *\n * @param {string} configPath path to mkdocs config yml\n * @param {string} outputDir directory mkdocs should build into\n * @param {?string} theme theme name\n */\nexport async function mkdocsBuild(configPath, outputDir, theme = 'mkdocs') {\n  await verifyMkdocs();\n  await exec('mkdocs', ['build', '-f', configPath, '-t', theme, '-d', outputDir]);\n}\n\n/**\n * Run 'mkdocs serve' on a project\n *\n * @param {string} configPath path to mkdocs config yml\n */\nexport async function mkdocsServe(configPath) {\n  await verifyMkdocs();\n  const proc = new SubProcess('mkdocs', ['serve', '-f', configPath]);\n  await proc.start();\n}\n"],"mappings":";;;;;;;;;;;AAAA;;AAEA,MAAMA,cAAc,GAAG,YAAvB;;AAKO,eAAeC,YAAf,GAA8B;EACnC,IAAI;IACF,MAAM;MAACC;IAAD,IAAW,MAAM,IAAAC,kBAAA,EAAK,QAAL,EAAe,CAAC,IAAD,CAAf,CAAvB;;IACA,IAAI,CAACD,MAAM,CAACE,QAAP,CAAgBJ,cAAhB,CAAL,EAAsC;MACpC,MAAM,IAAIK,KAAJ,CAAU,kBAAV,CAAN;IACD;EACF,CALD,CAKE,OAAOC,GAAP,EAAY;IACZ,MAAM,IAAID,KAAJ,CACH,qEAAD,GACG,qCAAoCC,GAAI,EAFvC,CAAN;EAID;AACF;;AASM,eAAeC,WAAf,CAA2BC,UAA3B,EAAuCC,SAAvC,EAAkDC,KAAK,GAAG,QAA1D,EAAoE;EACzE,MAAMT,YAAY,EAAlB;EACA,MAAM,IAAAE,kBAAA,EAAK,QAAL,EAAe,CAAC,OAAD,EAAU,IAAV,EAAgBK,UAAhB,EAA4B,IAA5B,EAAkCE,KAAlC,EAAyC,IAAzC,EAA+CD,SAA/C,CAAf,CAAN;AACD;;AAOM,eAAeE,WAAf,CAA2BH,UAA3B,EAAuC;EAC5C,MAAMP,YAAY,EAAlB;EACA,MAAMW,IAAI,GAAG,IAAIC,wBAAJ,CAAe,QAAf,EAAyB,CAAC,OAAD,EAAU,IAAV,EAAgBL,UAAhB,CAAzB,CAAb;EACA,MAAMI,IAAI,CAACE,KAAL,EAAN;AACD"}