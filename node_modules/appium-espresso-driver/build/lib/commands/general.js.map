{"version":3,"file":"general.js","names":["commands","helpers","extensions","assertRequiredOptions","options","requiredOptionNames","_","isArray","presentOptionNames","keys","missingOptionNames","difference","isEmpty","Error","JSON","stringify","launchApp","errors","UnsupportedOperationError","closeApp","reset","getClipboard","adb","getApiLevel","espresso","jwproxy","command","mobilePerformEditorAction","opts","action","mobileSwipe","direction","element","swiper","startCoordinates","endCoordinates","precisionDescriber","util","unwrapElement","mobileGetDeviceInfo","mobileIsToastVisible","text","isRegexp","hasValue","InvalidArgumentError","mobileOpenDrawer","gravity","mobileCloseDrawer","mobileSetDate","year","monthOfYear","dayOfMonth","mobileSetTime","hours","minutes","mobileNavigateTo","menuItemId","menuItemIdAsNumber","parseInt","isNaN","mobileWebAtoms","getDisplayDensity","mobileScrollToPage","scrollToTypes","res","validate","presence","scrollTo","inclusion","within","message","join","scrollToPage","numericality","onlyInteger","greaterThanOrEqualTo","smoothScroll","log","warn","mobileBackdoor","target","methods","elementId","targetElement","mobileUiautomator","strategy","locator","index","mobileUiautomatorPageSource","mobileFlashElement","durationMillis","repeatCount","mobileClickAction","tapper","coordinatesProvider","inputDevice","buttonState","updateSettings","settings","getSettings","suspendChromedriverProxy","chromedriver","proxyReqRes","bind","proxyCommand","jwpProxyActive","mobileStartActivity","appPackage","caps","appActivity","locale","optionalIntentArguments","optionalActivityArguments","startActivity","appWaitPackage","appWaitActivity","qualifyActivityName","debug","waitForActivity","mobileDismissAutofill","Object","assign"],"sources":["../../../lib/commands/general.js"],"sourcesContent":["import _ from 'lodash';\nimport { util } from 'appium/support';\nimport validate from 'validate.js';\nimport { errors } from 'appium/driver';\nimport { qualifyActivityName } from '../utils';\n\nconst commands = {}, helpers = {}, extensions = {};\n\nfunction assertRequiredOptions (options, requiredOptionNames) {\n  if (!_.isArray(requiredOptionNames)) {\n    requiredOptionNames = [requiredOptionNames];\n  }\n  const presentOptionNames = _.keys(options);\n  const missingOptionNames = _.difference(requiredOptionNames, presentOptionNames);\n  if (_.isEmpty(missingOptionNames)) {\n    return options;\n  }\n  throw new Error(`The following options are required: ${JSON.stringify(missingOptionNames)}. ` +\n    `You have only provided: ${JSON.stringify(presentOptionNames)}`);\n}\n\n// eslint-disable-next-line require-await\ncommands.launchApp = async function launchApp () {\n  throw new errors.UnsupportedOperationError('Please create a new session in order to launch the application under test');\n};\n\n// eslint-disable-next-line require-await\ncommands.closeApp = async function closeApp () {\n  throw new errors.UnsupportedOperationError('Please quit the session in order to close the application under test');\n};\n\n// eslint-disable-next-line require-await\ncommands.reset = async function reset () {\n  throw new errors.UnsupportedOperationError(\n    'Please quit the session and create a new one ' +\n    'in order to close and launch the application under test');\n};\n\ncommands.getClipboard = async function getClipboard () {\n  return (await this.adb.getApiLevel() < 29)\n    ? (await this.espresso.jwproxy.command('/appium/device/get_clipboard', 'POST', {}))\n    : (await this.adb.getClipboard());\n};\n\ncommands.mobilePerformEditorAction = async function mobilePerformEditorAction (opts = {}) {\n  const {action} = assertRequiredOptions(opts, ['action']);\n  return await this.espresso.jwproxy.command('/appium/device/perform_editor_action', 'POST', {action});\n};\n\ncommands.mobileSwipe = async function mobileSwipe (opts = {}) {\n  const {direction, element, swiper, startCoordinates, endCoordinates, precisionDescriber} = assertRequiredOptions(opts, ['element']);\n  return await this.espresso.jwproxy.command(`/appium/execute_mobile/${util.unwrapElement(element)}/swipe`, 'POST', {\n    direction, element, swiper, startCoordinates, endCoordinates, precisionDescriber\n  });\n};\n\ncommands.mobileGetDeviceInfo = async function mobileGetDeviceInfo () {\n  return await this.espresso.jwproxy.command('/appium/device/info', 'GET');\n};\n\ncommands.mobileIsToastVisible = async function mobileIsToastVisible (opts = {}) {\n  const {text, isRegexp} = opts;\n  if (!util.hasValue(text)) {\n    throw new errors.InvalidArgumentError(`'text' argument is mandatory`);\n  }\n  return await this.espresso.jwproxy.command('/appium/execute_mobile/is_toast_displayed', 'POST', {\n    text,\n    isRegexp,\n  });\n};\n\ncommands.mobileOpenDrawer = async function mobileOpenDrawer (opts = {}) {\n  const {element, gravity} = assertRequiredOptions(opts, ['element']);\n\n  return await this.espresso.jwproxy.command(`/appium/execute_mobile/${util.unwrapElement(element)}/open_drawer`, 'POST', {\n    gravity\n  });\n};\n\ncommands.mobileCloseDrawer = async function mobileCloseDrawer (opts = {}) {\n  const {element, gravity} = assertRequiredOptions(opts, ['element']);\n\n  return await this.espresso.jwproxy.command(`/appium/execute_mobile/${util.unwrapElement(element)}/close_drawer`, 'POST', {\n    gravity\n  });\n};\n\ncommands.mobileSetDate = async function mobileSetDate (opts = {}) {\n  const {element, year, monthOfYear, dayOfMonth} = assertRequiredOptions(opts, ['element', 'year', 'monthOfYear', 'dayOfMonth']);\n\n  return await this.espresso.jwproxy.command(`/appium/execute_mobile/${util.unwrapElement(element)}/set_date`, 'POST', {\n    year,\n    monthOfYear,\n    dayOfMonth,\n  });\n};\n\ncommands.mobileSetTime = async function mobileSetTime (opts = {}) {\n  const {element, hours, minutes} = assertRequiredOptions(opts, ['element', 'hours', 'minutes']);\n\n  return await this.espresso.jwproxy.command(`/appium/execute_mobile/${util.unwrapElement(element)}/set_time`, 'POST', {\n    hours,\n    minutes,\n  });\n};\n\ncommands.mobileNavigateTo = async function mobileNavigateTo (opts = {}) {\n  let {element, menuItemId} = assertRequiredOptions(opts, ['menuItemId', 'element']);\n\n  let menuItemIdAsNumber = parseInt(menuItemId, 10);\n  if (_.isNaN(menuItemIdAsNumber) || menuItemIdAsNumber < 0) {\n    throw new errors.InvalidArgumentError(`'menuItemId' must be a non-negative number. Found ${menuItemId}`);\n  }\n\n  return await this.espresso.jwproxy.command(`/appium/execute_mobile/${util.unwrapElement(element)}/navigate_to`, 'POST', {\n    menuItemId\n  });\n};\n\n/**\n * Runs a chain of Espresso web atoms (see https://developer.android.com/training/testing/espresso/web for reference)\n *\n * Takes JSON of the form\n *\n * {\n *   \"webviewEl\": \"<ELEMENT_ID>\", // optional webview element to operate on\n *   \"forceJavascriptEnabled\": true|false, // if webview disables javascript, webatoms won't work, this forces it\n *   \"methodChain\": [\n *     {\"name\": \"methodName\", \"atom\": {\"name\": \"atomName\", \"args\": [\"arg1\", \"arg2\", ...]}},\n *     ...\n *   ]\n * }\n *\n */\ncommands.mobileWebAtoms = async function mobileWebAtoms (opts = {}) {\n  opts = assertRequiredOptions(opts, ['methodChain']);\n  return await this.espresso.jwproxy.command(`/appium/execute_mobile/web_atoms`, 'POST', opts);\n};\n\ncommands.getDisplayDensity = async function getDisplayDensity () {\n  return await this.espresso.jwproxy.command('/appium/device/display_density', 'GET', {});\n};\n\ncommands.mobileScrollToPage = async function mobileScrollToPage (opts = {}) {\n\n  // Validate the parameters\n  const scrollToTypes = ['first', 'last', 'left', 'right'];\n  const res = validate(opts, {\n    element: {presence: true},\n    scrollTo: {\n      inclusion: {\n        within: scrollToTypes,\n        message: `\"scrollTo\" must be one of \"${scrollToTypes.join(', ')}\" found '%{value}'`,\n      }\n    },\n    scrollToPage: {\n      numericality: {\n        onlyInteger: true,\n        greaterThanOrEqualTo: 0,\n        message: `\"scrollToPage\" must be a non-negative integer. Found '%{value}'`\n      },\n    },\n  });\n  if (util.hasValue(res)) {\n    throw new errors.InvalidArgumentError(`Invalid scrollTo parameters: ${JSON.stringify(res)}`);\n  }\n\n  const {element, scrollTo, scrollToPage, smoothScroll} = opts;\n\n  if (util.hasValue(scrollTo) && util.hasValue(scrollToPage)) {\n    this.log.warn(`'scrollTo' and 'scrollToPage' where both provided. Defaulting to 'scrollTo'`);\n  }\n\n  return await this.espresso.jwproxy.command(`/appium/execute_mobile/${util.unwrapElement(element)}/scroll_to_page`, 'POST', {\n    scrollTo,\n    scrollToPage,\n    smoothScroll,\n  });\n};\n\n\n/**\n *  API to invoke methods defined in Android app.\n *\n *  Example data\n *  {\n *   target: 'activity',\n *   methods:\n *         [\n *           {\n *               name: \"someMethod\",\n *           },\n *           {\n *               name: \"anotherMethod\",\n *               args:\n *                   [\n *                       {value: \"Lol\", type: 'java.lang.CharSequence'},\n *                       {value: 1, type: 'int'}\n *                   ]\n *           }\n *         ]\n * }\n *\n * In above example, method \"someMethod\" will be invoked on 'activity'. On the result, \"anotherMethod\" will be invoked\n *  \"target\" can be either 'activity', 'application' or 'element'\n *  If target is set to 'application', methods will be invoked on application class\n *  If target is set to 'activity', methods will be invoked on current activity\n *  If target is set to 'element', 'elementId' must be specified\n *\n * - Only 'Public' methods can be invoked. ('open' modifire is necessary in Kotlin)\n * - following primitive types are supported: \"int\", \"boolean\", \"byte\", \"short\", \"long\", \"float\", \"char\"\n * -  Non-primitive types with fully qualified name \"java.lang.*\" is also supported:\n *                              Eg. \"java.lang.CharSequence\", \"java.lang.String\", \"java.lang.Integer\", \"java.lang.Float\",\n *                              \"java.lang.Double\", \"java.lang.Boolean\", \"java.lang.Long\", \"java.lang.Short\",\n *                              \"java.lang.Character\" etc...\n *\n *\n * @throws  {Error} if target is not 'activity' or 'application'\n * @throws  {Error} if a method is not found with given argument types\n *\n * @return {*} the result of the last method in the invocation chain. If method return type is void, then \"<VOID>\" will be returned\n *\n */\ncommands.mobileBackdoor = async function mobileBackdoor (opts = {}) {\n  assertRequiredOptions(opts, ['target', 'methods']);\n  const {target, methods} = opts;\n  if (target === 'element') {\n    assertRequiredOptions(opts, ['elementId']);\n  }\n  const {elementId: targetElement} = opts;\n  return await this.espresso.jwproxy.command(`/appium/execute_mobile/backdoor`, 'POST', {target, methods, targetElement});\n};\n\n/**\n *  Execute UiAutomator2 commands to drive out of app areas.\n *  strategy can be one of: \"clazz\", \"res\", \"text\", \"textContains\", \"textEndsWith\", \"textStartsWith\",\n *                          \"desc\", \"descContains\", \"descEndsWith\", \"descStartsWith\", \"pkg\"\n *\n *  action can be one of: \"click\", \"longClick\", \"getText\", \"getContentDescription\", \"getClassName\",\n *                        \"getResourceName\", \"getVisibleBounds\", \"getVisibleCenter\", \"getApplicationPackage\",\n *                        \"getChildCount\", \"clear\", \"isCheckable\", \"isChecked\", \"isClickable\", \"isEnabled\",\n *                        \"isFocusable\", \"isFocused\", \"isLongClickable\", \"isScrollable\", \"isSelected\"\n */\ncommands.mobileUiautomator = async function mobileUiautomator (opts = {}) {\n  const {strategy, locator, action, index} = assertRequiredOptions(opts, ['strategy', 'locator', 'action']);\n  return await this.espresso.jwproxy.command(`/appium/execute_mobile/uiautomator`, 'POST', {strategy, locator, index, action});\n};\n\n/**\n *  Execute UiAutomator2 command to return the UI dump when AUT is in background.\n * @throws  {Error} if uiautomator view dump is unsuccessful\n * @returns {string} uiautomator DOM xml as string\n */\ncommands.mobileUiautomatorPageSource = async function mobileUiautomatorPageSource () {\n  return await this.espresso.jwproxy.command(`/appium/execute_mobile/uiautomator_page_source`, 'GET');\n};\n\n/**\n *  Flash the element with given id.\n *  durationMillis and repeatCount are optional\n *\n */\ncommands.mobileFlashElement = async function mobileFlashElement (opts = {}) {\n  const {element} = assertRequiredOptions(opts, ['element']);\n  const {durationMillis, repeatCount} = opts;\n  return await this.espresso.jwproxy.command(`/appium/execute_mobile/${util.unwrapElement(element)}/flash`, 'POST', {\n    durationMillis,\n    repeatCount\n  });\n};\n\n/**\n * Perform a 'GeneralClickAction' (https://developer.android.com/reference/androidx/test/espresso/action/GeneralClickAction)\n */\ncommands.mobileClickAction = async function mobileClickAction (opts = {}) {\n  const {element, tapper, coordinatesProvider, precisionDescriber,\n         inputDevice, buttonState} = assertRequiredOptions(opts, ['element']);\n  return await this.espresso.jwproxy.command(`/appium/execute_mobile/${util.unwrapElement(element)}/click_action`, 'POST', {\n    tapper, coordinatesProvider, precisionDescriber, inputDevice, buttonState\n  });\n};\n\ncommands.updateSettings = async function updateSettings (settings) {\n  return await this.espresso.jwproxy.command(`/appium/settings`, 'POST', { settings });\n};\n\ncommands.getSettings = async function getSettings () {\n  return await this.espresso.jwproxy.command(`/appium/settings`, 'GET');\n};\n\n// Stop proxying to any Chromedriver and redirect to Espresso\nhelpers.suspendChromedriverProxy = function suspendChromedriverProxy () {\n  this.chromedriver = null;\n  this.proxyReqRes = this.espresso.proxyReqRes.bind(this.espresso);\n  this.proxyCommand = this.espresso.proxyCommand.bind(this.espresso);\n  this.jwpProxyActive = true;\n};\n\n/**\n *  Starts the given activity with intent options, activity options and locale.\n *  Activity could only be executed in scope of the current app package.\n *\n *  appActivity is mandatory\n *\n *  locale, optionalIntentArguments, optionalActivityArguments are optional\n */\ncommands.mobileStartActivity = async function mobileStartActivity (opts = {}) {\n  const appPackage = this.caps.appPackage;\n  const {\n    appActivity,\n    locale,\n    optionalIntentArguments,\n    optionalActivityArguments\n  } = assertRequiredOptions(opts, ['appActivity']);\n  return await this.espresso.jwproxy.command(`/appium/device/start_activity`, 'POST', {\n    appPackage,\n    appActivity,\n    locale,\n    optionalIntentArguments,\n    optionalActivityArguments\n  });\n};\n\ncommands.startActivity = async function startActivity (appPackage, appActivity,\n  appWaitPackage, appWaitActivity) {\n  // intentAction, intentCategory, intentFlags, optionalIntentArguments, dontStopAppOnReset\n  // parameters are not supported by Espresso\n  appPackage = appPackage || this.caps.appPackage;\n  appWaitPackage = appWaitPackage || appPackage;\n  appActivity = qualifyActivityName(appActivity, appPackage);\n  appWaitActivity = qualifyActivityName(appWaitActivity || appActivity, appWaitPackage);\n  this.log.debug(`Starting activity '${appActivity}' for package '${appPackage}'`);\n  await this.espresso.jwproxy.command(`/appium/device/start_activity`, 'POST', {\n    appPackage,\n    appActivity,\n  });\n  await this.adb.waitForActivity(appWaitPackage, appWaitActivity);\n};\n\ncommands.mobileDismissAutofill = async function mobileDismissAutofill (opts = {}) {\n  const {element} = assertRequiredOptions(opts, ['element']);\n  await this.espresso.jwproxy.command(\n    `/session/:sessionId/appium/execute_mobile/${util.unwrapElement(element)}/dismiss_autofill`, 'POST', {});\n};\n\nObject.assign(extensions, commands, helpers);\nexport { commands, helpers };\nexport default extensions;\n"],"mappings":"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"}