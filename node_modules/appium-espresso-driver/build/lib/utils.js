"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.copyGradleProjectRecursively = copyGradleProjectRecursively;
exports.getPackageInfo = getPackageInfo;
exports.getPackageInfoSync = getPackageInfoSync;
exports.qualifyActivityName = qualifyActivityName;
exports.requireOptions = requireOptions;
exports.updateDependencyLines = updateDependencyLines;
require("source-map-support/register");
var _support = require("appium/support");
var _lodash = _interopRequireDefault(require("lodash"));
var _path = _interopRequireDefault(require("path"));
var _fs2 = _interopRequireDefault(require("fs"));
let PACKAGE_INFO = null;
const MODULE_NAME = 'appium-espresso-driver';
function qualifyActivityName(activityName, packageName) {
  if ([activityName, packageName].some(name => !name || _lodash.default.includes(name, '*'))) {
    return activityName;
  }
  const dotPos = activityName.indexOf('.');
  if (dotPos > 0) {
    return activityName;
  }
  return `${packageName}${dotPos === 0 ? '' : '.'}${activityName}`;
}
async function copyGradleProjectRecursively(sourceBaseDir, targetBaseDir) {
  await _support.fs.walkDir(sourceBaseDir, true, async (itemPath, isDirectory) => {
    const relativePath = _path.default.relative(sourceBaseDir, itemPath);
    const targetPath = _path.default.resolve(targetBaseDir, relativePath);
    const isInGradleBuildDir = `${_path.default.sep}${itemPath}`.includes(`${_path.default.sep}build${_path.default.sep}`);
    if (isInGradleBuildDir) {
      return false;
    }
    if (isDirectory) {
      await (0, _support.mkdirp)(targetPath);
    } else {
      await _support.fs.copyFile(itemPath, targetPath);
    }
    return false;
  });
}
function requireOptions(opts, requiredKeys = []) {
  const missingKeys = _lodash.default.difference(requiredKeys, _lodash.default.keys(opts));
  if (!_lodash.default.isEmpty(missingKeys)) {
    throw new Error(`The following options are required: ${missingKeys}`);
  }
  return opts;
}
function updateDependencyLines(originalContent, dependencyPlaceholder, dependencyLines) {
  const configurationLines = originalContent.split('\n');
  const searchRe = new RegExp(`^\\s*//\\s*\\b${_lodash.default.escapeRegExp(dependencyPlaceholder)}\\b`, 'm');
  const placeholderIndex = configurationLines.findIndex(line => searchRe.test(line));
  if (placeholderIndex < 0) {
    return originalContent;
  }
  const placeholderLine = configurationLines[placeholderIndex];
  const indentLen = placeholderLine.length - _lodash.default.trimStart(placeholderLine).length;
  configurationLines.splice(placeholderIndex + 1, 0, ...dependencyLines.map(line => `${' '.repeat(indentLen)}${line}`));
  return configurationLines.join('\n');
}
async function getPackageInfo() {
  if (PACKAGE_INFO) {
    return PACKAGE_INFO;
  }
  let currentDir = _path.default.dirname(_path.default.resolve(__filename));
  let isAtFsRoot = false;
  while (!isAtFsRoot) {
    const manifestPath = _path.default.join(currentDir, 'package.json');
    try {
      if (await _support.fs.exists(manifestPath)) {
        const manifestPayload = JSON.parse(await _support.fs.readFile(manifestPath, 'utf8'));
        if (manifestPayload.name === MODULE_NAME) {
          PACKAGE_INFO = {
            manifestPath,
            manifestPayload
          };
          return PACKAGE_INFO;
        }
      }
    } catch (ign) {}
    currentDir = _path.default.dirname(currentDir);
    isAtFsRoot = currentDir.length <= _path.default.dirname(currentDir).length;
  }
  throw new Error(`Cannot find the root folder of the ${MODULE_NAME} Node.js module`);
}
function getPackageInfoSync() {
  if (PACKAGE_INFO) {
    return PACKAGE_INFO;
  }
  let currentDir = _path.default.dirname(_path.default.resolve(__filename));
  let isAtFsRoot = false;
  while (!isAtFsRoot) {
    const manifestPath = _path.default.join(currentDir, 'package.json');
    try {
      if (_fs2.default.existsSync(manifestPath)) {
        const manifestPayload = JSON.parse(_fs2.default.readFileSync(manifestPath, 'utf8'));
        if (manifestPayload.name === MODULE_NAME) {
          PACKAGE_INFO = {
            manifestPath,
            manifestPayload
          };
          return PACKAGE_INFO;
        }
      }
    } catch (ign) {}
    currentDir = _path.default.dirname(currentDir);
    isAtFsRoot = currentDir.length <= _path.default.dirname(currentDir).length;
  }
  throw new Error(`Cannot find the root folder of the ${MODULE_NAME} Node.js module`);
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJQQUNLQUdFX0lORk8iLCJNT0RVTEVfTkFNRSIsInF1YWxpZnlBY3Rpdml0eU5hbWUiLCJhY3Rpdml0eU5hbWUiLCJwYWNrYWdlTmFtZSIsInNvbWUiLCJuYW1lIiwiXyIsImluY2x1ZGVzIiwiZG90UG9zIiwiaW5kZXhPZiIsImNvcHlHcmFkbGVQcm9qZWN0UmVjdXJzaXZlbHkiLCJzb3VyY2VCYXNlRGlyIiwidGFyZ2V0QmFzZURpciIsImZzIiwid2Fsa0RpciIsIml0ZW1QYXRoIiwiaXNEaXJlY3RvcnkiLCJyZWxhdGl2ZVBhdGgiLCJwYXRoIiwicmVsYXRpdmUiLCJ0YXJnZXRQYXRoIiwicmVzb2x2ZSIsImlzSW5HcmFkbGVCdWlsZERpciIsInNlcCIsIm1rZGlycCIsImNvcHlGaWxlIiwicmVxdWlyZU9wdGlvbnMiLCJvcHRzIiwicmVxdWlyZWRLZXlzIiwibWlzc2luZ0tleXMiLCJkaWZmZXJlbmNlIiwia2V5cyIsImlzRW1wdHkiLCJFcnJvciIsInVwZGF0ZURlcGVuZGVuY3lMaW5lcyIsIm9yaWdpbmFsQ29udGVudCIsImRlcGVuZGVuY3lQbGFjZWhvbGRlciIsImRlcGVuZGVuY3lMaW5lcyIsImNvbmZpZ3VyYXRpb25MaW5lcyIsInNwbGl0Iiwic2VhcmNoUmUiLCJSZWdFeHAiLCJlc2NhcGVSZWdFeHAiLCJwbGFjZWhvbGRlckluZGV4IiwiZmluZEluZGV4IiwibGluZSIsInRlc3QiLCJwbGFjZWhvbGRlckxpbmUiLCJpbmRlbnRMZW4iLCJsZW5ndGgiLCJ0cmltU3RhcnQiLCJzcGxpY2UiLCJtYXAiLCJyZXBlYXQiLCJqb2luIiwiZ2V0UGFja2FnZUluZm8iLCJjdXJyZW50RGlyIiwiZGlybmFtZSIsIl9fZmlsZW5hbWUiLCJpc0F0RnNSb290IiwibWFuaWZlc3RQYXRoIiwiZXhpc3RzIiwibWFuaWZlc3RQYXlsb2FkIiwiSlNPTiIsInBhcnNlIiwicmVhZEZpbGUiLCJpZ24iLCJnZXRQYWNrYWdlSW5mb1N5bmMiLCJfZnMiLCJleGlzdHNTeW5jIiwicmVhZEZpbGVTeW5jIl0sInNvdXJjZXMiOlsiLi4vLi4vbGliL3V0aWxzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGZzLCBta2RpcnAgfSBmcm9tICdhcHBpdW0vc3VwcG9ydCc7XG5pbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7XG5pbXBvcnQgX2ZzIGZyb20gJ2ZzJztcblxubGV0IFBBQ0tBR0VfSU5GTyA9IG51bGw7XG5jb25zdCBNT0RVTEVfTkFNRSA9ICdhcHBpdW0tZXNwcmVzc28tZHJpdmVyJztcblxuLyoqXG4gKiBodHRwczovL2FuZHJvaWQuZ29vZ2xlc291cmNlLmNvbS9wbGF0Zm9ybS9mcmFtZXdvcmtzL2Jhc2UvKy9tYXN0ZXIvdG9vbHMvYWFwdC9SZXNvdXJjZS5jcHAjNzU1XG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGFjdGl2aXR5TmFtZVxuICogQHBhcmFtIHtzdHJpbmd9IHBhY2thZ2VOYW1lXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgcXVhbGlmaWVkIGFjdGl2aXR5IG5hbWVcbiAqL1xuZnVuY3Rpb24gcXVhbGlmeUFjdGl2aXR5TmFtZSAoYWN0aXZpdHlOYW1lLCBwYWNrYWdlTmFtZSkge1xuICAvLyBpZiBlaXRoZXIgYWN0aXZpdHkgb3IgcGFja2FnZSBuYW1lIGlzIG5vdCBzZXRcbiAgLy8gb3IgYW55IG9mIHRoZXNlIGNvbnRhaW4gd2lsZGNhcmRzIHRoZW4gdGhlcmUgaXNcbiAgLy8gbm8gcG9pbnQgaW4gcXVhbGlmeWluZyB0aGUgYWN0aXZpdHkgbmFtZVxuICBpZiAoW2FjdGl2aXR5TmFtZSwgcGFja2FnZU5hbWVdLnNvbWUoKG5hbWUpID0+ICFuYW1lIHx8IF8uaW5jbHVkZXMobmFtZSwgJyonKSkpIHtcbiAgICByZXR1cm4gYWN0aXZpdHlOYW1lO1xuICB9XG5cbiAgY29uc3QgZG90UG9zID0gYWN0aXZpdHlOYW1lLmluZGV4T2YoJy4nKTtcbiAgaWYgKGRvdFBvcyA+IDApIHtcbiAgICByZXR1cm4gYWN0aXZpdHlOYW1lO1xuICB9XG4gIHJldHVybiBgJHtwYWNrYWdlTmFtZX0ke2RvdFBvcyA9PT0gMCA/ICcnIDogJy4nfSR7YWN0aXZpdHlOYW1lfWA7XG59XG5cbi8qKlxuICogUmVjdXJzaXZlbHkgY29weSBhbGwgZmlsZXMgZXhjZXB0IGJ1aWxkIGRpcmVjdG9yaWVzIGNvbnRlbnRzXG4gKiBAcGFyYW0gc291cmNlQmFzZURpciB7c3RyaW5nfSBkaXJlY3RvcnkgdG8gY29weSBmaWxlcyBmcm9tXG4gKiBAcGFyYW0gdGFyZ2V0QmFzZURpciB7c3RyaW5nfSBkaXJlY3RvcnkgdG8gY29weSBmaWxlcyB0b1xuICovXG5hc3luYyBmdW5jdGlvbiBjb3B5R3JhZGxlUHJvamVjdFJlY3Vyc2l2ZWx5IChzb3VyY2VCYXNlRGlyLCB0YXJnZXRCYXNlRGlyKSB7XG4gIGF3YWl0IGZzLndhbGtEaXIoc291cmNlQmFzZURpciwgdHJ1ZSwgYXN5bmMgKGl0ZW1QYXRoLCBpc0RpcmVjdG9yeSkgPT4ge1xuICAgIGNvbnN0IHJlbGF0aXZlUGF0aCA9IHBhdGgucmVsYXRpdmUoc291cmNlQmFzZURpciwgaXRlbVBhdGgpO1xuICAgIGNvbnN0IHRhcmdldFBhdGggPSBwYXRoLnJlc29sdmUodGFyZ2V0QmFzZURpciwgcmVsYXRpdmVQYXRoKTtcblxuICAgIGNvbnN0IGlzSW5HcmFkbGVCdWlsZERpciA9IGAke3BhdGguc2VwfSR7aXRlbVBhdGh9YC5pbmNsdWRlcyhgJHtwYXRoLnNlcH1idWlsZCR7cGF0aC5zZXB9YCk7XG4gICAgaWYgKGlzSW5HcmFkbGVCdWlsZERpcikge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmIChpc0RpcmVjdG9yeSkge1xuICAgICAgYXdhaXQgbWtkaXJwKHRhcmdldFBhdGgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhd2FpdCBmcy5jb3B5RmlsZShpdGVtUGF0aCwgdGFyZ2V0UGF0aCk7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHJlcXVpcmVPcHRpb25zIChvcHRzLCByZXF1aXJlZEtleXMgPSBbXSkge1xuICBjb25zdCBtaXNzaW5nS2V5cyA9IF8uZGlmZmVyZW5jZShyZXF1aXJlZEtleXMsIF8ua2V5cyhvcHRzKSk7XG4gIGlmICghXy5pc0VtcHR5KG1pc3NpbmdLZXlzKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihgVGhlIGZvbGxvd2luZyBvcHRpb25zIGFyZSByZXF1aXJlZDogJHttaXNzaW5nS2V5c31gKTtcbiAgfVxuICByZXR1cm4gb3B0cztcbn1cblxuZnVuY3Rpb24gdXBkYXRlRGVwZW5kZW5jeUxpbmVzIChvcmlnaW5hbENvbnRlbnQsIGRlcGVuZGVuY3lQbGFjZWhvbGRlciwgZGVwZW5kZW5jeUxpbmVzKSB7XG4gIGNvbnN0IGNvbmZpZ3VyYXRpb25MaW5lcyA9IG9yaWdpbmFsQ29udGVudC5zcGxpdCgnXFxuJyk7XG4gIGNvbnN0IHNlYXJjaFJlID0gbmV3IFJlZ0V4cChgXlxcXFxzKi8vXFxcXHMqXFxcXGIke18uZXNjYXBlUmVnRXhwKGRlcGVuZGVuY3lQbGFjZWhvbGRlcil9XFxcXGJgLCAnbScpO1xuICBjb25zdCBwbGFjZWhvbGRlckluZGV4ID0gY29uZmlndXJhdGlvbkxpbmVzLmZpbmRJbmRleCgobGluZSkgPT4gc2VhcmNoUmUudGVzdChsaW5lKSk7XG4gIGlmIChwbGFjZWhvbGRlckluZGV4IDwgMCkge1xuICAgIHJldHVybiBvcmlnaW5hbENvbnRlbnQ7XG4gIH1cblxuICBjb25zdCBwbGFjZWhvbGRlckxpbmUgPSBjb25maWd1cmF0aW9uTGluZXNbcGxhY2Vob2xkZXJJbmRleF07XG4gIGNvbnN0IGluZGVudExlbiA9IHBsYWNlaG9sZGVyTGluZS5sZW5ndGggLSBfLnRyaW1TdGFydChwbGFjZWhvbGRlckxpbmUpLmxlbmd0aDtcbiAgY29uZmlndXJhdGlvbkxpbmVzLnNwbGljZShwbGFjZWhvbGRlckluZGV4ICsgMSwgMCwgLi4uKGRlcGVuZGVuY3lMaW5lc1xuICAgIC5tYXAoKGxpbmUpID0+IGAkeycgJy5yZXBlYXQoaW5kZW50TGVuKX0ke2xpbmV9YCkpKTtcbiAgcmV0dXJuIGNvbmZpZ3VyYXRpb25MaW5lcy5qb2luKCdcXG4nKTtcbn1cblxuLyoqXG4gKiBGZXRjaGVzIHRoZSBtb2R1bGUgaW5mbyBmcm9tIHBhY2thZ2UuanNvblxuICpcbiAqIEByZXR1cm5zIHtvYmplY3R9IFRoZSBmdWxsIHBhdGggdG8gbW9kdWxlJ3MgcGFja2FnZS5qc29uIGFuZCBpdHMgcGF5bG9hZFxuICogQHRocm93cyB7RXJyb3J9IElmIHBhY2thZ2UuanNvbiBjYW5ub3QgYmUgZm91bmRcbiAqL1xuYXN5bmMgZnVuY3Rpb24gZ2V0UGFja2FnZUluZm8gKCkge1xuICBpZiAoUEFDS0FHRV9JTkZPKSB7XG4gICAgcmV0dXJuIFBBQ0tBR0VfSU5GTztcbiAgfVxuXG4gIGxldCBjdXJyZW50RGlyID0gcGF0aC5kaXJuYW1lKHBhdGgucmVzb2x2ZShfX2ZpbGVuYW1lKSk7XG4gIGxldCBpc0F0RnNSb290ID0gZmFsc2U7XG4gIHdoaWxlICghaXNBdEZzUm9vdCkge1xuICAgIGNvbnN0IG1hbmlmZXN0UGF0aCA9IHBhdGguam9pbihjdXJyZW50RGlyLCAncGFja2FnZS5qc29uJyk7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChhd2FpdCBmcy5leGlzdHMobWFuaWZlc3RQYXRoKSkge1xuICAgICAgICBjb25zdCBtYW5pZmVzdFBheWxvYWQgPSBKU09OLnBhcnNlKGF3YWl0IGZzLnJlYWRGaWxlKG1hbmlmZXN0UGF0aCwgJ3V0ZjgnKSk7XG4gICAgICAgIGlmIChtYW5pZmVzdFBheWxvYWQubmFtZSA9PT0gTU9EVUxFX05BTUUpIHtcbiAgICAgICAgICBQQUNLQUdFX0lORk8gPSB7XG4gICAgICAgICAgICBtYW5pZmVzdFBhdGgsXG4gICAgICAgICAgICBtYW5pZmVzdFBheWxvYWRcbiAgICAgICAgICB9O1xuICAgICAgICAgIHJldHVybiBQQUNLQUdFX0lORk87XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGNhdGNoIChpZ24pIHt9XG4gICAgY3VycmVudERpciA9IHBhdGguZGlybmFtZShjdXJyZW50RGlyKTtcbiAgICBpc0F0RnNSb290ID0gY3VycmVudERpci5sZW5ndGggPD0gcGF0aC5kaXJuYW1lKGN1cnJlbnREaXIpLmxlbmd0aDtcbiAgfVxuICB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBmaW5kIHRoZSByb290IGZvbGRlciBvZiB0aGUgJHtNT0RVTEVfTkFNRX0gTm9kZS5qcyBtb2R1bGVgKTtcbn1cblxuLyoqXG4gKiBGZXRjaGVzIHRoZSBtb2R1bGUgaW5mbyBmcm9tIHBhY2thZ2UuanNvbiBzeW5jaHJvbm91c2x5XG4gKlxuICogQHJldHVybnMge29iamVjdH0gVGhlIGZ1bGwgcGF0aCB0byBtb2R1bGUncyBwYWNrYWdlLmpzb24gYW5kIGl0cyBwYXlsb2FkXG4gKiBAdGhyb3dzIHtFcnJvcn0gSWYgcGFja2FnZS5qc29uIGNhbm5vdCBiZSBmb3VuZFxuICovXG5mdW5jdGlvbiBnZXRQYWNrYWdlSW5mb1N5bmMgKCkge1xuICBpZiAoUEFDS0FHRV9JTkZPKSB7XG4gICAgcmV0dXJuIFBBQ0tBR0VfSU5GTztcbiAgfVxuXG4gIGxldCBjdXJyZW50RGlyID0gcGF0aC5kaXJuYW1lKHBhdGgucmVzb2x2ZShfX2ZpbGVuYW1lKSk7XG4gIGxldCBpc0F0RnNSb290ID0gZmFsc2U7XG4gIHdoaWxlICghaXNBdEZzUm9vdCkge1xuICAgIGNvbnN0IG1hbmlmZXN0UGF0aCA9IHBhdGguam9pbihjdXJyZW50RGlyLCAncGFja2FnZS5qc29uJyk7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChfZnMuZXhpc3RzU3luYyhtYW5pZmVzdFBhdGgpKSB7XG4gICAgICAgIGNvbnN0IG1hbmlmZXN0UGF5bG9hZCA9IEpTT04ucGFyc2UoX2ZzLnJlYWRGaWxlU3luYyhtYW5pZmVzdFBhdGgsICd1dGY4JykpO1xuICAgICAgICBpZiAobWFuaWZlc3RQYXlsb2FkLm5hbWUgPT09IE1PRFVMRV9OQU1FKSB7XG4gICAgICAgICAgUEFDS0FHRV9JTkZPID0ge1xuICAgICAgICAgICAgbWFuaWZlc3RQYXRoLFxuICAgICAgICAgICAgbWFuaWZlc3RQYXlsb2FkXG4gICAgICAgICAgfTtcbiAgICAgICAgICByZXR1cm4gUEFDS0FHRV9JTkZPO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBjYXRjaCAoaWduKSB7fVxuICAgIGN1cnJlbnREaXIgPSBwYXRoLmRpcm5hbWUoY3VycmVudERpcik7XG4gICAgaXNBdEZzUm9vdCA9IGN1cnJlbnREaXIubGVuZ3RoIDw9IHBhdGguZGlybmFtZShjdXJyZW50RGlyKS5sZW5ndGg7XG4gIH1cbiAgdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgZmluZCB0aGUgcm9vdCBmb2xkZXIgb2YgdGhlICR7TU9EVUxFX05BTUV9IE5vZGUuanMgbW9kdWxlYCk7XG59XG5cbmV4cG9ydCB7XG4gIHF1YWxpZnlBY3Rpdml0eU5hbWUsIGNvcHlHcmFkbGVQcm9qZWN0UmVjdXJzaXZlbHksIHJlcXVpcmVPcHRpb25zLFxuICB1cGRhdGVEZXBlbmRlbmN5TGluZXMsIGdldFBhY2thZ2VJbmZvLCBnZXRQYWNrYWdlSW5mb1N5bmNcbn07XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBLElBQUlBLFlBQVksR0FBRyxJQUFJO0FBQ3ZCLE1BQU1DLFdBQVcsR0FBRyx3QkFBd0I7QUFTNUMsU0FBU0MsbUJBQW1CLENBQUVDLFlBQVksRUFBRUMsV0FBVyxFQUFFO0VBSXZELElBQUksQ0FBQ0QsWUFBWSxFQUFFQyxXQUFXLENBQUMsQ0FBQ0MsSUFBSSxDQUFFQyxJQUFJLElBQUssQ0FBQ0EsSUFBSSxJQUFJQyxlQUFDLENBQUNDLFFBQVEsQ0FBQ0YsSUFBSSxFQUFFLEdBQUcsQ0FBQyxDQUFDLEVBQUU7SUFDOUUsT0FBT0gsWUFBWTtFQUNyQjtFQUVBLE1BQU1NLE1BQU0sR0FBR04sWUFBWSxDQUFDTyxPQUFPLENBQUMsR0FBRyxDQUFDO0VBQ3hDLElBQUlELE1B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