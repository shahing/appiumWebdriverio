{"version":3,"file":"session.js","names":["SessionMixin","Base","SessionCommands","getSessions","ret","sessionId","push","id","capabilities","caps","getSession","eventTimings","events","eventHistory"],"sources":["../../../../lib/basedriver/commands/session.js"],"sourcesContent":["/* eslint-disable no-unused-vars */\n/* eslint-disable require-await */\n// @ts-check\nimport _ from 'lodash';\n\n/**\n * @param {SettingsBase} Base\n * @returns {SessionBase}\n */\nexport function SessionMixin(Base) {\n  /**\n   * @implements {ISessionCommands}\n   */\n  class SessionCommands extends Base {\n    /**\n     * @returns {Promise<MultiSessionData[]>}\n     */\n    async getSessions() {\n      let ret = [];\n\n      if (this.sessionId) {\n        ret.push({\n          id: this.sessionId,\n          capabilities: this.caps,\n        });\n      }\n\n      return ret;\n    }\n\n    /**\n     * @returns {Promise<SingularSessionData>}\n     */\n    async getSession() {\n      if (this.caps.eventTimings) {\n        return {...this.caps, events: this.eventHistory};\n      }\n      return this.caps;\n    }\n  }\n\n  return SessionCommands;\n}\n\n/**\n * @typedef {import('@appium/types').SessionCommands} ISessionCommands\n * @typedef {import('@appium/types').SingularSessionData} SingularSessionData\n * @typedef {import('@appium/types').MultiSessionData} MultiSessionData\n * @typedef {import('./settings').SettingsBase} SettingsBase\n * @typedef {import('../driver').BaseDriverBase<import('@appium/types').TimeoutCommands & import('@appium/types').EventCommands & import('@appium/types').FindCommands & import('@appium/types').LogCommands & import('@appium/types').SettingsCommands & ISessionCommands>} SessionBase\n */\n"],"mappings":";;;;;;;;;AAGA;;;;AAMO,SAASA,YAAT,CAAsBC,IAAtB,EAA4B;EAIjC,MAAMC,eAAN,SAA8BD,IAA9B,CAAmC;IAIhB,MAAXE,WAAW,GAAG;MAClB,IAAIC,GAAG,GAAG,EAAV;;MAEA,IAAI,KAAKC,SAAT,EAAoB;QAClBD,GAAG,CAACE,IAAJ,CAAS;UACPC,EAAE,EAAE,KAAKF,SADF;UAEPG,YAAY,EAAE,KAAKC;QAFZ,CAAT;MAID;;MAED,OAAOL,GAAP;IACD;;IAKe,MAAVM,UAAU,GAAG;MACjB,IAAI,KAAKD,IAAL,CAAUE,YAAd,EAA4B;QAC1B,OAAO,EAAC,GAAG,KAAKF,IAAT;UAAeG,MAAM,EAAE,KAAKC;QAA5B,CAAP;MACD;;MACD,OAAO,KAAKJ,IAAZ;IACD;;EAzBgC;;EA4BnC,OAAOP,eAAP;AACD"}