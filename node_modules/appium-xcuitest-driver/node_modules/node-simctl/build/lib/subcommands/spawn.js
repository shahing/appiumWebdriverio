"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
require("source-map-support/register");
var _lodash = _interopRequireDefault(require("lodash"));
const commands = {};
commands.spawnProcess = async function spawnProcess(args, env = {}) {
  if (_lodash.default.isEmpty(args)) {
    throw new Error('Spawn arguments are required');
  }
  return await this.exec('spawn', {
    args: [this.requireUdid('spawn'), ...(_lodash.default.isArray(args) ? args : [args])],
    env
  });
};
commands.spawnSubProcess = async function spawnSubProcess(args, env = {}) {
  if (_lodash.default.isEmpty(args)) {
    throw new Error('Spawn arguments are required');
  }
  return await this.exec('spawn', {
    args: [this.requireUdid('spawn'), ...(_lodash.default.isArray(args) ? args : [args])],
    env,
    asynchronous: true
  });
};
var _default = commands;
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb21tYW5kcyIsInNwYXduUHJvY2VzcyIsImFyZ3MiLCJlbnYiLCJfIiwiaXNFbXB0eSIsIkVycm9yIiwiZXhlYyIsInJlcXVpcmVVZGlkIiwiaXNBcnJheSIsInNwYXduU3ViUHJvY2VzcyIsImFzeW5jaHJvbm91cyJdLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xpYi9zdWJjb21tYW5kcy9zcGF3bi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuXG5cbmNvbnN0IGNvbW1hbmRzID0ge307XG5cbi8qKlxuICogU3Bhd24gdGhlIHBhcnRpY3VsYXIgcHJvY2VzcyBvbiBTaW11bGF0b3IuXG4gKiBJdCBpcyByZXF1aXJlZCB0aGF0IFNpbXVsYXRvciBpcyBpbiBfYm9vdGVkXyBzdGF0ZS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ3xBcnJheTxzdHJpbmc+fSBhcmdzIC0gU3Bhd24gYXJndW1lbnRzXG4gKiBAcGFyYW0ge29iamVjdH0gZW52IFt7fV0gLSBBZGRpdGlvbmFsIGVudmlyb25tZW50IHZhcmlhYmxlcyBtYXBwaW5nLlxuICogQHJldHVybiB7RXhlY1Jlc3VsdH0gQ29tbWFuZCBleGVjdXRpb24gcmVzdWx0LlxuICogQHRocm93cyB7RXJyb3J9IElmIHRoZSBjb3JyZXNwb25kaW5nIHNpbWN0bCBzdWJjb21tYW5kIGNvbW1hbmRcbiAqICAgICAgICAgICAgICAgICByZXR1cm5zIG5vbi16ZXJvIHJldHVybiBjb2RlLlxuICogQHRocm93cyB7RXJyb3J9IElmIHRoZSBgdWRpZGAgaW5zdGFuY2UgcHJvcGVydHkgaXMgdW5zZXRcbiAqL1xuY29tbWFuZHMuc3Bhd25Qcm9jZXNzID0gYXN5bmMgZnVuY3Rpb24gc3Bhd25Qcm9jZXNzIChhcmdzLCBlbnYgPSB7fSkge1xuICBpZiAoXy5pc0VtcHR5KGFyZ3MpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdTcGF3biBhcmd1bWVudHMgYXJlIHJlcXVpcmVkJyk7XG4gIH1cblxuICByZXR1cm4gYXdhaXQgdGhpcy5leGVjKCdzcGF3bicsIHtcbiAgICBhcmdzOiBbdGhpcy5yZXF1aXJlVWRpZCgnc3Bhd24nKSwgLi4uKF8uaXNBcnJheShhcmdzKSA/IGFyZ3MgOiBbYXJnc10pXSxcbiAgICBlbnYsXG4gIH0pO1xufTtcblxuLyoqXG4gKiBQcmVwYXJlIFN1YlByb2Nlc3MgaW5zdGFuY2UgZm9yIGEgbmV3IHByb2Nlc3MsIHdoaWNoIGlzIGdvaW5nIHRvIGJlIHNwYXduZWRcbiAqIG9uIFNpbXVsYXRvci5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ3xBcnJheTxzdHJpbmc+fSBhcmdzIC0gU3Bhd24gYXJndW1lbnRzXG4gKiBAcGFyYW0ge29iamVjdH0gZW52IFt7fV0gLSBBZGRpdGlvbmFsIGVudmlyb25tZW50IHZhcmlhYmxlcyBtYXBwaW5nLlxuICogQHJldHVybiB7U3ViUHJvY2Vzc30gVGhlIGluc3RhbmNlIG9mIHRoZSBwcm9jZXNzIHRvIGJlIHNwYXduZWQuXG4gKiBAdGhyb3dzIHtFcnJvcn0gSWYgdGhlIGB1ZGlkYCBpbnN0YW5jZSBwcm9wZXJ0eSBpcyB1bnNldFxuICovXG5jb21tYW5kcy5zcGF3blN1YlByb2Nlc3MgPSBhc3luYyBmdW5jdGlvbiBzcGF3blN1YlByb2Nlc3MgKGFyZ3MsIGVudiA9IHt9KSB7XG4gIGlmIChfLmlzRW1wdHkoYXJncykpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1NwYXduIGFyZ3VtZW50cyBhcmUgcmVxdWlyZWQnKTtcbiAgfVxuXG4gIHJldHVybiBhd2FpdCB0aGlzLmV4ZWMoJ3NwYXduJywge1xuICAgIGFyZ3M6IFt0aGlzLnJlcXVpcmVVZGlkKCdzcGF3bicpLCAuLi4oXy5pc0FycmF5KGFyZ3MpID8gYXJncyA6IFthcmdzXSldLFxuICAgIGVudixcbiAgICBhc3luY2hyb25vdXM6IHRydWUsXG4gIH0pO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgY29tbWFuZHM7XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7QUFHQSxNQUFNQSxRQUFRLEdBQUcsQ0FBQyxDQUFDO0FBYW5CQSxRQUFRLENBQUNDLFlBQVksR0FBRyxlQUFlQSxZQUFZLENBQUVDLElBQUksRUFBRUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxFQUFFO0VBQ25FLElBQUlDLGVBQUMsQ0FBQ0MsT0FBTyxDQUFDSCxJQUFJLENBQUMsRUFBRTtJQUNuQixNQUFNLElBQUlJLEtBQUssQ0FBQyw4QkFBOEIsQ0FBQztFQUNqRDtFQUVBLE9BQU8sTUFBTSxJQUFJLENBQUNDLElBQUksQ0FBQyxPQUFPLEVBQUU7SUFDOUJMLElBQUksRUFBRSxDQUFDLElBQUksQ0FBQ00sV0FBVyxDQUFDLE9BQU8sQ0FBQyxFQUFFLElBQUlKLGVBQUMsQ0FBQ0ssT0FBTyxDQUFDUCxJQUFJLENBQUMsR0FBR0EsSUFBSSxHQUFHLENBQUNBLElBQUksQ0FBQyxDQUFDLENBQUM7SUFDdkVDO0VBQ0YsQ0FBQyxDQUFDO0FBQ0osQ0FBQztBQVdESCxRQUFRLENBQUNVLGVBQWUsR0FBRyxlQUFlQSxlQUFlLENBQUVSLElBQUksRUFBRUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxFQUFFO0VBQ3pFLElBQUlDLGVBQUMsQ0FBQ0MsT0FBTyxDQUFDSCxJQUFJLENBQUMsRUFBRTtJQUNuQixNQUFNLElBQUlJLEtBQUssQ0FBQyw4QkFBOEIsQ0FBQztFQUNqRDtFQUVBLE9BQU8sTUFBTSxJQUFJLENBQUNDLElBQUksQ0FBQyxPQUFPLEVBQUU7SUFDOUJMLElBQUksRUFBRSxDQUFDLElBQUksQ0FBQ00sV0FBVyxDQUFDLE9BQU8sQ0FBQyxFQUFFLElBQUlKLGVBQUMsQ0FBQ0ssT0FBTyxDQUFDUCxJQUFJLENBQUMsR0FBR0EsSUFBSSxHQUFHLENBQUNBLElBQUksQ0FBQyxDQUFDLENBQUM7SUFDdkVDLEdBQUc7SUFDSFEsWUFBWSxFQUFFO0VBQ2hCLENBQUMsQ0FBQztBQUNKLENBQUM7QUFBQyxlQUVhWCxRQUFRO0FBQUEifQ==