"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.helpers = exports.default = exports.commands = void 0;
require("source-map-support/register");
var _xmldom = _interopRequireDefault(require("@xmldom/xmldom"));
var _js2xmlparser = _interopRequireDefault(require("js2xmlparser2"));
let commands = {},
  helpers = {},
  extensions = {};
exports.helpers = helpers;
exports.commands = commands;
const APPIUM_AUT_TAG = 'AppiumAUT';
const APPIUM_SRC_XML = `<?xml version="1.0" encoding="UTF-8"?><${APPIUM_AUT_TAG}/>`;
const APPIUM_TAG_PATTERN = new RegExp(`</?${APPIUM_AUT_TAG}/?>`);
commands.getPageSource = async function getPageSource() {
  if (this.isWebContext()) {
    const script = 'return document.documentElement.outerHTML';
    return await this.executeAtom('execute_script', [script, []]);
  }
  if ((await this.settings.getSettings()).useJSONSource) {
    const srcTree = await this.mobileGetSource({
      format: 'json'
    });
    return getSourceXml(getTreeForXML(srcTree));
  }
  return await this.getNativePageSource();
};
helpers.getNativePageSource = async function getNativePageSource() {
  const srcTree = await this.proxyCommand(`/source?scope=${APPIUM_AUT_TAG}`, 'GET');
  if (APPIUM_TAG_PATTERN.test(srcTree)) {
    return srcTree;
  }
  const parser = new _xmldom.default.DOMParser();
  const tree = parser.parseFromString(srcTree);
  const doc = parser.parseFromString(APPIUM_SRC_XML);
  doc.documentElement.appendChild(tree.documentElement);
  return new _xmldom.default.XMLSerializer().serializeToString(doc);
};
helpers.mobileGetSource = async function mobileGetSource(opts = {}) {
  const paramsMap = {
    format: opts.format || 'xml',
    scope: APPIUM_AUT_TAG
  };
  if (opts.excludedAttributes) {
    paramsMap.excluded_attributes = opts.excludedAttributes;
  }
  const query = Object.entries(paramsMap).map(([k, v]) => `${encodeURIComponent(k)}=${encodeURIComponent(v)}`).join('&');
  return await this.proxyCommand(`/source?${query}`, 'GET');
};
function getTreeForXML(srcTree) {
  function getTree(element, elementIndex, parentPath) {
    let curPath = `${parentPath}/${elementIndex}`;
    let rect = element.rect || {};
    let subtree = {
      '@': {
        type: `XCUIElementType${element.type}`,
        enabled: parseInt(element.isEnabled, 10) === 1,
        visible: parseInt(element.isVisible, 10) === 1,
        x: rect.x,
        y: rect.y,
        width: rect.width,
        height: rect.height
      },
      '>': []
    };
    if (element.name !== null) {
      subtree['@'].name = element.name;
    }
    if (element.label !== null) {
      subtree['@'].label = element.label;
    }
    if (element.value !== null) {
      subtree['@'].value = element.value;
    }
    for (let i = 0; i < (element.children || []).length; i++) {
      subtree['>'].push(getTree(element.children[i], i, curPath));
    }
    return {
      [`XCUIElementType${element.type}`]: subtree
    };
  }
  let tree = getTree(srcTree, 0, '');
  return tree;
}
function getSourceXml(jsonSource) {
  return (0, _js2xmlparser.default)('AppiumAUT', jsonSource, {
    wrapArray: {
      enabled: false,
      elementName: 'element'
    },
    declaration: {
      include: true
    },
    prettyPrinting: {
      indentString: '  '
    }
  });
}
Object.assign(extensions, commands, helpers);
var _default = extensions;
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb21tYW5kcyIsImhlbHBlcnMiLCJleHRlbnNpb25zIiwiQVBQSVVNX0FVVF9UQUciLCJBUFBJVU1fU1JDX1hNTCIsIkFQUElVTV9UQUdfUEFUVEVSTiIsIlJlZ0V4cCIsImdldFBhZ2VTb3VyY2UiLCJpc1dlYkNvbnRleHQiLCJzY3JpcHQiLCJleGVjdXRlQXRvbSIsInNldHRpbmdzIiwiZ2V0U2V0dGluZ3MiLCJ1c2VKU09OU291cmNlIiwic3JjVHJlZSIsIm1vYmlsZUdldFNvdXJjZSIsImZvcm1hdCIsImdldFNvdXJjZVhtbCIsImdldFRyZWVGb3JYTUwiLCJnZXROYXRpdmVQYWdlU291cmNlIiwicHJveHlDb21tYW5kIiwidGVzdCIsInBhcnNlciIsInhtbGRvbSIsIkRPTVBhcnNlciIsInRyZWUiLCJwYXJzZUZyb21TdHJpbmciLCJkb2MiLCJkb2N1bWVudEVsZW1lbnQiLCJhcHBlbmRDaGlsZCIsIlhNTFNlcmlhbGl6ZXIiLCJzZXJpYWxpemVUb1N0cmluZyIsIm9wdHMiLCJwYXJhbXNNYXAiLCJzY29wZSIsImV4Y2x1ZGVkQXR0cmlidXRlcyIsImV4Y2x1ZGVkX2F0dHJpYnV0ZXMiLCJxdWVyeSIsIk9iamVjdCIsImVudHJpZXMiLCJtYXAiLCJrIiwidiIsImVuY29kZVVSSUNvbXBvbmVudCIsImpvaW4iLCJnZXRUcmVlIiwiZWxlbWVudCIsImVsZW1lbnRJbmRleCIsInBhcmVudFBhdGgiLCJjdXJQYXRoIiwicmVjdCIsInN1YnRyZWUiLCJ0eXBlIiwiZW5hYmxlZCIsInBhcnNlSW50IiwiaXNFbmFibGVkIiwidmlzaWJsZSIsImlzVmlzaWJsZSIsIngiLCJ5Iiwid2lkdGgiLCJoZWlnaHQiLCJuYW1lIiwibGFiZWwiLCJ2YWx1ZSIsImkiLCJjaGlsZHJlbiIsImxlbmd0aCIsInB1c2giLCJqc29uU291cmNlIiwianMyeG1sIiwid3JhcEFycmF5IiwiZWxlbWVudE5hbWUiLCJkZWNsYXJhdGlvbiIsImluY2x1ZGUiLCJwcmV0dHlQcmludGluZyIsImluZGVudFN0cmluZyIsImFzc2lnbiJdLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xpYi9jb21tYW5kcy9zb3VyY2UuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHhtbGRvbSBmcm9tICdAeG1sZG9tL3htbGRvbSc7XG5pbXBvcnQganMyeG1sIGZyb20gJ2pzMnhtbHBhcnNlcjInO1xuXG5cbmxldCBjb21tYW5kcyA9IHt9LCBoZWxwZXJzID0ge30sIGV4dGVuc2lvbnMgPSB7fTtcblxuY29uc3QgQVBQSVVNX0FVVF9UQUcgPSAnQXBwaXVtQVVUJztcbmNvbnN0IEFQUElVTV9TUkNfWE1MID0gYDw/eG1sIHZlcnNpb249XCIxLjBcIiBlbmNvZGluZz1cIlVURi04XCI/Pjwke0FQUElVTV9BVVRfVEFHfS8+YDtcbmNvbnN0IEFQUElVTV9UQUdfUEFUVEVSTiA9IG5ldyBSZWdFeHAoYDwvPyR7QVBQSVVNX0FVVF9UQUd9Lz8+YCk7XG5cblxuY29tbWFuZHMuZ2V0UGFnZVNvdXJjZSA9IGFzeW5jIGZ1bmN0aW9uIGdldFBhZ2VTb3VyY2UgKCkge1xuICBpZiAodGhpcy5pc1dlYkNvbnRleHQoKSkge1xuICAgIGNvbnN0IHNjcmlwdCA9ICdyZXR1cm4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Lm91dGVySFRNTCc7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuZXhlY3V0ZUF0b20oJ2V4ZWN1dGVfc2NyaXB0JywgW3NjcmlwdCwgW11dKTtcbiAgfVxuXG4gIGlmICgoYXdhaXQgdGhpcy5zZXR0aW5ncy5nZXRTZXR0aW5ncygpKS51c2VKU09OU291cmNlKSB7XG4gICAgY29uc3Qgc3JjVHJlZSA9IGF3YWl0IHRoaXMubW9iaWxlR2V0U291cmNlKHtmb3JtYXQ6ICdqc29uJ30pO1xuICAgIHJldHVybiBnZXRTb3VyY2VYbWwoZ2V0VHJlZUZvclhNTChzcmNUcmVlKSk7XG4gIH1cbiAgcmV0dXJuIGF3YWl0IHRoaXMuZ2V0TmF0aXZlUGFnZVNvdXJjZSgpO1xufTtcblxuaGVscGVycy5nZXROYXRpdmVQYWdlU291cmNlID0gYXN5bmMgZnVuY3Rpb24gZ2V0TmF0aXZlUGFnZVNvdXJjZSAoKSB7XG4gIGNvbnN0IHNyY1RyZWUgPSBhd2FpdCB0aGlzLnByb3h5Q29tbWFuZChgL3NvdXJjZT9zY29wZT0ke0FQUElVTV9BVVRfVEFHfWAsICdHRVQnKTtcbiAgaWYgKEFQUElVTV9UQUdfUEFUVEVSTi50ZXN0KHNyY1RyZWUpKSB7XG4gICAgcmV0dXJuIHNyY1RyZWU7XG4gIH1cbiAgLy8gVGhpcyBtaWdodCBvbmx5IGhhcHBlbiBpZiB0aGUgZHJpdmVyIGlzIHVzaW5nIGFuIG9sZGVyL2NhY2hlZCBXREFcbiAgLy8gYnVpbGQgKGUuZy4gYmVsb3cgMy4xNi4wKVxuICAvLyBUT0RPOiByZW1vdmUgdGhpcyBibG9jayBhZnRlciBhIHdoaWxlXG4gIGNvbnN0IHBhcnNlciA9IG5ldyB4bWxkb20uRE9NUGFyc2VyKCk7XG4gIGNvbnN0IHRyZWUgPSBwYXJzZXIucGFyc2VGcm9tU3RyaW5nKHNyY1RyZWUpO1xuICBjb25zdCBkb2MgPSBwYXJzZXIucGFyc2VGcm9tU3RyaW5nKEFQUElVTV9TUkNfWE1MKTtcbiAgZG9jLmRvY3VtZW50RWxlbWVudC5hcHBlbmRDaGlsZCh0cmVlLmRvY3VtZW50RWxlbWVudCk7XG4gIHJldHVybiBuZXcgeG1sZG9tLlhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyhkb2MpO1xufTtcblxuaGVscGVycy5tb2JpbGVHZXRTb3VyY2UgPSBhc3luYyBmdW5jdGlvbiBtb2JpbGVHZXRTb3VyY2UgKG9wdHMgPSB7fSkge1xuICBjb25zdCBwYXJhbXNNYXAgPSB7XG4gICAgZm9ybWF0OiBvcHRzLmZvcm1hdCB8fCAneG1sJyxcbiAgICBzY29wZTogQVBQSVVNX0FVVF9UQUcsXG4gIH07XG4gIGlmIChvcHRzLmV4Y2x1ZGVkQXR0cmlidXRlcykge1xuICAgIHBhcmFtc01hcC5leGNsdWRlZF9hdHRyaWJ1dGVzID0gb3B0cy5leGNsdWRlZEF0dHJpYnV0ZXM7XG4gIH1cbiAgY29uc3QgcXVlcnkgPSBPYmplY3QuZW50cmllcyhwYXJhbXNNYXApXG4gICAgLm1hcCgoW2ssIHZdKSA9PiBgJHtlbmNvZGVVUklDb21wb25lbnQoayl9PSR7ZW5jb2RlVVJJQ29tcG9uZW50KHYpfWApXG4gICAgLmpvaW4oJyYnKTtcbiAgcmV0dXJuIGF3YWl0IHRoaXMucHJveHlDb21tYW5kKGAvc291cmNlPyR7cXVlcnl9YCwgJ0dFVCcpO1xufTtcblxuLyogV2lsbCBnZXQgSlNPTiBvZiB0aGUgZm9ybTpcbiAqICAgeyBpc0VuYWJsZWQ6ICcxJyxcbiAqICAgICBpc1Zpc2libGU6ICcxJyxcbiAqICAgICBmcmFtZTogJ3t7MCwgMH0sIHszNzUsIDY2N319JyxcbiAqICAgICBjaGlsZHJlbjpcbiAqICAgICAgWyB7IGlzRW5hYmxlZDogJzEnLFxuICogICAgICAgICAgaXNWaXNpYmxlOiAnMScsXG4gKiAgICAgICAgICBmcmFtZTogJ3t7MCwgMH0sIHszNzUsIDY2N319JyxcbiAqICAgICAgICAgIGNoaWxkcmVuOiBbXSxcbiAqICAgICAgICAgIHJlY3Q6IHsgeDogMCwgeTogMCwgd2lkdGg6IDM3NSwgaGVpZ2h0OiA2NjcgfSxcbiAqICAgICAgICAgIHZhbHVlOiBudWxsLFxuICogICAgICAgICAgbGFiZWw6IG51bGwsXG4gKiAgICAgICAgICB0eXBlOiAnT3RoZXInLFxuICogICAgICAgICAgbmFtZTogbnVsbCxcbiAqICAgICAgICAgIHJhd0lkZW50aWZpZXI6IG51bGwgfSxcbiAqICAgICByZWN0OiB7IG9yaWdpbjogeyB4OiAwLCB5OiAwIH0sIHNpemU6IHsgd2lkdGg6IDM3NSwgaGVpZ2h0OiA2NjcgfSB9LFxuICogICAgIHZhbHVlOiBudWxsLFxuICogICAgIGxhYmVsOiAnVUlDYXRhbG9nJyxcbiAqICAgICB0eXBlOiAnQXBwbGljYXRpb24nLFxuICogICAgIG5hbWU6ICdVSUNhdGFsb2cnLFxuICogICAgIHJhd0lkZW50aWZpZXI6IG51bGwgfVxuICovXG5mdW5jdGlvbiBnZXRUcmVlRm9yWE1MIChzcmNUcmVlKSB7XG4gIGZ1bmN0aW9uIGdldFRyZWUgKGVsZW1lbnQsIGVsZW1lbnRJbmRleCwgcGFyZW50UGF0aCkge1xuICAgIGxldCBjdXJQYXRoID0gYCR7cGFyZW50UGF0aH0vJHtlbGVtZW50SW5kZXh9YDtcbiAgICBsZXQgcmVjdCA9IGVsZW1lbnQucmVjdCB8fCB7fTtcbiAgICBsZXQgc3VidHJlZSA9IHtcbiAgICAgICdAJzoge1xuICAgICAgICB0eXBlOiBgWENVSUVsZW1lbnRUeXBlJHtlbGVtZW50LnR5cGV9YCxcbiAgICAgICAgZW5hYmxlZDogcGFyc2VJbnQoZWxlbWVudC5pc0VuYWJsZWQsIDEwKSA9PT0gMSxcbiAgICAgICAgdmlzaWJsZTogcGFyc2VJbnQoZWxlbWVudC5pc1Zpc2libGUsIDEwKSA9PT0gMSxcbiAgICAgICAgeDogcmVjdC54LFxuICAgICAgICB5OiByZWN0LnksXG4gICAgICAgIHdpZHRoOiByZWN0LndpZHRoLFxuICAgICAgICBoZWlnaHQ6IHJlY3QuaGVpZ2h0LFxuICAgICAgfSxcbiAgICAgICc+JzogW11cbiAgICB9O1xuICAgIGlmIChlbGVtZW50Lm5hbWUgIT09IG51bGwpIHtcbiAgICAgIHN1YnRyZWVbJ0AnXS5uYW1lID0gZWxlbWVudC5uYW1lO1xuICAgIH1cbiAgICBpZiAoZWxlbWVudC5sYWJlbCAhPT0gbnVsbCkge1xuICAgICAgc3VidHJlZVsnQCddLmxhYmVsID0gZWxlbWVudC5sYWJlbDtcbiAgICB9XG4gICAgaWYgKGVsZW1lbnQudmFsdWUgIT09IG51bGwpIHtcbiAgICAgIHN1YnRyZWVbJ0AnXS52YWx1ZSA9IGVsZW1lbnQudmFsdWU7XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgKGVsZW1lbnQuY2hpbGRyZW4gfHwgW10pLmxlbmd0aDsgaSsrKSB7XG4gICAgICBzdWJ0cmVlWyc+J10ucHVzaChnZXRUcmVlKGVsZW1lbnQuY2hpbGRyZW5baV0sIGksIGN1clBhdGgpKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIFtgWENVSUVsZW1lbnRUeXBlJHtlbGVtZW50LnR5cGV9YF06IHN1YnRyZWVcbiAgICB9O1xuICB9XG4gIGxldCB0cmVlID0gZ2V0VHJlZShzcmNUcmVlLCAwLCAnJyk7XG4gIHJldHVybiB0cmVlO1xufVxuXG5mdW5jdGlvbiBnZXRTb3VyY2VYbWwgKGpzb25Tb3VyY2UpIHtcbiAgcmV0dXJuIGpzMnhtbCgnQXBwaXVtQVVUJywganNvblNvdXJjZSwge1xuICAgIHdyYXBBcnJheToge2VuYWJsZWQ6IGZhbHNlLCBlbGVtZW50TmFtZTogJ2VsZW1lbnQnfSxcbiAgICBkZWNsYXJhdGlvbjoge2luY2x1ZGU6IHRydWV9LFxuICAgIHByZXR0eVByaW50aW5nOiB7aW5kZW50U3RyaW5nOiAnICAnfVxuICB9KTtcbn1cblxuXG5PYmplY3QuYXNzaWduKGV4dGVuc2lvbnMsIGNvbW1hbmRzLCBoZWxwZXJzKTtcbmV4cG9ydCB7IGNvbW1hbmRzLCBoZWxwZXJzIH07XG5leHBvcnQgZGVmYXVsdCBleHRlbnNpb25zO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBO0FBQ0E7QUFHQSxJQUFJQSxRQUFRLEdBQUcsQ0FBQyxDQUFDO0VBQUVDLE9BQU8sR0FBRyxDQUFDLENBQUM7RUFBRUMsVUFBVSxHQUFHLENBQUMsQ0FBQztBQUFDO0FBQUE7QUFFakQsTUFBTUMsY0FBYyxHQUFHLFdBQVc7QUFDbEMsTUFBTUMsY0FBYyxHQUFJLDBDQUF5Q0QsY0FBZSxJQUFHO0FBQ25GLE1BQU1FLGtCQUFrQixHQUFHLElBQUlDLE1BQU0sQ0FBRSxNQUFLSCxjQUFlLEtBQUksQ0FBQztBQUdoRUgsUUFBUSxDQUFDTyxhQUFhLEdBQUcsZUFBZUEsYUFBYSxHQUFJO0VBQ3ZELElBQUksSUFBSSxDQUFDQyxZQUFZLEVBQUUsRUFBRTtJQUN2QixNQUFNQyxNQUFNLEdBQUcsMkNBQTJDO0lBQzFELE9BQU8sTUFBTSxJQUFJLENBQUNDLFdBQVcsQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDRCxNQUFNLEVBQUUsRUFBRSxDQUFDLENBQUM7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