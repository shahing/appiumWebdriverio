"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.XCUITestDriver = void 0;
require("source-map-support/register");
var _driver = require("appium/driver");
var _support = require("appium/support");
var _lodash = _interopRequireDefault(require("lodash"));
var _url = _interopRequireDefault(require("url"));
var _appiumWebdriveragent = require("appium-webdriveragent");
var _lruCache = _interopRequireDefault(require("lru-cache"));
var _simulatorManagement = require("./simulator-management");
var _appiumIosSimulator = require("appium-ios-simulator");
var _asyncbox = require("asyncbox");
var _appUtils = require("./app-utils");
var _desiredCaps = require("./desired-caps");
var _index = _interopRequireDefault(require("./commands/index"));
var _utils = require("./utils");
var _realDeviceManagement = require("./real-device-management");
var _bluebird = _interopRequireDefault(require("bluebird"));
var _asyncLock = _interopRequireDefault(require("async-lock"));
var _path = _interopRequireDefault(require("path"));
var _appiumIdb = _interopRequireDefault(require("appium-idb"));
var _deviceConnectionsFactory = _interopRequireDefault(require("./device-connections-factory"));
var _pyIosDeviceClient = _interopRequireDefault(require("./py-ios-device-client"));
const SHUTDOWN_OTHER_FEAT_NAME = 'shutdown_other_sims';
const CUSTOMIZE_RESULT_BUNDPE_PATH = 'customize_result_bundle_path';
const SUPPORTED_EXTENSIONS = [_appUtils.IPA_EXT, _appUtils.APP_EXT];
const MAX_ARCHIVE_SCAN_DEPTH = 1;
const defaultServerCaps = {
  webStorageEnabled: false,
  locationContextEnabled: false,
  browserName: '',
  platform: 'MAC',
  javascriptEnabled: true,
  databaseEnabled: false,
  takesScreenshot: true,
  networkConnectionEnabled: false
};
const WDA_SIM_STARTUP_RETRIES = 2;
const WDA_REAL_DEV_STARTUP_RETRIES = 1;
const WDA_REAL_DEV_TUTORIAL_URL = 'https://github.com/appium/appium-xcuitest-driver/blob/master/docs/real-device-config.md';
const WDA_STARTUP_RETRY_INTERVAL = 10000;
const DEFAULT_SETTINGS = {
  nativeWebTap: false,
  nativeWebTapStrict: false,
  useJSONSource: false,
  shouldUseCompactResponses: true,
  elementResponseAttributes: 'type,label',
  mjpegServerScreenshotQuality: 25,
  mjpegServerFramerate: 10,
  screenshotQuality: 1,
  mjpegScalingFactor: 100,
  reduceMotion: null
};
const SHARED_RESOURCES_GUARD = new _asyncLock.default();
const WEB_ELEMENTS_CACHE_SIZE = 500;
const SUPPORTED_ORIENATIONS = ['LANDSCAPE', 'PORTRAIT'];
const NO_PROXY_NATIVE_LIST = [['DELETE', /window/], ['GET', /^\/session\/[^\/]+$/], ['GET', /alert_text/], ['GET', /alert\/[^\/]+/], ['GET', /appium/], ['GET', /attribute/], ['GET', /context/], ['GET', /location/], ['GET', /log/], ['GET', /screenshot/], ['GET', /size/], ['GET', /source/], ['GET', /timeouts$/], ['GET', /url/], ['GET', /window/], ['POST', /accept_alert/], ['POST', /actions$/], ['POST', /alert_text/], ['POST', /alert\/[^\/]+/], ['POST', /appium/], ['POST', /appium\/device\/is_locked/], ['POST', /appium\/device\/lock/], ['POST', /appium\/device\/unlock/], ['POST', /back/], ['POST', /clear/], ['POST', /context/], ['POST', /dismiss_alert/], ['POST', /element\/active/], ['POST', /element$/], ['POST', /elements$/], ['POST', /execute/], ['POST', /keys/], ['POST', /log/], ['POST', /moveto/], ['POST', /receive_async_response/], ['POST', /session\/[^\/]+\/location/], ['POST', /shake/], ['POST', /timeouts/], ['POST', /touch/], ['POST', /url/], ['POST', /value/], ['POST', /window/], ['DELETE', /cookie/], ['GET', /cookie/], ['POST', /cookie/]];
const NO_PROXY_WEB_LIST = [['GET', /attribute/], ['GET', /element/], ['GET', /text/], ['GET', /title/], ['POST', /clear/], ['POST', /click/], ['POST', /element/], ['POST', /forward/], ['POST', /frame/], ['POST', /keys/], ['POST', /refresh/]].concat(NO_PROXY_NATIVE_LIST);
const MEMOIZED_FUNCTIONS = ['getStatusBarHeight', 'getDevicePixelRatio', 'getScreenInfo'];
class XCUITestDriver extends _driver.BaseDriver {
  constructor(opts = {}, shouldValidateCaps = true) {
    super(opts, shouldValidateCaps);
    this.desiredCapConstraints = _desiredCaps.desiredCapConstraints;
    this.locatorStrategies = ['xpath', 'id', 'name', 'class name', '-ios predicate string', '-ios class chain', 'accessibility id', 'css selector'];
    this.webLocatorStrategies = ['link text', 'css selector', 'tag name', 'link text', 'partial link text'];
    this.resetIos();
    this.settings = new _driver.DeviceSettings(DEFAULT_SETTINGS, this.onSettingsUpdate.bind(this));
    this.logs = {};
    for (const fn of MEMOIZED_FUNCTIONS) {
      this[fn] = _lodash.default.memoize(this[fn]);
    }
  }
  async onSettingsUpdate(key, value) {
    if (key !== 'nativeWebTap' && key !== 'nativeWebTapStrict') {
      return await this.proxyCommand('/appium/settings', 'POST', {
        settings: {
          [key]: value
        }
      });
    }
    this.opts[key] = !!value;
  }
  resetIos() {
    this.opts = this.opts || {};
    this.wda = null;
    this.opts.device = null;
    this.jwpProxyActive = false;
    this.proxyReqRes = null;
    this.jwpProxyAvoid = [];
    this.safari = false;
    this.cachedWdaStatus = null;
    this.curWebFrames = [];
    this._currentUrl = null;
    this.curContext = null;
    this.xcodeVersion = {};
    this.contexts = [];
    this.implicitWaitMs = 0;
    this.asynclibWaitMs = 0;
    this.pageLoadMs = 6000;
    this.landscapeWebCoordsOffset = 0;
    this.remote = null;
    this._conditionInducerService = null;
    this.webElementsCache = new _lruCache.default({
      max: WEB_ELEMENTS_CACHE_SIZE
    });
  }
  get driverData() {
    return {};
  }
  async getStatus() {
    if (typeof this.driverInfo === 'undefined') {
      this.driverInfo = await (0, _utils.getDriverInfo)();
    }
    let status = {
      build: {
        version: this.driverInfo.version
      }
    };
    if (this.cachedWdaStatus) {
      status.wda = this.cachedWdaStatus;
    }
    return status;
  }
  mergeCliArgsToOpts() {
    let didMerge = false;
    for (const [key, value] of Object.entries(this.cliArgs ?? {})) {
      if (_lodash.default.has(this.opts, key)) {
        this.log.info(`CLI arg '${key}' with value '${value}' overwrites value '${this.opts[key]}' sent in via caps)`);
        didMerge = true;
      }
      this.opts[key] = value;
    }
    return didMerge;
  }
  async createSession(...args) {
    this.lifecycleData = {};
    try {
      let [sessionId, caps] = await super.createSession(...args);
      this.opts.sessionId = sessionId;
      if (this.mergeCliArgsToOpts()) {
        this.validateDesiredCaps({
          ...caps,
          ...this.cliArgs
        });
      }
      await this.start();
      caps = Object.assign({}, defaultServerCaps, caps);
      caps.udid = this.opts.udid;
      if (_lodash.default.has(this.opts, 'nativeWebTap')) {
        await this.updateSettings({
          nativeWebTap: this.opts.nativeWebTap
        });
      }
      if (_lodash.default.has(this.opts, 'nativeWebTapStrict')) {
        await this.updateSettings({
          nativeWebTapStrict: this.opts.nativeWebTapStrict
        });
      }
      if (_lodash.default.has(this.opts, 'useJSONSource')) {
        await this.updateSettings({
          useJSONSource: this.opts.useJSONSource
        });
      }
      let wdaSettings = {
        elementResponseAttributes: DEFAULT_SETTINGS.elementResponseAttributes,
        shouldUseCompactResponses: DEFAULT_SETTINGS.shouldUseCompactResponses
      };
      if (_lodash.default.has(this.opts, 'elementResponseAttributes')) {
        wdaSettings.elementResponseAttributes = this.opts.elementResponseAttributes;
      }
      if (_lodash.default.has(this.opts, 'shouldUseCompactResponses')) {
        wdaSettings.shouldUseCompactResponses = this.opts.shouldUseCompactResponses;
      }
      if (_lodash.default.has(this.opts, 'mjpegServerScreenshotQuality')) {
        wdaSettings.mjpegServerScreenshotQuality = this.opts.mjpegServerScreenshotQuality;
      }
      if (_lodash.default.has(this.opts, 'mjpegServerFramerate')) {
        wdaSettings.mjpegServerFramerate = this.opts.mjpegServerFramerate;
      }
      if (_lodash.default.has(this.opts, 'screenshotQuality')) {
        this.log.info(`Setting the quality of phone screenshot: '${this.opts.screenshotQuality}'`);
        wdaSettings.screenshotQuality = this.opts.screenshotQuality;
      }
      await this.updateSettings(wdaSettings);
      if (this.opts.mjpegScreenshotUrl) {
        this.log.info(`Starting MJPEG stream reading URL: '${this.opts.mjpegScreenshotUrl}'`);
        this.mjpegStream = new _support.mjpeg.MJpegStream(this.opts.mjpegScreenshotUrl);
        await this.mjpegStream.start();
      }
      return [sessionId, caps];
    } catch (e) {
      this.log.error(JSON.stringify(e));
      await this.deleteSession();
      throw e;
    }
  }
  getDefaultUrl() {
    return this.isRealDevice() ? `http://127.0.0.1:${this.opts.wdaLocalPort || 8100}/health` : `http://${this.opts.address.includes(':') ? `[${this.opts.address}]` : this.opts.address}:${this.opts.port}/welcome`;
  }
  async start() {
    this.opts.noReset = !!this.opts.noReset;
    this.opts.fullReset = !!this.opts.fullReset;
    await (0, _utils.printUser)();
    this.opts.iosSdkVersion = null;
    const {
      device,
      udid,
      realDevice
    } = await this.determineDevice();
    this.log.info(`Determining device to run tests on: udid: '${udid}', real device: ${realDevice}`);
    this.opts.device = device;
    this.opts.udid = udid;
    this.opts.realDevice = realDevice;
    if (this.opts.simulatorDevicesSetPath) {
      if (realDevice) {
        this.log.info(`The 'simulatorDevicesSetPath' capability is only supported for Simulator devices`);
      } else {
        this.log.info(`Setting simulator devices set path to '${this.opts.simulatorDevicesSetPath}'`);
        this.opts.device.devicesSetPath = this.opts.simulatorDevicesSetPath;
      }
    }
    if (!this.opts.platformVersion && this.opts.device) {
      this.opts.platformVersion = await this.opts.device.getPlatformVersion();
      this.log.info(`No platformVersion specified. Using device version: '${this.opts.platformVersion}'`);
    }
    const normalizedVersion = (0, _utils.normalizePlatformVersion)(this.opts.platformVersion);
    if (this.opts.platformVersion !== normalizedVersion) {
      this.log.info(`Normalized platformVersion capability value '${this.opts.platformVersion}' to '${normalizedVersion}'`);
      this.opts.platformVersion = normalizedVersion;
    }
    if (_support.util.compareVersions(this.opts.platformVersion, '<', '9.3')) {
      throw new Error(`Platform version must be 9.3 or above. '${this.opts.platformVersion}' is not supported.`);
    }
    if (_lodash.default.isEmpty(this.xcodeVersion) && (!this.opts.webDriverAgentUrl || !this.opts.realDevice)) {
      this.xcodeVersion = await (0, _utils.getAndCheckXcodeVersion)();
    }
    this.logEvent('xcodeDetailsRetrieved');
    if (_lodash.default.toLower(this.opts.browserName) === 'safari') {
      this.log.info('Safari test requested');
      this.safari = true;
      this.opts.app = undefined;
      this.opts.processArguments = this.opts.processArguments || {};
      this.opts.bundleId = _appUtils.SAFARI_BUNDLE_ID;
      this._currentUrl = this.opts.safariInitialUrl || this.getDefaultUrl();
    } else if (this.opts.app || this.opts.bundleId) {
      await this.configureApp();
    }
    this.logEvent('appConfigured');
    if (this.opts.app) {
      await (0, _utils.checkAppPresent)(this.opts.app);
      if (!this.opts.bundleId) {
        this.opts.bundleId = await (0, _appUtils.extractBundleId)(this.opts.app);
      }
    }
    await this.runReset();
    this.wda = new _appiumWebdriveragent.WebDriverAgent(this.xcodeVersion, this.opts, this.log);
    this.wda.retrieveDerivedDataPath().catch(e => this.log.debug(e));
    const memoizedLogInfo = _lodash.default.memoize(() => {
      this.log.info("'skipLogCapture' is set. Skipping starting logs such as crash, system, safari console and safari network.");
    });
    const startLogCapture = async () => {
      if (this.opts.skipLogCapture) {
        memoizedLogInfo();
        return false;
      }
      const result = await this.startLogCapture();
      if (result) {
        this.logEvent('logCaptureStarted');
      }
      return result;
    };
    const isLogCaptureStarted = await startLogCapture();
    this.log.info(`Setting up ${this.isRealDevice() ? 'real device' : 'simulator'}`);
    if (this.isSimulator()) {
      if (this.opts.shutdownOtherSimulators) {
        this.ensureFeatureEnabled(SHUTDOWN_OTHER_FEAT_NAME);
        await (0, _simulatorManagement.shutdownOtherSimulators)(this.opts.device);
      }
      await this.startSim();
      if (this.opts.customSSLCert) {
        await this.opts.device.addCertificate(this.opts.customSSLCert);
        this.logEvent('customCertInstalled');
      }
      if (await (0, _simulatorManagement.setSafariPrefs)(this.opts.device, this.opts)) {
        this.log.debug('Safari preferences have been updated');
      }
      if (await (0, _simulatorManagement.setLocalizationPrefs)(this.opts.device, this.opts)) {
        this.log.debug('Localization preferences have been updated');
      }
      if (_lodash.default.isBoolean(this.opts.reduceMotion)) {
        this.log.info(`Setting reduceMotion to ${this.opts.reduceMotion}`);
        await this.opts.device.setReduceMotion(this.opts.reduceMotion);
      }
      if (_lodash.default.isBoolean(this.opts.reduceTransparency)) {
        this.log.info(`Setting reduceTransparency to ${this.opts.reduceTransparency}`);
        await this.opts.device.setReduceTransparency(this.opts.reduceTransparency);
      }
      if (this.opts.launchWithIDB) {
        try {
          const idb = new _appiumIdb.default({
            udid
          });
          await idb.connect();
          this.opts.device.idb = idb;
        } catch (e) {
          this.log.debug(e.stack);
          this.log.warn(`idb will not be used for Simulator interaction. Original error: ${e.message}`);
        }
      }
      this.logEvent('simStarted');
      if (!isLogCaptureStarted) {
        await startLogCapture();
      }
    } else if (this.opts.customSSLCert) {
      await new _pyIosDeviceClient.default(udid).installProfile({
        payload: this.opts.customSSLCert
      });
      this.logEvent('customCertInstalled');
    }
    if (this.opts.app) {
      await this.installAUT();
      this.logEvent('appInstalled');
    }
    if (!this.opts.app && this.opts.bundleId && !this.isSafari() && !(await this.opts.device.isAppInstalled(this.opts.bundleId))) {
      this.log.errorAndThrow(`App with bundle identifier '${this.opts.bundleId}' unknown`);
    }
    if (this.isSimulator()) {
      if (this.opts.permissions) {
        this.log.debug('Setting the requested permissions before WDA is started');
        for (const [bundleId, permissionsMapping] of _lodash.default.toPairs(JSON.parse(this.opts.permissions))) {
          await this.opts.device.setPermissions(bundleId, permissionsMapping);
        }
      }
      if (_lodash.default.isBoolean(this.opts.calendarAccessAuthorized)) {
        this.log.warn(`The 'calendarAccessAuthorized' capability is deprecated and will be removed soon. ` + `Consider using 'permissions' one instead with 'calendar' key`);
        const methodName = `${this.opts.calendarAccessAuthorized ? 'enable' : 'disable'}CalendarAccess`;
        await this.opts.device[methodName](this.opts.bundleId);
      }
    }
    await this.startWda(this.opts.sessionId, realDevice);
    if (this.opts.orientation) {
      await this.setInitialOrientation(this.opts.orientation);
      this.logEvent('orientationSet');
    }
    if (this.isSafari() || this.opts.autoWebview) {
      await this.activateRecentWebview();
    }
    if (this.isSafari()) {
      if (!(this.opts.safariInitialUrl === '' || this.opts.noReset && _lodash.default.isNil(this.opts.safariInitialUrl))) {
        this.log.info(`About to set the initial Safari URL to '${this.getCurrentUrl()}'.` + `Use 'safariInitialUrl' capability in order to customize it`);
        await this.setUrl(this.getCurrentUrl());
      } else {
        this.setCurrentUrl(await this.getUrl());
      }
    }
  }
  async startWda(sessionId, realDevice) {
    if (!_support.util.hasValue(this.wda.webDriverAgentUrl)) {
      await this.wda.cleanupObsoleteProcesses();
    }
    const usePortForwarding = this.isRealDevice() && !this.wda.webDriverAgentUrl && (0, _utils.isLocalHost)(this.wda.wdaBaseUrl);
    await _deviceConnectionsFactory.default.requestConnection(this.opts.udid, this.wda.url.port, {
      devicePort: usePortForwarding ? this.wda.wdaRemotePort : null,
      usePortForwarding
    });
    let synchronizationKey = XCUITestDriver.name;
    if (this.opts.useXctestrunFile || !(await this.wda.isSourceFresh())) {
      const derivedDataPath = await this.wda.retrieveDerivedDataPath();
      if (derivedDataPath) {
        synchronizationKey = _path.default.normalize(derivedDataPath);
      }
    }
    this.log.debug(`Starting WebDriverAgent initialization with the synchronization key '${synchronizationKey}'`);
    if (SHARED_RESOURCES_GUARD.isBusy() && !this.opts.derivedDataPath && !this.opts.bootstrapPath) {
      this.log.debug(`Consider setting a unique 'derivedDataPath' capability value for each parallel driver instance ` + `to avoid conflicts and speed up the building process`);
    }
    return await SHARED_RESOURCES_GUARD.acquire(synchronizationKey, async () => {
      if (this.opts.useNewWDA) {
        this.log.debug(`Capability 'useNewWDA' set to true, so uninstalling WDA before proceeding`);
        await this.wda.quitAndUninstall();
        this.logEvent('wdaUninstalled');
      } else if (!_support.util.hasValue(this.wda.webDriverAgentUrl)) {
        await this.wda.setupCaching();
      }
      const quitAndUninstall = async msg => {
        this.log.debug(msg);
        if (this.opts.webDriverAgentUrl) {
          this.log.debug('Not quitting/uninstalling WebDriverAgent since webDriverAgentUrl capability is provided');
          throw new Error(msg);
        }
        this.log.warn('Quitting and uninstalling WebDriverAgent');
        await this.wda.quitAndUninstall();
        throw new Error(msg);
      };
      if (this.opts.resultBundlePath) {
        this.ensureFeatureEnabled(CUSTOMIZE_RESULT_BUNDPE_PATH);
      }
      const startupRetries = this.opts.wdaStartupRetries || (this.isRealDevice() ? WDA_REAL_DEV_STARTUP_RETRIES : WDA_SIM_STARTUP_RETRIES);
      const startupRetryInterval = this.opts.wdaStartupRetryInterval || WDA_STARTUP_RETRY_INTERVAL;
      this.log.debug(`Trying to start WebDriverAgent ${startupRetries} times with ${startupRetryInterval}ms interval`);
      if (!_support.util.hasValue(this.opts.wdaStartupRetries) && !_support.util.hasValue(this.opts.wdaStartupRetryInterval)) {
        this.log.debug(`These values can be customized by changing wdaStartupRetries/wdaStartupRetryInterval capabilities`);
      }
      let retryCount = 0;
      await (0, _asyncbox.retryInterval)(startupRetries, startupRetryInterval, async () => {
        this.logEvent('wdaStartAttempted');
        if (retryCount > 0) {
          this.log.info(`Retrying WDA startup (${retryCount + 1} of ${startupRetries})`);
        }
        try {
          const retries = this.xcodeVersion.major >= 10 ? 2 : 1;
          this.cachedWdaStatus = await (0, _asyncbox.retry)(retries, this.wda.launch.bind(this.wda), sessionId, realDevice);
        } catch (err) {
          this.logEvent('wdaStartFailed');
          retryCount++;
          let errorMsg = `Unable to launch WebDriverAgent because of xcodebuild failure: ${err.message}`;
          if (this.isRealDevice()) {
            errorMsg += `. Make sure you follow the tutorial at ${WDA_REAL_DEV_TUTORIAL_URL}. ` + `Try to remove the WebDriverAgentRunner application from the device if it is installed ` + `and reboot the device.`;
          }
          await quitAndUninstall(errorMsg);
        }
        this.proxyReqRes = this.wda.proxyReqRes.bind(this.wda);
        this.jwpProxyActive = true;
        let originalStacktrace = null;
        try {
          await (0, _asyncbox.retryInterval)(15, 1000, async () => {
            this.logEvent('wdaSessionAttempted');
            this.log.debug('Sending createSession command to WDA');
            try {
              this.cachedWdaStatus = this.cachedWdaStatus || (await this.proxyCommand('/status', 'GET'));
              await this.startWdaSession(this.opts.bundleId, this.opts.processArguments);
            } catch (err) {
              originalStacktrace = err.stack;
              this.log.debug(`Failed to create WDA session (${err.message}). Retrying...`);
              throw err;
            }
          });
          this.logEvent('wdaSessionStarted');
        } catch (err) {
          if (originalStacktrace) {
            this.log.debug(originalStacktrace);
          }
          let errorMsg = `Unable to start WebDriverAgent session because of xcodebuild failure: ${err.message}`;
          if (this.isRealDevice()) {
            errorMsg += ` Make sure you follow the tutorial at ${WDA_REAL_DEV_TUTORIAL_URL}. ` + `Try to remove the WebDriverAgentRunner application from the device if it is installed ` + `and reboot the device.`;
          }
          await quitAndUninstall(errorMsg);
        }
        if (this.opts.clearSystemFiles && !this.opts.webDriverAgentUrl) {
          await (0, _utils.markSystemFilesForCleanup)(this.wda);
        }
        this.wda.fullyStarted = true;
        this.logEvent('wdaStarted');
      });
    });
  }
  async runReset(opts = null) {
    this.logEvent('resetStarted');
    if (this.isRealDevice()) {
      await (0, _realDeviceManagement.runRealDeviceReset)(this.opts.device, opts || this.opts);
    } else {
      await (0, _simulatorManagement.runSimulatorReset)(this.opts.device, opts || this.opts);
    }
    this.logEvent('resetComplete');
  }
  async deleteSession() {
    await (0, _utils.removeAllSessionWebSocketHandlers)(this.server, this.sessionId);
    for (const recorder of _lodash.default.compact([this._recentScreenRecorder, this._audioRecorder, this._trafficCapture])) {
      await recorder.interrupt(true);
      await recorder.cleanup();
    }
    if (!_lodash.default.isEmpty(this._perfRecorders)) {
      await _bluebird.default.all(this._perfRecorders.map(x => x.stop(true)));
      this._perfRecorders = [];
    }
    if (this._conditionInducerService) {
      this.mobileDisableConditionInducer();
    }
    await this.stop();
    if (this.wda && !this.opts.webDriverAgentUrl) {
      if (this.opts.clearSystemFiles) {
        let synchronizationKey = XCUITestDriver.name;
        const derivedDataPath = await this.wda.retrieveDerivedDataPath();
        if (derivedDataPath) {
          synchronizationKey = _path.default.normalize(derivedDataPath);
        }
        await SHARED_RESOURCES_GUARD.acquire(synchronizationKey, async () => {
          await (0, _utils.clearSystemFiles)(this.wda);
        });
      } else {
        this.log.debug('Not clearing log files. Use `clearSystemFiles` capability to turn on.');
      }
    }
    if (this.remote) {
      this.log.debug('Found a remote debugger session. Removing...');
      await this.stopRemote();
    }
    if (this.opts.resetOnSessionStartOnly === false) {
      await this.runReset(Object.assign({}, this.opts, {
        enforceSimulatorShutdown: true
      }));
    }
    if (this.isSimulator() && !this.opts.noReset && !!this.opts.device) {
      if (this.lifecycleData.createSim) {
        this.log.debug(`Deleting simulator created for this run (udid: '${this.opts.udid}')`);
        await (0, _simulatorManagement.shutdownSimulator)(this.opts.device);
        await this.opts.device.delete();
      }
    }
    const shouldResetLocationServivce = this.isRealDevice() && !!this.opts.resetLocationService;
    if (shouldResetLocationServivce) {
      try {
        await this.mobileResetLocationService();
      } catch (ignore) {}
    }
    if (!_lodash.default.isEmpty(this.logs)) {
      await this.logs.syslog.stopCapture();
      this.logs = {};
    }
    if (this.mjpegStream) {
      this.log.info('Closing MJPEG stream');
      this.mjpegStream.stop();
    }
    this.resetIos();
    await super.deleteSession();
  }
  async stop() {
    this.jwpProxyActive = false;
    this.proxyReqRes = null;
    if (this.wda && this.wda.fullyStarted) {
      if (this.wda.jwproxy) {
        try {
          await this.proxyCommand(`/session/${this.sessionId}`, 'DELETE');
        } catch (err) {
          this.log.debug(`Unable to DELETE session on WDA: '${err.message}'. Continuing shutdown.`);
        }
      }
      if (!this.wda.webDriverAgentUrl && this.opts.useNewWDA) {
        await this.wda.quit();
      }
    }
    _deviceConnectionsFactory.default.releaseConnection(this.opts.udid);
  }
  async executeCommand(cmd, ...args) {
    this.log.debug(`Executing command '${cmd}'`);
    if (cmd === 'receiveAsyncResponse') {
      return await this.receiveAsyncResponse(...args);
    }
    if (cmd === 'getStatus') {
      return await this.getStatus();
    }
    return await super.executeCommand(cmd, ...args);
  }
  async configureApp() {
    function appIsPackageOrBundle(app) {
      return /^([a-zA-Z0-9\-_]+\.[a-zA-Z0-9\-_]+)+$/.test(app);
    }
    if (!this.opts.bundleId && appIsPackageOrBundle(this.opts.app)) {
      this.opts.bundleId = this.opts.app;
      this.opts.app = '';
    }
    if (this.opts.bundleId && appIsPackageOrBundle(this.opts.bundleId) && (this.opts.app === '' || appIsPackageOrBundle(this.opts.app))) {
      this.log.debug('App is an iOS bundle, will attempt to run as pre-existing');
      return;
    }
    switch (_lodash.default.toLower(this.opts.app)) {
      case 'settings':
        this.opts.bundleId = 'com.apple.Preferences';
        this.opts.app = null;
        return;
      case 'calendar':
        this.opts.bundleId = 'com.apple.mobilecal';
        this.opts.app = null;
        return;
    }
    this.opts.app = await this.helpers.configureApp(this.opts.app, {
      onPostProcess: this.onPostConfigureApp.bind(this),
      supportedExtensions: SUPPORTED_EXTENSIONS
    });
  }
  async unzipApp(appPath, depth = 0) {
    if (depth > MAX_ARCHIVE_SCAN_DEPTH) {
      throw new Error('Nesting of package bundles is not supported');
    }
    const [rootDir, matchedPaths] = await (0, _appUtils.findApps)(appPath, SUPPORTED_EXTENSIONS);
    if (_lodash.default.isEmpty(matchedPaths)) {
      this.log.debug(`'${_path.default.basename(appPath)}' has no bundles`);
    } else {
      this.log.debug(`Found ${_support.util.pluralize('bundle', matchedPaths.length, true)} in ` + `'${_path.default.basename(appPath)}': ${matchedPaths}`);
    }
    try {
      for (const matchedPath of matchedPaths) {
        const fullPath = _path.default.join(rootDir, matchedPath);
        if (await (0, _appUtils.isAppBundle)(fullPath)) {
          const supportedPlatforms = await (0, _appUtils.fetchSupportedAppPlatforms)(fullPath);
          if (this.isSimulator() && !supportedPlatforms.some(p => _lodash.default.includes(p, 'Simulator'))) {
            this.log.info(`'${matchedPath}' does not have Simulator devices in the list of supported platforms ` + `(${supportedPlatforms.join(',')}). Skipping it`);
            ;
            continue;
          }
          if (this.isRealDevice() && !supportedPlatforms.some(p => _lodash.default.includes(p, 'OS'))) {
            this.log.info(`'${matchedPath}' does not have real devices in the list of supported platforms ` + `(${supportedPlatforms.join(',')}). Skipping it`);
            ;
            continue;
          }
          this.log.info(`'${matchedPath}' is the resulting application bundle selected from '${appPath}'`);
          return await (0, _appUtils.isolateAppBundle)(fullPath);
        } else if (_lodash.default.endsWith(_lodash.default.toLower(fullPath), _appUtils.IPA_EXT) && (await _support.fs.stat(fullPath)).isFile()) {
          try {
            return await this.unzipApp(fullPath, depth + 1);
          } catch (e) {
            this.log.warn(`Skipping processing of '${matchedPath}': ${e.message}`);
          }
        }
      }
    } finally {
      await _support.fs.rimraf(rootDir);
    }
    throw new Error(`${this.opts.app} did not have any matching ${_appUtils.APP_EXT} or ${_appUtils.IPA_EXT} ` + `bundles. Please make sure the provided package is valid and contains at least one matching ` + `application bundle which is not nested.`);
  }
  async onPostConfigureApp({
    cachedAppInfo,
    isUrl,
    appPath
  }) {
    if (_lodash.default.isPlainObject(cachedAppInfo) && (await _support.fs.stat(appPath)).isFile() && (await _support.fs.hash(appPath)) === cachedAppInfo.packageHash && (await _support.fs.exists(cachedAppInfo.fullPath)) && (await _support.fs.glob('**/*', {
      cwd: cachedAppInfo.fullPath,
      strict: false,
      nosort: true
    })).length === cachedAppInfo.integrity.folder) {
      this.log.info(`Using '${cachedAppInfo.fullPath}' which was cached from '${appPath}'`);
      return {
        appPath: cachedAppInfo.fullPath
      };
    }
    if (await (0, _appUtils.isAppBundle)(appPath)) {
      return false;
    }
    try {
      return {
        appPath: await this.unzipApp(appPath)
      };
    } finally {
      if (isUrl) {
        await _support.fs.rimraf(appPath);
      }
    }
  }
  async determineDevice() {
    this.lifecycleData.createSim = false;
    this.opts.deviceName = (0, _utils.translateDeviceName)(this.opts.platformVersion, this.opts.deviceName);
    const setupVersionCaps = async () => {
      this.opts.iosSdkVersion = await (0, _utils.getAndCheckIosSdkVersion)();
      this.log.info(`iOS SDK Version set to '${this.opts.iosSdkVersion}'`);
      if (!this.opts.platformVersion && this.opts.iosSdkVersion) {
        this.log.info(`No platformVersion specified. Using the latest version Xcode supports: '${this.opts.iosSdkVersion}'. ` + `This may cause problems if a simulator does not exist for this platform version.`);
        this.opts.platformVersion = (0, _utils.normalizePlatformVersion)(this.opts.iosSdkVersion);
      }
    };
    if (this.opts.udid) {
      if (this.opts.udid.toLowerCase() === 'auto') {
        try {
          this.opts.udid = await (0, _utils.detectUdid)();
        } catch (err) {
          this.log.warn(`Cannot detect any connected real devices. Falling back to Simulator. Original error: ${err.message}`);
          const device = await (0, _simulatorManagement.getExistingSim)(this.opts);
          if (!device) {
            this.log.errorAndThrow(`Cannot detect udid for ${this.opts.deviceName} Simulator running iOS ${this.opts.platformVersion}`);
          }
          this.opts.udid = device.udid;
          const devicePlatform = (0, _utils.normalizePlatformVersion)(await device.getPlatformVersion());
          if (this.opts.platformVersion !== devicePlatform) {
            this.opts.platformVersion = devicePlatform;
            this.log.info(`Set platformVersion to '${devicePlatform}' to match the device with given UDID`);
          }
          await setupVersionCaps();
          return {
            device,
            realDevice: false,
            udid: device.udid
          };
        }
      } else {
        const devices = await (0, _realDeviceManagement.getConnectedDevices)();
        this.log.debug(`Available devices: ${devices.join(', ')}`);
        if (!devices.includes(this.opts.udid)) {
          this.log.debug(`No real device with udid '${this.opts.udid}'. Looking for simulator`);
          try {
            const device = await (0, _appiumIosSimulator.getSimulator)(this.opts.udid, {
              devicesSetPath: this.opts.simulatorDevicesSetPath
            });
            return {
              device,
              realDevice: false,
              udid: this.opts.udid
            };
          } catch (ign) {
            throw new Error(`Unknown device or simulator UDID: '${this.opts.udid}'`);
          }
        }
      }
      const device = await (0, _realDeviceManagement.getRealDeviceObj)(this.opts.udid);
      return {
        device,
        realDevice: true,
        udid: this.opts.udid
      };
    }
    await setupVersionCaps();
    if (this.opts.enforceFreshSimulatorCreation) {
      this.log.debug(`New simulator is requested. If this is not wanted, set 'enforceFreshSimulatorCreation' capability to false`);
    } else {
      const device = await (0, _simulatorManagement.getExistingSim)(this.opts);
      if (device) {
        return {
          device,
          realDevice: false,
          udid: device.udid
        };
      }
      this.log.info('Simulator udid not provided');
    }
    this.log.info('Using desired caps to create a new simulator');
    const device = await this.createSim();
    return {
      device,
      realDevice: false,
      udid: device.udid
    };
  }
  async startSim() {
    const runOpts = {
      scaleFactor: this.opts.scaleFactor,
      connectHardwareKeyboard: !!this.opts.connectHardwareKeyboard,
      pasteboardAutomaticSync: this.opts.simulatorPasteboardAutomaticSync ?? 'off',
      isHeadless: !!this.opts.isHeadless,
      tracePointer: this.opts.simulatorTracePointer,
      devicePreferences: {}
    };
    if (this.opts.SimulatorWindowCenter) {
      runOpts.devicePreferences.SimulatorWindowCenter = this.opts.SimulatorWindowCenter;
    }
    if (_lodash.default.isInteger(this.opts.simulatorStartupTimeout)) {
      runOpts.startupTimeout = this.opts.simulatorStartupTimeout;
    }
    const orientation = _lodash.default.isString(this.opts.orientation) && this.opts.orientation.toUpperCase();
    switch (orientation) {
      case 'LANDSCAPE':
        runOpts.devicePreferences.SimulatorWindowOrientation = 'LandscapeLeft';
        runOpts.devicePreferences.SimulatorWindowRotationAngle = 90;
        break;
      case 'PORTRAIT':
        runOpts.devicePreferences.SimulatorWindowOrientation = 'Portrait';
        runOpts.devicePreferences.SimulatorWindowRotationAngle = 0;
        break;
    }
    await this.opts.device.run(runOpts);
  }
  async createSim() {
    this.lifecycleData.createSim = true;
    const platformName = this.isTvOS() ? _desiredCaps.PLATFORM_NAME_TVOS : _desiredCaps.PLATFORM_NAME_IOS;
    const sim = await (0, _simulatorManagement.createSim)(this.opts, platformName);
    this.log.info(`Created simulator with udid '${sim.udid}'.`);
    return sim;
  }
  async launchApp() {
    const APP_LAUNCH_TIMEOUT = 20 * 1000;
    this.logEvent('appLaunchAttempted');
    await this.opts.device.launchApp(this.opts.bundleId);
    let checkStatus = async () => {
      let response = await this.proxyCommand('/status', 'GET');
      let currentApp = response.currentApp.bundleID;
      if (currentApp !== this.opts.bundleId) {
        throw new Error(`${this.opts.bundleId} not in foreground. ${currentApp} is in foreground`);
      }
    };
    this.log.info(`Waiting for '${this.opts.bundleId}' to be in foreground`);
    let retries = parseInt(APP_LAUNCH_TIMEOUT / 200, 10);
    await (0, _asyncbox.retryInterval)(retries, 200, checkStatus);
    this.log.info(`${this.opts.bundleId} is in foreground`);
    this.logEvent('appLaunched');
  }
  async startWdaSession(bundleId, processArguments) {
    const args = processArguments ? processArguments.args || [] : [];
    if (!_lodash.default.isArray(args)) {
      throw new Error(`processArguments.args capability is expected to be an array. ` + `${JSON.stringify(args)} is given instead`);
    }
    const env = processArguments ? processArguments.env || {} : {};
    if (!_lodash.default.isPlainObject(env)) {
      throw new Error(`processArguments.env capability is expected to be a dictionary. ` + `${JSON.stringify(env)} is given instead`);
    }
    if (_support.util.hasValue(this.opts.language)) {
      args.push('-AppleLanguages', `(${this.opts.language})`);
      args.push('-NSLanguages', `(${this.opts.language})`);
    }
    if (_support.util.hasValue(this.opts.locale)) {
      args.push('-AppleLocale', this.opts.locale);
    }
    if (this.opts.noReset) {
      if (_lodash.default.isNil(this.opts.shouldTerminateApp)) {
        this.opts.shouldTerminateApp = false;
      }
      if (_lodash.default.isNil(this.opts.forceAppLaunch)) {
        this.opts.forceAppLaunch = false;
      }
    }
    const wdaCaps = {
      bundleId: this.opts.autoLaunch === false ? undefined : bundleId,
      arguments: args,
      environment: env,
      eventloopIdleDelaySec: this.opts.wdaEventloopIdleDelay ?? 0,
      shouldWaitForQuiescence: this.opts.waitForQuiescence ?? true,
      shouldUseTestManagerForVisibilityDetection: this.opts.simpleIsVisibleCheck ?? false,
      maxTypingFrequency: this.opts.maxTypingFrequency ?? 60,
      shouldUseSingletonTestManager: this.opts.shouldUseSingletonTestManager ?? true,
      waitForIdleTimeout: this.opts.waitForIdleTimeout,
      shouldUseCompactResponses: this.opts.shouldUseCompactResponses,
      elementResponseFields: this.opts.elementResponseFields,
      disableAutomaticScreenshots: this.opts.disableAutomaticScreenshots,
      shouldTerminateApp: this.opts.shouldTerminateApp ?? true,
      forceAppLaunch: this.opts.forceAppLaunch ?? true,
      useNativeCachingStrategy: this.opts.useNativeCachingStrategy ?? true,
      forceSimulatorSoftwareKeyboardPresence: this.opts.forceSimulatorSoftwareKeyboardPresence ?? (this.opts.connectHardwareKeyboard === true ? false : true)
    };
    if (this.opts.autoAcceptAlerts) {
      wdaCaps.defaultAlertAction = 'accept';
    } else if (this.opts.autoDismissAlerts) {
      wdaCaps.defaultAlertAction = 'dismiss';
    }
    await this.proxyCommand('/session', 'POST', {
      capabilities: {
        firstMatch: [wdaCaps],
        alwaysMatch: {}
      }
    });
  }
  proxyActive() {
    return this.jwpProxyActive;
  }
  getProxyAvoidList() {
    if (this.isWebview()) {
      return NO_PROXY_WEB_LIST;
    }
    return NO_PROXY_NATIVE_LIST;
  }
  canProxy() {
    return true;
  }
  isSafari() {
    return !!this.safari;
  }
  isRealDevice() {
    return this.opts.realDevice;
  }
  isSimulator() {
    return !this.opts.realDevice;
  }
  isTvOS() {
    return _lodash.default.toLower(this.opts.platformName) === _lodash.default.toLower(_desiredCaps.PLATFORM_NAME_TVOS);
  }
  isWebview() {
    return this.isSafari() || this.isWebContext();
  }
  validateLocatorStrategy(strategy) {
    super.validateLocatorStrategy(strategy, this.isWebContext());
  }
  validateDesiredCaps(caps) {
    if (!super.validateDesiredCaps(caps)) {
      return false;
    }
    if (_lodash.default.toLower(caps.browserName) !== 'safari' && !caps.app && !caps.bundleId) {
      this.log.info('The desired capabilities include neither an app nor a bundleId. ' + 'WebDriverAgent will be started without the default app');
    }
    if (!_support.util.coerceVersion(caps.platformVersion, false)) {
      this.log.warn(`'platformVersion' capability ('${caps.platformVersion}') is not a valid version number. ` + `Consider fixing it or be ready to experience an inconsistent driver behavior.`);
    }
    let verifyProcessArgument = processArguments => {
      const {
        args,
        env
      } = processArguments;
      if (!_lodash.default.isNil(args) && !_lodash.default.isArray(args)) {
        this.log.errorAndThrow('processArguments.args must be an array of strings');
      }
      if (!_lodash.default.isNil(env) && !_lodash.default.isPlainObject(env)) {
        this.log.errorAndThrow('processArguments.env must be an object <key,value> pair {a:b, c:d}');
      }
    };
    if (caps.processArguments) {
      if (_lodash.default.isString(caps.processArguments)) {
        try {
          caps.processArguments = JSON.parse(caps.processArguments);
          verifyProcessArgument(caps.processArguments);
        } catch (err) {
          this.log.errorAndThrow(`processArguments must be a JSON format or an object with format {args : [], env : {a:b, c:d}}. ` + `Both environment and argument can be null. Error: ${err}`);
        }
      } else if (_lodash.default.isPlainObject(caps.processArguments)) {
        verifyProcessArgument(caps.processArguments);
      } else {
        this.log.errorAndThrow(`'processArguments must be an object, or a string JSON object with format {args : [], env : {a:b, c:d}}. ` + `Both environment and argument can be null.`);
      }
    }
    if (caps.keychainPath && !caps.keychainPassword || !caps.keychainPath && caps.keychainPassword) {
      this.log.errorAndThrow(`If 'keychainPath' is set, 'keychainPassword' must also be set (and vice versa).`);
    }
    this.opts.resetOnSessionStartOnly = !_support.util.hasValue(this.opts.resetOnSessionStartOnly) || this.opts.resetOnSessionStartOnly;
    this.opts.useNewWDA = _support.util.hasValue(this.opts.useNewWDA) ? this.opts.useNewWDA : false;
    if (caps.commandTimeouts) {
      caps.commandTimeouts = (0, _utils.normalizeCommandTimeouts)(caps.commandTimeouts);
    }
    if (_lodash.default.isString(caps.webDriverAgentUrl)) {
      const {
        protocol,
        host
      } = _url.default.parse(caps.webDriverAgentUrl);
      if (_lodash.default.isEmpty(protocol) || _lodash.default.isEmpty(host)) {
        this.log.errorAndThrow(`'webDriverAgentUrl' capability is expected to contain a valid WebDriverAgent server URL. ` + `'${caps.webDriverAgentUrl}' is given instead`);
      }
    }
    if (caps.browserName) {
      if (caps.bundleId) {
        this.log.errorAndThrow(`'browserName' cannot be set together with 'bundleId' capability`);
      }
      if (caps.app) {
        this.log.warn(`The capabilities should generally not include both an 'app' and a 'browserName'`);
      }
    }
    if (caps.permissions) {
      try {
        for (const [bundleId, perms] of _lodash.default.toPairs(JSON.parse(caps.permissions))) {
          if (!_lodash.default.isString(bundleId)) {
            throw new Error(`'${JSON.stringify(bundleId)}' must be a string`);
          }
          if (!_lodash.default.isPlainObject(perms)) {
            throw new Error(`'${JSON.stringify(perms)}' must be a JSON object`);
          }
        }
      } catch (e) {
        this.log.errorAndThrow(`'${caps.permissions}' is expected to be a valid object with format ` + `{"<bundleId1>": {"<serviceName1>": "<serviceStatus1>", ...}, ...}. Original error: ${e.message}`);
      }
    }
    if (caps.platformVersion && !_support.util.coerceVersion(caps.platformVersion, false)) {
      this.log.errorAndThrow(`'platformVersion' must be a valid version number. ` + `'${caps.platformVersion}' is given instead.`);
    }
    if (caps.additionalWebviewBundleIds) {
      caps.additionalWebviewBundleIds = this.helpers.parseCapsArray(caps.additionalWebviewBundleIds);
    }
    return true;
  }
  async installAUT() {
    if (this.isSafari()) {
      return;
    }
    await (0, _appUtils.verifyApplicationPlatform)(this.opts.app, {
      isSimulator: this.isSimulator(),
      isTvOS: this.isTvOS()
    });
    if (this.isRealDevice()) {
      await (0, _realDeviceManagement.installToRealDevice)(this.opts.device, this.opts.app, this.opts.bundleId, {
        noReset: this.opts.noReset,
        timeout: this.opts.appPushTimeout,
        strategy: this.opts.appInstallStrategy
      });
    } else {
      await (0, _simulatorManagement.installToSimulator)(this.opts.device, this.opts.app, this.opts.bundleId, {
        noReset: this.opts.noReset,
        newSimulator: this.lifecycleData.createSim
      });
    }
    if (this.opts.otherApps) {
      await this.installOtherApps(this.opts.otherApps);
    }
    if (_support.util.hasValue(this.opts.iosInstallPause)) {
      let pause = parseInt(this.opts.iosInstallPause, 10);
      this.log.debug(`iosInstallPause set. Pausing ${pause} ms before continuing`);
      await _bluebird.default.delay(pause);
    }
  }
  async installOtherApps(otherApps) {
    if (this.isRealDevice()) {
      this.log.warn('Capability otherApps is only supported for Simulators');
      return;
    }
    let appsList;
    try {
      appsList = this.helpers.parseCapsArray(otherApps);
    } catch (e) {
      this.log.errorAndThrow(`Could not parse "otherApps" capability: ${e.message}`);
    }
    if (_lodash.default.isEmpty(appsList)) {
      this.log.info(`Got zero apps from 'otherApps' capability value. Doing nothing`);
      return;
    }
    const appPaths = await _bluebird.default.all(appsList.map(app => this.helpers.configureApp(app, '.app')));
    for (const otherApp of appPaths) {
      await (0, _simulatorManagement.installToSimulator)(this.opts.device, otherApp, undefined, {
        noReset: this.opts.noReset,
        newSimulator: this.lifecycleData.createSim
      });
    }
  }
  async setInitialOrientation(orientation) {
    const dstOrientation = _lodash.default.toUpper(orientation);
    if (!SUPPORTED_ORIENATIONS.includes(dstOrientation)) {
      this.log.debug(`The initial orientation value '${orientation}' is unknown. ` + `Only ${JSON.stringify(SUPPORTED_ORIENATIONS)} are supported.`);
      return;
    }
    this.log.debug(`Setting initial orientation to '${dstOrientation}'`);
    try {
      await this.proxyCommand('/orientation', 'POST', {
        orientation: dstOrientation
      });
    } catch (err) {
      this.log.warn(`Setting initial orientation failed with: ${err.message}`);
    }
  }
  _getCommandTimeout(cmdName) {
    if (this.opts.commandTimeouts) {
      if (cmdName && _lodash.default.has(this.opts.commandTimeouts, cmdName)) {
        return this.opts.commandTimeouts[cmdName];
      }
      return this.opts.commandTimeouts[_utils.DEFAULT_TIMEOUT_KEY];
    }
  }
  async getSession() {
    const driverSession = await super.getSession();
    if (!this.wdaCaps) {
      this.wdaCaps = await this.proxyCommand('/', 'GET');
    }
    const shouldGetDeviceCaps = _lodash.default.isBoolean(this.opts.includeDeviceCapsToSessionInfo) ? this.opts.includeDeviceCapsToSessionInfo : true;
    if (shouldGetDeviceCaps && !this.deviceCaps) {
      const {
        statusBarSize,
        scale
      } = await this.getScreenInfo();
      this.deviceCaps = {
        pixelRatio: scale,
        statBarHeight: statusBarSize.height,
        viewportRect: await this.getViewportRect()
      };
    }
    this.log.info('Merging WDA caps over Appium caps for session detail response');
    return Object.assign({
      udid: this.opts.udid
    }, driverSession, this.wdaCaps.capabilities, this.deviceCaps || {});
  }
  async reset() {
    if (this.opts.noReset) {
      let opts = _lodash.default.cloneDeep(this.opts);
      opts.noReset = false;
      opts.fullReset = false;
      const shutdownHandler = this.resetOnUnexpectedShutdown;
      this.resetOnUnexpectedShutdown = () => {};
      try {
        await this.runReset(opts);
      } finally {
        this.resetOnUnexpectedShutdown = shutdownHandler;
      }
    }
    await super.reset();
  }
}
exports.XCUITestDriver = XCUITestDriver;
Object.assign(XCUITestDriver.prototype, _index.default);
var _default = XCUITestDriver;
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJTSFVURE9XTl9PVEhFUl9GRUFUX05BTUUiLCJDVVNUT01JWkVfUkVTVUxUX0JVTkRQRV9QQVRIIiwiU1VQUE9SVEVEX0VYVEVOU0lPTlMiLCJJUEFfRVhUIiwiQVBQX0VYVCIsIk1BWF9BUkNISVZFX1NDQU5fREVQVEgiLCJkZWZhdWx0U2VydmVyQ2FwcyIsIndlYlN0b3JhZ2VFbmFibGVkIiwibG9jYXRpb25Db250ZXh0RW5hYmxlZCIsImJyb3dzZXJOYW1lIiwicGxhdGZvcm0iLCJqYXZhc2NyaXB0RW5hYmxlZCIsImRhdGFiYXNlRW5hYmxlZCIsInRha2VzU2NyZWVuc2hvdCIsIm5ldHdvcmtDb25uZWN0aW9uRW5hYmxlZCIsIldEQV9TSU1fU1RBUlRVUF9SRVRSSUVTIiwiV0RBX1JFQUxfREVWX1NUQVJUVVBfUkVUUklFUyIsIldEQV9SRUFMX0RFVl9UVVRPUklBTF9VUkwiLCJXREFfU1RBUlRVUF9SRVRSWV9JTlRFUlZBTCIsIkRFRkFVTFRfU0VUVElOR1MiLCJuYXRpdmVXZWJUYXAiLCJuYXRpdmVXZWJUYXBTdHJpY3QiLCJ1c2VKU09OU291cmNlIiwic2hvdWxkVXNlQ29tcGFjdFJlc3BvbnNlcyIsImVsZW1lbnRSZXNwb25zZUF0dHJpYnV0ZXMiLCJtanBlZ1NlcnZlclNjcmVlbnNob3RRdWFsaXR5IiwibWpwZWdTZXJ2ZXJGcmFtZXJhdGUiLCJzY3JlZW5zaG90UXVhbGl0eSIsIm1qcGVnU2NhbGluZ0ZhY3RvciIsInJlZHVjZU1vdGlvbiIsIlNIQVJFRF9SRVNPVVJDRVNfR1VBUkQiLCJBc3luY0xvY2siLCJXRUJfRUxFTUVOVFNfQ0FDSEVfU0laRSIsIlNVUFBPUlRFRF9PUklFTkFUSU9OUyIsIk5PX1BST1hZX05BVElWRV9MSVNUIiwiTk9fUFJPWFlfV0VCX0xJU1QiLCJjb25jYXQiLCJNRU1PSVpFRF9GVU5DVElPTlMiLCJYQ1VJVGVzdERyaXZlciIsIkJhc2VEcml2ZXIiLCJjb25zdHJ1Y3RvciIsIm9wdHMiLCJzaG91bGRWYWxpZGF0ZUNhcHMiLCJkZXNpcmVkQ2FwQ29uc3RyYWludHMiLCJsb2NhdG9yU3RyYXRlZ2llcyIsIndlYkxvY2F0b3JTdHJhdGVnaWVzIiwicmVzZXRJb3MiLCJzZXR0aW5ncyIsIkRldmljZVNldHRpbmdzIiwib25TZXR0aW5nc1VwZGF0ZSIsImJpbmQiLCJsb2dzIiwiZm4iLCJfIiwibWVtb2l6ZSIsImtleSIsInZhbHVlIiwicHJveHlDb21tYW5kIiwid2RhIiwiZGV2aWNlIiwiandwUHJveHlBY3RpdmUiLCJwcm94eVJlcVJlcyIsImp3cFByb3h5QXZvaWQiLCJzYWZhcmkiLCJjYWNoZWRXZGFTdGF0dXMiLCJjdXJXZWJGcmFtZXMiLCJfY3VycmVudFVybCIsImN1ckNvbnRleHQiLCJ4Y29kZVZlcnNpb24iLCJjb250ZXh0cyIsImltcGxpY2l0V2FpdE1zIiwiYXN5bmNsaWJXYWl0TXMiLCJwYWdlTG9hZE1zIiwibGFuZHNjYXBlV2ViQ29vcmRzT2Zmc2V0IiwicmVtb3RlIiwiX2NvbmRpdGlvbkluZHVjZXJTZXJ2aWNlIiwid2ViRWxlbWVudHNDYWNoZSIsIkxSVSIsIm1heCIsImRyaXZlckRhdGEiLCJnZXRTdGF0dXMiLCJkcml2ZXJJbmZvIiwiZ2V0RHJpdmVySW5mbyIsInN0YXR1cyIsImJ1aWxkIiwidmVyc2lvbiIsIm1lcmdlQ2xpQXJnc1RvT3B0cyIsImRpZE1lcmdlIiwiT2JqZWN0IiwiZW50cmllcyIsImNsaUFyZ3MiLCJoYXMiLCJsb2ciLCJpbmZvIiwiY3JlYXRlU2Vzc2lvbiIsImFyZ3MiLCJsaWZlY3ljbGVEYXRhIiwic2Vzc2lvbklkIiwiY2FwcyIsInZhbGlkYXRlRGVzaXJlZENhcHMiLCJzdGFydCIsImFzc2lnbiIsInVkaWQiLCJ1cGRhdGVTZXR0aW5ncyIsIndkYVNldHRpbmdzIiwibWpwZWdTY3JlZW5zaG90VXJsIiwibWpwZWdTdHJlYW0iLCJtanBlZyIsIk1KcGVnU3RyZWFtIiwiZSIsImVycm9yIiwiSlNPTiIsInN0cmluZ2lmeSIsImRlbGV0ZVNlc3Npb24iLCJnZXREZWZhdWx0VXJsIiwiaXNSZWFsRGV2aWNlIiwid2RhTG9jYWxQb3J0IiwiYWRkcmVzcyIsImluY2x1ZGVzIiwicG9ydCIsIm5vUmVzZXQiLCJmdWxsUmVzZXQiLCJwcmludFVzZXIiLCJpb3NTZGtWZXJzaW9uIiwicmVhbERldmljZSIsImRldGVybWluZURldmljZSIsInNpbXVsYXRvckRldmljZXNTZXRQYXRoIiwiZGV2aWNlc1NldFBhdGgiLCJwbGF0Zm9ybVZlcnNpb24iLCJnZXRQbGF0Zm9ybVZlcnNpb24iLCJub3JtYWxpemVkVmVyc2lvbiIsIm5vcm1hbGl6ZVBsYXRmb3JtVmVyc2lvbiIsInV0aWwiLCJjb21wYXJlVmVyc2lvbnMiLCJFcnJvciIsImlzRW1wdHkiLCJ3ZWJEcml2ZXJBZ2VudFVybCIsImdldEFuZENoZWNrWGNvZGVWZXJzaW9uIiwibG9nRXZlbnQiLCJ0b0xvd2VyIiwiYXBwIiwidW5kZWZpbmVkIiwicHJvY2Vzc0FyZ3VtZW50cyIsImJ1bmRsZUlkIiwiU0FGQVJJX0JVTkRMRV9JRCIsInNhZmFyaUluaXRpYWxVcmwiLCJjb25maWd1cmVBcHAiLCJjaGVja0FwcFByZXNlbnQiLCJleHRyYWN0QnVuZGxlSWQiLCJydW5SZXNldCIsIldlYkRyaXZlckFnZW50IiwicmV0cmlldmVEZXJpdmVkRGF0YVBhdGgiLCJjYXRjaCIsImRlYnVnIiwibWVtb2l6ZWRMb2dJbmZvIiwic3RhcnRMb2dDYXB0dXJlIiwic2tpcExvZ0NhcHR1cmUiLCJyZXN1bHQiLCJpc0xvZ0NhcHR1cmVTdGFydGVkIiwiaXNTaW11bGF0b3IiLCJzaHV0ZG93bk90aGVyU2ltdWxhdG9ycyIsImVuc3VyZUZlYXR1cmVFbmFibGVkIiwic3RhcnRTaW0iLCJjdXN0b21TU0xDZXJ0IiwiYWRkQ2VydGlmaWNhdGUiLCJzZXRTYWZhcmlQcmVmcyIsInNldExvY2FsaXphdGlvblByZWZzIiwiaXNCb29sZWFuIiwic2V0UmVkdWNlTW90aW9uIiwicmVkdWNlVHJhbnNwYXJlbmN5Iiwic2V0UmVkdWNlVHJhbnNwYXJlbmN5IiwibGF1bmNoV2l0aElEQiIsImlkYiIsIklEQiIsImNvbm5lY3QiLCJzdGFjayIsIndhcm4iLCJtZXNzYWdlIiwiUHlpZGV2aWNlIiwiaW5zdGFsbFByb2ZpbGUiLCJwYXlsb2FkIiwiaW5zdGFsbEFVVCIsImlzU2FmYXJpIiwiaXNBcHBJbnN0YWxsZWQiLCJlcnJvckFuZFRocm93IiwicGVybWlzc2lvbnMiLCJwZXJtaXNzaW9uc01hcHBpbmciLCJ0b1BhaXJzIiwicGFyc2UiLCJzZXRQZXJtaXNzaW9ucyIsImNhbGVuZGFyQWNjZXNzQXV0aG9yaXplZCIsIm1ldGhvZE5hbWUiLCJzdGFydFdkYSIsIm9yaWVudGF0aW9uIiwic2V0SW5pdGlhbE9yaWVudGF0aW9uIiwiYXV0b1dlYnZpZXciLCJhY3RpdmF0ZVJlY2VudFdlYnZpZXciLCJpc05pbCIsImdldEN1cnJlbnRVcmwiLCJzZXRVcmwiLCJzZXRDdXJyZW50VXJsIiwiZ2V0VXJsIiwiaGFzVmFsdWUiLCJjbGVhbnVwT2Jzb2xldGVQcm9jZXNzZXMiLCJ1c2VQb3J0Rm9yd2FyZGluZyIsImlzTG9jYWxIb3N0Iiwid2RhQmFzZVVybCIsIkRFVklDRV9DT05ORUNUSU9OU19GQUNUT1JZIiwicmVxdWVzdENvbm5lY3Rpb24iLCJ1cmwiLCJkZXZpY2VQb3J0Iiwid2RhUmVtb3RlUG9ydCIsInN5bmNocm9uaXphdGlvbktleSIsIm5hbWUiLCJ1c2VYY3Rlc3RydW5GaWxlIiwiaXNTb3VyY2VGcmVzaCIsImRlcml2ZWREYXRhUGF0aCIsInBhdGgiLCJub3JtYWxpemUiLCJpc0J1c3kiLCJib290c3RyYXBQYXRoIiwiYWNxdWlyZSIsInVzZU5ld1dEQSIsInF1aXRBbmRVbmluc3RhbGwiLCJzZXR1cENhY2hpbmciLCJtc2ciLCJyZXN1bHRCdW5kbGVQYXRoIiwic3RhcnR1cFJldHJpZXMiLCJ3ZGFTdGFydHVwUmV0cmllcyIsInN0YXJ0dXBSZXRyeUludGVydmFsIiwid2RhU3RhcnR1cFJldHJ5SW50ZXJ2YWwiLCJyZXRyeUNvdW50IiwicmV0cnlJbnRlcnZhbCIsInJldHJpZXMiLCJtYWpvciIsInJldHJ5IiwibGF1bmNoIiwiZXJyIiwiZXJyb3JNc2ciLCJvcmlnaW5hbFN0YWNrdHJhY2UiLCJzdGFydFdkYVNlc3Npb24iLCJjbGVhclN5c3RlbUZpbGVzIiwibWFya1N5c3RlbUZpbGVzRm9yQ2xlYW51cCIsImZ1bGx5U3RhcnRlZCIsInJ1blJlYWxEZXZpY2VSZXNldCIsInJ1blNpbXVsYXRvclJlc2V0IiwicmVtb3ZlQWxsU2Vzc2lvbldlYlNvY2tldEhhbmRsZXJzIiwic2VydmVyIiwicmVjb3JkZXIiLCJjb21wYWN0IiwiX3JlY2VudFNjcmVlblJlY29yZGVyIiwiX2F1ZGlvUmVjb3JkZXIiLCJfdHJhZmZpY0NhcHR1cmUiLCJpbnRlcnJ1cHQiLCJjbGVhbnVwIiwiX3BlcmZSZWNvcmRlcnMiLCJCIiwiYWxsIiwibWFwIiwieCIsInN0b3AiLCJtb2JpbGVEaXNhYmxlQ29uZGl0aW9uSW5kdWNlciIsInN0b3BSZW1vdGUiLCJyZXNldE9uU2Vzc2lvblN0YXJ0T25seSIsImVuZm9yY2VTaW11bGF0b3JTaHV0ZG93biIsImNyZWF0ZVNpbSIsInNodXRkb3duU2ltdWxhdG9yIiwiZGVsZXRlIiwic2hvdWxkUmVzZXRMb2NhdGlvblNlcnZpdmNlIiwicmVzZXRMb2NhdGlvblNlcnZpY2UiLCJtb2JpbGVSZXNldExvY2F0aW9uU2VydmljZSIsImlnbm9yZSIsInN5c2xvZyIsInN0b3BDYXB0dXJlIiwiandwcm94eSIsInF1aXQiLCJyZWxlYXNlQ29ubmVjdGlvbiIsImV4ZWN1dGVDb21tYW5kIiwiY21kIiwicmVjZWl2ZUFzeW5jUmVzcG9uc2UiLCJhcHBJc1BhY2thZ2VPckJ1bmRsZSIsInRlc3QiLCJoZWxwZXJzIiwib25Qb3N0UHJvY2VzcyIsIm9uUG9zdENvbmZpZ3VyZUFwcCIsInN1cHBvcnRlZEV4dGVuc2lvbnMiLCJ1bnppcEFwcCIsImFwcFBhdGgiLCJkZXB0aCIsInJvb3REaXIiLCJtYXRjaGVkUGF0aHMiLCJmaW5kQXBwcyIsImJhc2VuYW1lIiwicGx1cmFsaXplIiwibGVuZ3RoIiwibWF0Y2hlZFBhdGgiLCJmdWxsUGF0aCIsImpvaW4iLCJpc0FwcEJ1bmRsZSIsInN1cHBvcnRlZFBsYXRmb3JtcyIsImZldGNoU3VwcG9ydGVkQXBwUGxhdGZvcm1zIiwic29tZSIsInAiLCJpc29sYXRlQXBwQnVuZGxlIiwiZW5kc1dpdGgiLCJmcyIsInN0YXQiLCJpc0ZpbGUiLCJyaW1yYWYiLCJjYWNoZWRBcHBJbmZvIiwiaXNVcmwiLCJpc1BsYWluT2JqZWN0IiwiaGFzaCIsInBhY2thZ2VIYXNoIiwiZXhpc3RzIiwiZ2xvYiIsImN3ZCIsInN0cmljdCIsIm5vc29ydCIsImludGVncml0eSIsImZvbGRlciIsImRldmljZU5hbWUiLCJ0cmFuc2xhdGVEZXZpY2VOYW1lIiwic2V0dXBWZXJzaW9uQ2FwcyIsImdldEFuZENoZWNrSW9zU2RrVmVyc2lvbiIsInRvTG93ZXJDYXNlIiwiZGV0ZWN0VWRpZCIsImdldEV4aXN0aW5nU2ltIiwiZGV2aWNlUGxhdGZvcm0iLCJkZXZpY2VzIiwiZ2V0Q29ubmVjdGVkRGV2aWNlcyIsImdldFNpbXVsYXRvciIsImlnbiIsImdldFJlYWxEZXZpY2VPYmoiLCJlbmZvcmNlRnJlc2hTaW11bGF0b3JDcmVhdGlvbiIsInJ1bk9wdHMiLCJzY2FsZUZhY3RvciIsImNvbm5lY3RIYXJkd2FyZUtleWJvYXJkIiwicGFzdGVib2FyZEF1dG9tYXRpY1N5bmMiLCJzaW11bGF0b3JQYXN0ZWJvYXJkQXV0b21hdGljU3luYyIsImlzSGVhZGxlc3MiLCJ0cmFjZVBvaW50ZXIiLCJzaW11bGF0b3JUcmFjZVBvaW50ZXIiLCJkZXZpY2VQcmVmZXJlbmNlcyIsIlNpbXVsYXRvcldpbmRvd0NlbnRlciIsImlzSW50ZWdlciIsInNpbXVsYXRvclN0YXJ0dXBUaW1lb3V0Iiwic3RhcnR1cFRpbWVvdXQiLCJpc1N0cmluZyIsInRvVXBwZXJDYXNlIiwiU2ltdWxhdG9yV2luZG93T3JpZW50YXRpb24iLCJTaW11bGF0b3JXaW5kb3dSb3RhdGlvbkFuZ2xlIiwicnVuIiwicGxhdGZvcm1OYW1lIiwiaXNUdk9TIiwiUExBVEZPUk1fTkFNRV9UVk9TIiwiUExBVEZPUk1fTkFNRV9JT1MiLCJzaW0iLCJsYXVuY2hBcHAiLCJBUFBfTEFVTkNIX1RJTUVPVVQiLCJjaGVja1N0YXR1cyIsInJlc3BvbnNlIiwiY3VycmVudEFwcCIsImJ1bmRsZUlEIiwicGFyc2VJbnQiLCJpc0FycmF5IiwiZW52IiwibGFuZ3VhZ2UiLCJwdXNoIiwibG9jYWxlIiwic2hvdWxkVGVybWluYXRlQXBwIiwiZm9yY2VBcHBMYXVuY2giLCJ3ZGFDYXBzIiwiYXV0b0xhdW5jaCIsImFyZ3VtZW50cyIsImVudmlyb25tZW50IiwiZXZlbnRsb29wSWRsZURlbGF5U2VjIiwid2RhRXZlbnRsb29wSWRsZURlbGF5Iiwic2hvdWxkV2FpdEZvclF1aWVzY2VuY2UiLCJ3YWl0Rm9yUXVpZXNjZW5jZSIsInNob3VsZFVzZVRlc3RNYW5hZ2VyRm9yVmlzaWJpbGl0eURldGVjdGlvbiIsInNpbXBsZUlzVmlzaWJsZUNoZWNrIiwibWF4VHlwaW5nRnJlcXVlbmN5Iiwic2hvdWxkVXNlU2luZ2xldG9uVGVzdE1hbmFnZXIiLCJ3YWl0Rm9ySWRsZVRpbWVvdXQiLCJlbGVtZW50UmVzcG9uc2VGaWVsZHMiLCJkaXNhYmxlQXV0b21hdGljU2NyZWVuc2hvdHMiLCJ1c2VOYXRpdmVDYWNoaW5nU3RyYXRlZ3kiLCJmb3JjZVNpbXVsYXRvclNvZnR3YXJlS2V5Ym9hcmRQcmVzZW5jZSIsImF1dG9BY2NlcHRBbGVydHMiLCJkZWZhdWx0QWxlcnRBY3Rpb24iLCJhdXRvRGlzbWlzc0FsZXJ0cyIsImNhcGFiaWxpdGllcyIsImZpcnN0TWF0Y2giLCJhbHdheXNNYXRjaCIsInByb3h5QWN0aXZlIiwiZ2V0UHJveHlBdm9pZExpc3QiLCJpc1dlYnZpZXciLCJjYW5Qcm94eSIsImlzV2ViQ29udGV4dCIsInZhbGlkYXRlTG9jYXRvclN0cmF0ZWd5Iiwic3RyYXRlZ3kiLCJjb2VyY2VWZXJzaW9uIiwidmVyaWZ5UHJvY2Vzc0FyZ3VtZW50Iiwia2V5Y2hhaW5QYXRoIiwia2V5Y2hhaW5QYXNzd29yZCIsImNvbW1hbmRUaW1lb3V0cyIsIm5vcm1hbGl6ZUNvbW1hbmRUaW1lb3V0cyIsInByb3RvY29sIiwiaG9zdCIsInBlcm1zIiwiYWRkaXRpb25hbFdlYnZpZXdCdW5kbGVJZHMiLCJwYXJzZUNhcHNBcnJheSIsInZlcmlmeUFwcGxpY2F0aW9uUGxhdGZvcm0iLCJpbnN0YWxsVG9SZWFsRGV2aWNlIiwidGltZW91dCIsImFwcFB1c2hUaW1lb3V0IiwiYXBwSW5zdGFsbFN0cmF0ZWd5IiwiaW5zdGFsbFRvU2ltdWxhdG9yIiwibmV3U2ltdWxhdG9yIiwib3RoZXJBcHBzIiwiaW5zdGFsbE90aGVyQXBwcyIsImlvc0luc3RhbGxQYXVzZSIsInBhdXNlIiwiZGVsYXkiLCJhcHBzTGlzdCIsImFwcFBhdGhzIiwib3RoZXJBcHAiLCJkc3RPcmllbnRhdGlvbiIsInRvVXBwZXIiLCJfZ2V0Q29tbWFuZFRpbWVvdXQiLCJjbWROYW1lIiwiREVGQVVMVF9USU1FT1VUX0tFWSIsImdldFNlc3Npb24iLCJkcml2ZXJTZXNzaW9uIiwic2hvdWxkR2V0RGV2aWNlQ2FwcyIsImluY2x1ZGVEZXZpY2VDYXBzVG9TZXNzaW9uSW5mbyIsImRldmljZUNhcHMiLCJzdGF0dXNCYXJTaXplIiwic2NhbGUiLCJnZXRTY3JlZW5JbmZvIiwicGl4ZWxSYXRpbyIsInN0YXRCYXJIZWlnaHQiLCJoZWlnaHQiLCJ2aWV3cG9ydFJlY3QiLCJnZXRWaWV3cG9ydFJlY3QiLCJyZXNldCIsImNsb25lRGVlcCIsInNodXRkb3duSGFuZGxlciIsInJlc2V0T25VbmV4cGVjdGVkU2h1dGRvd24iLCJwcm90b3R5cGUiLCJjb21tYW5kcyJdLCJzb3VyY2VzIjpbIi4uLy4uL2xpYi9kcml2ZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQmFzZURyaXZlciwgRGV2aWNlU2V0dGluZ3MgfSBmcm9tICdhcHBpdW0vZHJpdmVyJztcbmltcG9ydCB7IHV0aWwsIG1qcGVnLCBmcyB9IGZyb20gJ2FwcGl1bS9zdXBwb3J0JztcbmltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgdXJsIGZyb20gJ3VybCc7XG5pbXBvcnQgeyBXZWJEcml2ZXJBZ2VudCB9IGZyb20gJ2FwcGl1bS13ZWJkcml2ZXJhZ2VudCc7XG5pbXBvcnQgTFJVIGZyb20gJ2xydS1jYWNoZSc7XG5pbXBvcnQge1xuICBjcmVhdGVTaW0sIGdldEV4aXN0aW5nU2ltLCBydW5TaW11bGF0b3JSZXNldCwgaW5zdGFsbFRvU2ltdWxhdG9yLFxuICBzaHV0ZG93bk90aGVyU2ltdWxhdG9ycywgc2h1dGRvd25TaW11bGF0b3IsIHNldFNhZmFyaVByZWZzLCBzZXRMb2NhbGl6YXRpb25QcmVmc1xufSBmcm9tICcuL3NpbXVsYXRvci1tYW5hZ2VtZW50JztcbmltcG9ydCB7IGdldFNpbXVsYXRvciB9IGZyb20gJ2FwcGl1bS1pb3Mtc2ltdWxhdG9yJztcbmltcG9ydCB7IHJldHJ5SW50ZXJ2YWwsIHJldHJ5IH0gZnJvbSAnYXN5bmNib3gnO1xuaW1wb3J0IHtcbiAgdmVyaWZ5QXBwbGljYXRpb25QbGF0Zm9ybSwgZXh0cmFjdEJ1bmRsZUlkLCBTQUZBUklfQlVORExFX0lELFxuICBmZXRjaFN1cHBvcnRlZEFwcFBsYXRmb3JtcywgQVBQX0VYVCwgSVBBX0VYVCxcbiAgaXNBcHBCdW5kbGUsIGZpbmRBcHBzLCBpc29sYXRlQXBwQnVuZGxlLFxufSBmcm9tICcuL2FwcC11dGlscyc7XG5pbXBvcnQge1xuICBkZXNpcmVkQ2FwQ29uc3RyYWludHMsIFBMQVRGT1JNX05BTUVfSU9TLCBQTEFURk9STV9OQU1FX1RWT1Ncbn0gZnJvbSAnLi9kZXNpcmVkLWNhcHMnO1xuaW1wb3J0IGNvbW1hbmRzIGZyb20gJy4vY29tbWFuZHMvaW5kZXgnO1xuaW1wb3J0IHtcbiAgZGV0ZWN0VWRpZCwgZ2V0QW5kQ2hlY2tYY29kZVZlcnNpb24sIGdldEFuZENoZWNrSW9zU2RrVmVyc2lvbixcbiAgY2hlY2tBcHBQcmVzZW50LCBnZXREcml2ZXJJbmZvLFxuICBjbGVhclN5c3RlbUZpbGVzLCB0cmFuc2xhdGVEZXZpY2VOYW1lLCBub3JtYWxpemVDb21tYW5kVGltZW91dHMsXG4gIERFRkFVTFRfVElNRU9VVF9LRVksIG1hcmtTeXN0ZW1GaWxlc0ZvckNsZWFudXAsXG4gIHByaW50VXNlciwgcmVtb3ZlQWxsU2Vzc2lvbldlYlNvY2tldEhhbmRsZXJzLFxuICBub3JtYWxpemVQbGF0Zm9ybVZlcnNpb24sIGlzTG9jYWxIb3N0XG59IGZyb20gJy4vdXRpbHMnO1xuaW1wb3J0IHtcbiAgZ2V0Q29ubmVjdGVkRGV2aWNlcywgcnVuUmVhbERldmljZVJlc2V0LCBpbnN0YWxsVG9SZWFsRGV2aWNlLFxuICBnZXRSZWFsRGV2aWNlT2JqXG59IGZyb20gJy4vcmVhbC1kZXZpY2UtbWFuYWdlbWVudCc7XG5pbXBvcnQgQiBmcm9tICdibHVlYmlyZCc7XG5pbXBvcnQgQXN5bmNMb2NrIGZyb20gJ2FzeW5jLWxvY2snO1xuaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7XG5pbXBvcnQgSURCIGZyb20gJ2FwcGl1bS1pZGInO1xuaW1wb3J0IERFVklDRV9DT05ORUNUSU9OU19GQUNUT1JZIGZyb20gJy4vZGV2aWNlLWNvbm5lY3Rpb25zLWZhY3RvcnknO1xuaW1wb3J0IFB5aWRldmljZSBmcm9tICcuL3B5LWlvcy1kZXZpY2UtY2xpZW50JztcblxuXG5jb25zdCBTSFVURE9XTl9PVEhFUl9GRUFUX05BTUUgPSAnc2h1dGRvd25fb3RoZXJfc2ltcyc7XG5jb25zdCBDVVNUT01JWkVfUkVTVUxUX0JVTkRQRV9QQVRIID0gJ2N1c3RvbWl6ZV9yZXN1bHRfYnVuZGxlX3BhdGgnO1xuXG5jb25zdCBTVVBQT1JURURfRVhURU5TSU9OUyA9IFtJUEFfRVhULCBBUFBfRVhUXTtcbmNvbnN0IE1BWF9BUkNISVZFX1NDQU5fREVQVEggPSAxO1xuY29uc3QgZGVmYXVsdFNlcnZlckNhcHMgPSB7XG4gIHdlYlN0b3JhZ2VFbmFibGVkOiBmYWxzZSxcbiAgbG9jYXRpb25Db250ZXh0RW5hYmxlZDogZmFsc2UsXG4gIGJyb3dzZXJOYW1lOiAnJyxcbiAgcGxhdGZvcm06ICdNQUMnLFxuICBqYXZhc2NyaXB0RW5hYmxlZDogdHJ1ZSxcbiAgZGF0YWJhc2VFbmFibGVkOiBmYWxzZSxcbiAgdGFrZXNTY3JlZW5zaG90OiB0cnVlLFxuICBuZXR3b3JrQ29ubmVjdGlvbkVuYWJsZWQ6IGZhbHNlLFxufTtcbmNvbnN0IFdEQV9TSU1fU1RBUlRVUF9SRVRSSUVTID0gMjtcbmNvbnN0IFdEQV9SRUFMX0RFVl9TVEFSVFVQX1JFVFJJRVMgPSAxO1xuY29uc3QgV0RBX1JFQUxfREVWX1RVVE9SSUFMX1VSTCA9ICdodHRwczovL2dpdGh1Yi5jb20vYXBwaXVtL2FwcGl1bS14Y3VpdGVzdC1kcml2ZXIvYmxvYi9tYXN0ZXIvZG9jcy9yZWFsLWRldmljZS1jb25maWcubWQnO1xuY29uc3QgV0RBX1NUQVJUVVBfUkVUUllfSU5URVJWQUwgPSAxMDAwMDtcbmNvbnN0IERFRkFVTFRfU0VUVElOR1MgPSB7XG4gIG5hdGl2ZVdlYlRhcDogZmFsc2UsXG4gIG5hdGl2ZVdlYlRhcFN0cmljdDogZmFsc2UsXG4gIHVzZUpTT05Tb3VyY2U6IGZhbHNlLFxuICBzaG91bGRVc2VDb21wYWN0UmVzcG9uc2VzOiB0cnVlLFxuICBlbGVtZW50UmVzcG9uc2VBdHRyaWJ1dGVzOiAndHlwZSxsYWJlbCcsXG4gIC8vIFJlYWQgaHR0cHM6Ly9naXRodWIuY29tL2FwcGl1bS9XZWJEcml2ZXJBZ2VudC9ibG9iL21hc3Rlci9XZWJEcml2ZXJBZ2VudExpYi9VdGlsaXRpZXMvRkJDb25maWd1cmF0aW9uLm0gZm9yIGZvbGxvd2luZyBzZXR0aW5ncycgdmFsdWVzXG4gIG1qcGVnU2VydmVyU2NyZWVuc2hvdFF1YWxpdHk6IDI1LFxuICBtanBlZ1NlcnZlckZyYW1lcmF0ZTogMTAsXG4gIHNjcmVlbnNob3RRdWFsaXR5OiAxLFxuICBtanBlZ1NjYWxpbmdGYWN0b3I6IDEwMCxcbiAgLy8gc2V0IGByZWR1Y2VNb3Rpb25gIHRvIGBudWxsYCBzbyB0aGF0IGl0IHdpbGwgYmUgdmVyaWZpZWQgYnV0IHN0aWxsIHNldCBlaXRoZXIgdHJ1ZS9mYWxzZVxuICByZWR1Y2VNb3Rpb246IG51bGwsXG59O1xuLy8gVGhpcyBsb2NrIGFzc3VyZXMsIHRoYXQgZWFjaCBkcml2ZXIgc2Vzc2lvbiBkb2VzIG5vdFxuLy8gYWZmZWN0IHNoYXJlZCByZXNvdXJjZXMgb2YgdGhlIG90aGVyIHBhcmFsbGVsIHNlc3Npb25zXG5jb25zdCBTSEFSRURfUkVTT1VSQ0VTX0dVQVJEID0gbmV3IEFzeW5jTG9jaygpO1xuY29uc3QgV0VCX0VMRU1FTlRTX0NBQ0hFX1NJWkUgPSA1MDA7XG5jb25zdCBTVVBQT1JURURfT1JJRU5BVElPTlMgPSBbJ0xBTkRTQ0FQRScsICdQT1JUUkFJVCddO1xuLyogZXNsaW50LWRpc2FibGUgbm8tdXNlbGVzcy1lc2NhcGUgKi9cbmNvbnN0IE5PX1BST1hZX05BVElWRV9MSVNUID0gW1xuICBbJ0RFTEVURScsIC93aW5kb3cvXSxcbiAgWydHRVQnLCAvXlxcL3Nlc3Npb25cXC9bXlxcL10rJC9dLFxuICBbJ0dFVCcsIC9hbGVydF90ZXh0L10sXG4gIFsnR0VUJywgL2FsZXJ0XFwvW15cXC9dKy9dLFxuICBbJ0dFVCcsIC9hcHBpdW0vXSxcbiAgWydHRVQnLCAvYXR0cmlidXRlL10sXG4gIFsnR0VUJywgL2NvbnRleHQvXSxcbiAgWydHRVQnLCAvbG9jYXRpb24vXSxcbiAgWydHRVQnLCAvbG9nL10sXG4gIFsnR0VUJywgL3NjcmVlbnNob3QvXSxcbiAgWydHRVQnLCAvc2l6ZS9dLFxuICBbJ0dFVCcsIC9zb3VyY2UvXSxcbiAgWydHRVQnLCAvdGltZW91dHMkL10sXG4gIFsnR0VUJywgL3VybC9dLFxuICBbJ0dFVCcsIC93aW5kb3cvXSxcbiAgWydQT1NUJywgL2FjY2VwdF9hbGVydC9dLFxuICBbJ1BPU1QnLCAvYWN0aW9ucyQvXSxcbiAgWydQT1NUJywgL2FsZXJ0X3RleHQvXSxcbiAgWydQT1NUJywgL2FsZXJ0XFwvW15cXC9dKy9dLFxuICBbJ1BPU1QnLCAvYXBwaXVtL10sXG4gIFsnUE9TVCcsIC9hcHBpdW1cXC9kZXZpY2VcXC9pc19sb2NrZWQvXSxcbiAgWydQT1NUJywgL2FwcGl1bVxcL2RldmljZVxcL2xvY2svXSxcbiAgWydQT1NUJywgL2FwcGl1bVxcL2RldmljZVxcL3VubG9jay9dLFxuICBbJ1BPU1QnLCAvYmFjay9dLFxuICBbJ1BPU1QnLCAvY2xlYXIvXSxcbiAgWydQT1NUJywgL2NvbnRleHQvXSxcbiAgWydQT1NUJywgL2Rpc21pc3NfYWxlcnQvXSxcbiAgWydQT1NUJywgL2VsZW1lbnRcXC9hY3RpdmUvXSwgLy8gTUpTT05XUCBnZXQgYWN0aXZlIGVsZW1lbnQgc2hvdWxkIHByb3h5XG4gIFsnUE9TVCcsIC9lbGVtZW50JC9dLFxuICBbJ1BPU1QnLCAvZWxlbWVudHMkL10sXG4gIFsnUE9TVCcsIC9leGVjdXRlL10sXG4gIFsnUE9TVCcsIC9rZXlzL10sXG4gIFsnUE9TVCcsIC9sb2cvXSxcbiAgWydQT1NUJywgL21vdmV0by9dLFxuICBbJ1BPU1QnLCAvcmVjZWl2ZV9hc3luY19yZXNwb25zZS9dLCAvLyBhbHdheXMsIGluIGNhc2UgY29udGV4dCBzd2l0Y2hlcyB3aGlsZSB3YWl0aW5nXG4gIFsnUE9TVCcsIC9zZXNzaW9uXFwvW15cXC9dK1xcL2xvY2F0aW9uL10sIC8vIGdlbyBsb2NhdGlvbiwgYnV0IG5vdCBlbGVtZW50IGxvY2F0aW9uXG4gIFsnUE9TVCcsIC9zaGFrZS9dLFxuICBbJ1BPU1QnLCAvdGltZW91dHMvXSxcbiAgWydQT1NUJywgL3RvdWNoL10sXG4gIFsnUE9TVCcsIC91cmwvXSxcbiAgWydQT1NUJywgL3ZhbHVlL10sXG4gIFsnUE9TVCcsIC93aW5kb3cvXSxcbiAgWydERUxFVEUnLCAvY29va2llL10sXG4gIFsnR0VUJywgL2Nvb2tpZS9dLFxuICBbJ1BPU1QnLCAvY29va2llL10sXG5dO1xuY29uc3QgTk9fUFJPWFlfV0VCX0xJU1QgPSBbXG4gIFsnR0VUJywgL2F0dHJpYnV0ZS9dLFxuICBbJ0dFVCcsIC9lbGVtZW50L10sXG4gIFsnR0VUJywgL3RleHQvXSxcbiAgWydHRVQnLCAvdGl0bGUvXSxcbiAgWydQT1NUJywgL2NsZWFyL10sXG4gIFsnUE9TVCcsIC9jbGljay9dLFxuICBbJ1BPU1QnLCAvZWxlbWVudC9dLFxuICBbJ1BPU1QnLCAvZm9yd2FyZC9dLFxuICBbJ1BPU1QnLCAvZnJhbWUvXSxcbiAgWydQT1NUJywgL2tleXMvXSxcbiAgWydQT1NUJywgL3JlZnJlc2gvXSxcbl0uY29uY2F0KE5PX1BST1hZX05BVElWRV9MSVNUKTtcbi8qIGVzbGludC1lbmFibGUgbm8tdXNlbGVzcy1lc2NhcGUgKi9cblxuY29uc3QgTUVNT0laRURfRlVOQ1RJT05TID0gW1xuICAnZ2V0U3RhdHVzQmFySGVpZ2h0JyxcbiAgJ2dldERldmljZVBpeGVsUmF0aW8nLFxuICAnZ2V0U2NyZWVuSW5mbycsXG5dO1xuXG5cbmNsYXNzIFhDVUlUZXN0RHJpdmVyIGV4dGVuZHMgQmFzZURyaXZlciB7XG4gIGNvbnN0cnVjdG9yIChvcHRzID0ge30sIHNob3VsZFZhbGlkYXRlQ2FwcyA9IHRydWUpIHtcbiAgICBzdXBlcihvcHRzLCBzaG91bGRWYWxpZGF0ZUNhcHMpO1xuXG4gICAgdGhpcy5kZXNpcmVkQ2FwQ29uc3RyYWludHMgPSBkZXNpcmVkQ2FwQ29uc3RyYWludHM7XG5cbiAgICB0aGlzLmxvY2F0b3JTdHJhdGVnaWVzID0gW1xuICAgICAgJ3hwYXRoJyxcbiAgICAgICdpZCcsXG4gICAgICAnbmFtZScsXG4gICAgICAnY2xhc3MgbmFtZScsXG4gICAgICAnLWlvcyBwcmVkaWNhdGUgc3RyaW5nJyxcbiAgICAgICctaW9zIGNsYXNzIGNoYWluJyxcbiAgICAgICdhY2Nlc3NpYmlsaXR5IGlkJyxcbiAgICAgICdjc3Mgc2VsZWN0b3InLFxuICAgIF07XG4gICAgdGhpcy53ZWJMb2NhdG9yU3RyYXRlZ2llcyA9IFtcbiAgICAgICdsaW5rIHRleHQnLFxuICAgICAgJ2NzcyBzZWxlY3RvcicsXG4gICAgICAndGFnIG5hbWUnLFxuICAgICAgJ2xpbmsgdGV4dCcsXG4gICAgICAncGFydGlhbCBsaW5rIHRleHQnLFxuICAgIF07XG4gICAgdGhpcy5yZXNldElvcygpO1xuICAgIHRoaXMuc2V0dGluZ3MgPSBuZXcgRGV2aWNlU2V0dGluZ3MoREVGQVVMVF9TRVRUSU5HUywgdGhpcy5vblNldHRpbmdzVXBkYXRlLmJpbmQodGhpcykpO1xuICAgIHRoaXMubG9ncyA9IHt9O1xuXG4gICAgLy8gbWVtb2l6ZSBmdW5jdGlvbnMgaGVyZSwgc28gdGhhdCB0aGV5IGFyZSBkb25lIG9uIGEgcGVyLWluc3RhbmNlIGJhc2lzXG4gICAgZm9yIChjb25zdCBmbiBvZiBNRU1PSVpFRF9GVU5DVElPTlMpIHtcbiAgICAgIHRoaXNbZm5dID0gXy5tZW1vaXplKHRoaXNbZm5dKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBvblNldHRpbmdzVXBkYXRlIChrZXksIHZhbHVlKSB7XG4gICAgaWYgKGtleSAhPT0gJ25hdGl2ZVdlYlRhcCcgJiYga2V5ICE9PSAnbmF0aXZlV2ViVGFwU3RyaWN0Jykge1xuICAgICAgcmV0dXJuIGF3YWl0IHRoaXMucHJveHlDb21tYW5kKCcvYXBwaXVtL3NldHRpbmdzJywgJ1BPU1QnLCB7XG4gICAgICAgIHNldHRpbmdzOiB7W2tleV06IHZhbHVlfVxuICAgICAgfSk7XG4gICAgfVxuICAgIHRoaXMub3B0c1trZXldID0gISF2YWx1ZTtcbiAgfVxuXG4gIHJlc2V0SW9zICgpIHtcbiAgICB0aGlzLm9wdHMgPSB0aGlzLm9wdHMgfHwge307XG4gICAgdGhpcy53ZGEgPSBudWxsO1xuICAgIHRoaXMub3B0cy5kZXZpY2UgPSBudWxsO1xuICAgIHRoaXMuandwUHJveHlBY3RpdmUgPSBmYWxzZTtcbiAgICB0aGlzLnByb3h5UmVxUmVzID0gbnVsbDtcbiAgICB0aGlzLmp3cFByb3h5QXZvaWQgPSBbXTtcbiAgICB0aGlzLnNhZmFyaSA9IGZhbHNlO1xuICAgIHRoaXMuY2FjaGVkV2RhU3RhdHVzID0gbnVsbDtcblxuICAgIHRoaXMuY3VyV2ViRnJhbWVzID0gW107XG4gICAgdGhpcy5fY3VycmVudFVybCA9IG51bGw7XG4gICAgdGhpcy5jdXJDb250ZXh0ID0gbnVsbDtcbiAgICB0aGlzLnhjb2RlVmVyc2lvbiA9IHt9O1xuICAgIHRoaXMuY29udGV4dHMgPSBbXTtcbiAgICB0aGlzLmltcGxpY2l0V2FpdE1zID0gMDtcbiAgICB0aGlzLmFzeW5jbGliV2FpdE1zID0gMDtcbiAgICB0aGlzLnBhZ2VMb2FkTXMgPSA2MDAwO1xuICAgIHRoaXMubGFuZHNjYXBlV2ViQ29vcmRzT2Zmc2V0ID0gMDtcbiAgICB0aGlzLnJlbW90ZSA9IG51bGw7XG4gICAgdGhpcy5fY29uZGl0aW9uSW5kdWNlclNlcnZpY2UgPSBudWxsO1xuXG4gICAgdGhpcy53ZWJFbGVtZW50c0NhY2hlID0gbmV3IExSVSh7XG4gICAgICBtYXg6IFdFQl9FTEVNRU5UU19DQUNIRV9TSVpFLFxuICAgIH0pO1xuICB9XG5cbiAgZ2V0IGRyaXZlckRhdGEgKCkge1xuICAgIC8vIFRPRE8gZmlsbCBvdXQgcmVzb3VyY2UgaW5mbyBoZXJlXG4gICAgcmV0dXJuIHt9O1xuICB9XG5cbiAgYXN5bmMgZ2V0U3RhdHVzICgpIHtcbiAgICBpZiAodHlwZW9mIHRoaXMuZHJpdmVySW5mbyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRoaXMuZHJpdmVySW5mbyA9IGF3YWl0IGdldERyaXZlckluZm8oKTtcbiAgICB9XG4gICAgbGV0IHN0YXR1cyA9IHtidWlsZDoge3ZlcnNpb246IHRoaXMuZHJpdmVySW5mby52ZXJzaW9ufX07XG4gICAgaWYgKHRoaXMuY2FjaGVkV2RhU3RhdHVzKSB7XG4gICAgICBzdGF0dXMud2RhID0gdGhpcy5jYWNoZWRXZGFTdGF0dXM7XG4gICAgfVxuICAgIHJldHVybiBzdGF0dXM7XG4gIH1cblxuICBtZXJnZUNsaUFyZ3NUb09wdHMgKCkge1xuICAgIGxldCBkaWRNZXJnZSA9IGZhbHNlO1xuICAgIC8vIHRoaXMuY2xpQXJncyBzaG91bGQgbmV2ZXIgaW5jbHVkZSBhbnl0aGluZyB3ZSBkbyBub3QgZXhwZWN0LlxuICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHRoaXMuY2xpQXJncyA/PyB7fSkpIHtcbiAgICAgIGlmIChfLmhhcyh0aGlzLm9wdHMsIGtleSkpIHtcbiAgICAgICAgdGhpcy5sb2cuaW5mbyhgQ0xJIGFyZyAnJHtrZXl9JyB3aXRoIHZhbHVlICcke3ZhbHVlfScgb3ZlcndyaXRlcyB2YWx1ZSAnJHt0aGlzLm9wdHNba2V5XX0nIHNlbnQgaW4gdmlhIGNhcHMpYCk7XG4gICAgICAgIGRpZE1lcmdlID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHRoaXMub3B0c1trZXldID0gdmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBkaWRNZXJnZTtcbiAgfVxuXG4gIGFzeW5jIGNyZWF0ZVNlc3Npb24gKC4uLmFyZ3MpIHtcbiAgICB0aGlzLmxpZmVjeWNsZURhdGEgPSB7fTsgLy8gdGhpcyBpcyB1c2VkIGZvciBrZWVwaW5nIHRyYWNrIG9mIHRoZSBzdGF0ZSB3ZSBzdGFydCBzbyB3aGVuIHdlIGRlbGV0ZSB0aGUgc2Vzc2lvbiB3ZSBjYW4gcHV0IHRoaW5ncyBiYWNrXG4gICAgdHJ5IHtcbiAgICAgIGxldCBbc2Vzc2lvbklkLCBjYXBzXSA9IGF3YWl0IHN1cGVyLmNyZWF0ZVNlc3Npb24oLi4uYXJncyk7XG4gICAgICB0aGlzLm9wdHMuc2Vzc2lvbklkID0gc2Vzc2lvbklkO1xuXG4gICAgICAvLyBtZXJnZSBjbGkgYXJncyB0byBvcHRzLCBhbmQgaWYgd2UgZGlkIG1lcmdlIGFueSwgcmV2YWxpZGF0ZSBvcHRzIHRvIGVuc3VyZSB0aGUgZmluYWwgc2V0XG4gICAgICAvLyBpcyBhbHNvIGNvbnNpc3RlbnRcbiAgICAgIGlmICh0aGlzLm1lcmdlQ2xpQXJnc1RvT3B0cygpKSB7XG4gICAgICAgIHRoaXMudmFsaWRhdGVEZXNpcmVkQ2Fwcyh7Li4uY2FwcywgLi4udGhpcy5jbGlBcmdzfSk7XG4gICAgICB9XG5cbiAgICAgIGF3YWl0IHRoaXMuc3RhcnQoKTtcblxuICAgICAgLy8gbWVyZ2Ugc2VydmVyIGNhcGFiaWxpdGllcyArIGRlc2lyZWQgY2FwYWJpbGl0aWVzXG4gICAgICBjYXBzID0gT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdFNlcnZlckNhcHMsIGNhcHMpO1xuICAgICAgLy8gdXBkYXRlIHRoZSB1ZGlkIHdpdGggd2hhdCBpcyBhY3R1YWxseSB1c2VkXG4gICAgICBjYXBzLnVkaWQgPSB0aGlzLm9wdHMudWRpZDtcbiAgICAgIC8vIGVuc3VyZSB3ZSB0cmFjayBuYXRpdmVXZWJUYXAgY2FwYWJpbGl0eSBhcyBhIHNldHRpbmcgYXMgd2VsbFxuICAgICAgaWYgKF8uaGFzKHRoaXMub3B0cywgJ25hdGl2ZVdlYlRhcCcpKSB7XG4gICAgICAgIGF3YWl0IHRoaXMudXBkYXRlU2V0dGluZ3Moe25hdGl2ZVdlYlRhcDogdGhpcy5vcHRzLm5hdGl2ZVdlYlRhcH0pO1xuICAgICAgfVxuICAgICAgLy8gZW5zdXJlIHdlIHRyYWNrIG5hdGl2ZVdlYlRhcFN0cmljdCBjYXBhYmlsaXR5IGFzIGEgc2V0dGluZyBhcyB3ZWxsXG4gICAgICBpZiAoXy5oYXModGhpcy5vcHRzLCAnbmF0aXZlV2ViVGFwU3RyaWN0JykpIHtcbiAgICAgICAgYXdhaXQgdGhpcy51cGRhdGVTZXR0aW5ncyh7bmF0aXZlV2ViVGFwU3RyaWN0OiB0aGlzLm9wdHMubmF0aXZlV2ViVGFwU3RyaWN0fSk7XG4gICAgICB9XG4gICAgICAvLyBlbnN1cmUgd2UgdHJhY2sgdXNlSlNPTlNvdXJjZSBjYXBhYmlsaXR5IGFzIGEgc2V0dGluZyBhcyB3ZWxsXG4gICAgICBpZiAoXy5oYXModGhpcy5vcHRzLCAndXNlSlNPTlNvdXJjZScpKSB7XG4gICAgICAgIGF3YWl0IHRoaXMudXBkYXRlU2V0dGluZ3Moe3VzZUpTT05Tb3VyY2U6IHRoaXMub3B0cy51c2VKU09OU291cmNlfSk7XG4gICAgICB9XG5cbiAgICAgIGxldCB3ZGFTZXR0aW5ncyA9IHtcbiAgICAgICAgZWxlbWVudFJlc3BvbnNlQXR0cmlidXRlczogREVGQVVMVF9TRVRUSU5HUy5lbGVtZW50UmVzcG9uc2VBdHRyaWJ1dGVzLFxuICAgICAgICBzaG91bGRVc2VDb21wYWN0UmVzcG9uc2VzOiBERUZBVUxUX1NFVFRJTkdTLnNob3VsZFVzZUNvbXBhY3RSZXNwb25zZXMsXG4gICAgICB9O1xuICAgICAgaWYgKF8uaGFzKHRoaXMub3B0cywgJ2VsZW1lbnRSZXNwb25zZUF0dHJpYnV0ZXMnKSkge1xuICAgICAgICB3ZGFTZXR0aW5ncy5lbGVtZW50UmVzcG9uc2VBdHRyaWJ1dGVzID0gdGhpcy5vcHRzLmVsZW1lbnRSZXNwb25zZUF0dHJpYnV0ZXM7XG4gICAgICB9XG4gICAgICBpZiAoXy5oYXModGhpcy5vcHRzLCAnc2hvdWxkVXNlQ29tcGFjdFJlc3BvbnNlcycpKSB7XG4gICAgICAgIHdkYVNldHRpbmdzLnNob3VsZFVzZUNvbXBhY3RSZXNwb25zZXMgPSB0aGlzLm9wdHMuc2hvdWxkVXNlQ29tcGFjdFJlc3BvbnNlcztcbiAgICAgIH1cbiAgICAgIGlmIChfLmhhcyh0aGlzLm9wdHMsICdtanBlZ1NlcnZlclNjcmVlbnNob3RRdWFsaXR5JykpIHtcbiAgICAgICAgd2RhU2V0dGluZ3MubWpwZWdTZXJ2ZXJTY3JlZW5zaG90UXVhbGl0eSA9IHRoaXMub3B0cy5tanBlZ1NlcnZlclNjcmVlbnNob3RRdWFsaXR5O1xuICAgICAgfVxuICAgICAgaWYgKF8uaGFzKHRoaXMub3B0cywgJ21qcGVnU2VydmVyRnJhbWVyYXRlJykpIHtcbiAgICAgICAgd2RhU2V0dGluZ3MubWpwZWdTZXJ2ZXJGcmFtZXJhdGUgPSB0aGlzLm9wdHMubWpwZWdTZXJ2ZXJGcmFtZXJhdGU7XG4gICAgICB9XG4gICAgICBpZiAoXy5oYXModGhpcy5vcHRzLCAnc2NyZWVuc2hvdFF1YWxpdHknKSkge1xuICAgICAgICB0aGlzLmxvZy5pbmZvKGBTZXR0aW5nIHRoZSBxdWFsaXR5IG9mIHBob25lIHNjcmVlbnNob3Q6ICcke3RoaXMub3B0cy5zY3JlZW5zaG90UXVhbGl0eX0nYCk7XG4gICAgICAgIHdkYVNldHRpbmdzLnNjcmVlbnNob3RRdWFsaXR5ID0gdGhpcy5vcHRzLnNjcmVlbnNob3RRdWFsaXR5O1xuICAgICAgfVxuICAgICAgLy8gZW5zdXJlIFdEQSBnZXRzIG91ciBkZWZhdWx0cyBpbnN0ZWFkIG9mIHdoYXRldmVyIGl0cyBvd24gbWlnaHQgYmVcbiAgICAgIGF3YWl0IHRoaXMudXBkYXRlU2V0dGluZ3Mod2RhU2V0dGluZ3MpO1xuXG4gICAgICAvLyB0dXJuIG9uIG1qcGVnIHN0cmVhbSByZWFkaW5nIGlmIHJlcXVlc3RlZFxuICAgICAgaWYgKHRoaXMub3B0cy5tanBlZ1NjcmVlbnNob3RVcmwpIHtcbiAgICAgICAgdGhpcy5sb2cuaW5mbyhgU3RhcnRpbmcgTUpQRUcgc3RyZWFtIHJlYWRpbmcgVVJMOiAnJHt0aGlzLm9wdHMubWpwZWdTY3JlZW5zaG90VXJsfSdgKTtcbiAgICAgICAgdGhpcy5tanBlZ1N0cmVhbSA9IG5ldyBtanBlZy5NSnBlZ1N0cmVhbSh0aGlzLm9wdHMubWpwZWdTY3JlZW5zaG90VXJsKTtcbiAgICAgICAgYXdhaXQgdGhpcy5tanBlZ1N0cmVhbS5zdGFydCgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFtzZXNzaW9uSWQsIGNhcHNdO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHRoaXMubG9nLmVycm9yKEpTT04uc3RyaW5naWZ5KGUpKTtcbiAgICAgIGF3YWl0IHRoaXMuZGVsZXRlU2Vzc2lvbigpO1xuICAgICAgdGhyb3cgZTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgZGVmYXVsdCBVUkwgZm9yIFNhZmFyaSBicm93c2VyXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBkZWZhdWx0IFVSTFxuICAgKi9cbiAgZ2V0RGVmYXVsdFVybCAoKSB7XG4gICAgLy8gU2V0dGluZyB0aGlzIHRvIHNvbWUgZXh0ZXJuYWwgVVJMIHNsb3dzIGRvd24gQXBwaXVtIHN0YXJ0dXBcbiAgICByZXR1cm4gdGhpcy5pc1JlYWxEZXZpY2UoKVxuICAgICAgPyBgaHR0cDovLzEyNy4wLjAuMToke3RoaXMub3B0cy53ZGFMb2NhbFBvcnQgfHwgODEwMH0vaGVhbHRoYFxuICAgICAgOiBgaHR0cDovLyR7XG4gICAgICAgIHRoaXMub3B0cy5hZGRyZXNzLmluY2x1ZGVzKCc6JykgPyBgWyR7dGhpcy5vcHRzLmFkZHJlc3N9XWAgOiB0aGlzLm9wdHMuYWRkcmVzc1xuICAgICAgfToke3RoaXMub3B0cy5wb3J0fS93ZWxjb21lYDtcbiAgfVxuXG4gIGFzeW5jIHN0YXJ0ICgpIHtcbiAgICB0aGlzLm9wdHMubm9SZXNldCA9ICEhdGhpcy5vcHRzLm5vUmVzZXQ7XG4gICAgdGhpcy5vcHRzLmZ1bGxSZXNldCA9ICEhdGhpcy5vcHRzLmZ1bGxSZXNldDtcblxuICAgIGF3YWl0IHByaW50VXNlcigpO1xuXG4gICAgdGhpcy5vcHRzLmlvc1Nka1ZlcnNpb24gPSBudWxsOyAvLyBGb3IgV0RBIGFuZCB4Y29kZWJ1aWxkXG4gICAgY29uc3Qge2RldmljZSwgdWRpZCwgcmVhbERldmljZX0gPSBhd2FpdCB0aGlzLmRldGVybWluZURldmljZSgpO1xuICAgIHRoaXMubG9nLmluZm8oYERldGVybWluaW5nIGRldmljZSB0byBydW4gdGVzdHMgb246IHVkaWQ6ICcke3VkaWR9JywgcmVhbCBkZXZpY2U6ICR7cmVhbERldmljZX1gKTtcbiAgICB0aGlzLm9wdHMuZGV2aWNlID0gZGV2aWNlO1xuICAgIHRoaXMub3B0cy51ZGlkID0gdWRpZDtcbiAgICB0aGlzLm9wdHMucmVhbERldmljZSA9IHJlYWxEZXZpY2U7XG5cbiAgICBpZiAodGhpcy5vcHRzLnNpbXVsYXRvckRldmljZXNTZXRQYXRoKSB7XG4gICAgICBpZiAocmVhbERldmljZSkge1xuICAgICAgICB0aGlzLmxvZy5pbmZvKGBUaGUgJ3NpbXVsYXRvckRldmljZXNTZXRQYXRoJyBjYXBhYmlsaXR5IGlzIG9ubHkgc3VwcG9ydGVkIGZvciBTaW11bGF0b3IgZGV2aWNlc2ApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5sb2cuaW5mbyhgU2V0dGluZyBzaW11bGF0b3IgZGV2aWNlcyBzZXQgcGF0aCB0byAnJHt0aGlzLm9wdHMuc2ltdWxhdG9yRGV2aWNlc1NldFBhdGh9J2ApO1xuICAgICAgICB0aGlzLm9wdHMuZGV2aWNlLmRldmljZXNTZXRQYXRoID0gdGhpcy5vcHRzLnNpbXVsYXRvckRldmljZXNTZXRQYXRoO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIGF0IHRoaXMgcG9pbnQgaWYgdGhlcmUgaXMgbm8gcGxhdGZvcm1WZXJzaW9uLCBnZXQgaXQgZnJvbSB0aGUgZGV2aWNlXG4gICAgaWYgKCF0aGlzLm9wdHMucGxhdGZvcm1WZXJzaW9uICYmIHRoaXMub3B0cy5kZXZpY2UpIHtcbiAgICAgIHRoaXMub3B0cy5wbGF0Zm9ybVZlcnNpb24gPSBhd2FpdCB0aGlzLm9wdHMuZGV2aWNlLmdldFBsYXRmb3JtVmVyc2lvbigpO1xuICAgICAgdGhpcy5sb2cuaW5mbyhgTm8gcGxhdGZvcm1WZXJzaW9uIHNwZWNpZmllZC4gVXNpbmcgZGV2aWNlIHZlcnNpb246ICcke3RoaXMub3B0cy5wbGF0Zm9ybVZlcnNpb259J2ApO1xuICAgIH1cblxuICAgIGNvbnN0IG5vcm1hbGl6ZWRWZXJzaW9uID0gbm9ybWFsaXplUGxhdGZvcm1WZXJzaW9uKHRoaXMub3B0cy5wbGF0Zm9ybVZlcnNpb24pO1xuICAgIGlmICh0aGlzLm9wdHMucGxhdGZvcm1WZXJzaW9uICE9PSBub3JtYWxpemVkVmVyc2lvbikge1xuICAgICAgdGhpcy5sb2cuaW5mbyhgTm9ybWFsaXplZCBwbGF0Zm9ybVZlcnNpb24gY2FwYWJpbGl0eSB2YWx1ZSAnJHt0aGlzLm9wdHMucGxhdGZvcm1WZXJzaW9ufScgdG8gJyR7bm9ybWFsaXplZFZlcnNpb259J2ApO1xuICAgICAgdGhpcy5vcHRzLnBsYXRmb3JtVmVyc2lvbiA9IG5vcm1hbGl6ZWRWZXJzaW9uO1xuICAgIH1cbiAgICBpZiAodXRpbC5jb21wYXJlVmVyc2lvbnModGhpcy5vcHRzLnBsYXRmb3JtVmVyc2lvbiwgJzwnLCAnOS4zJykpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgUGxhdGZvcm0gdmVyc2lvbiBtdXN0IGJlIDkuMyBvciBhYm92ZS4gJyR7dGhpcy5vcHRzLnBsYXRmb3JtVmVyc2lvbn0nIGlzIG5vdCBzdXBwb3J0ZWQuYCk7XG4gICAgfVxuXG4gICAgaWYgKF8uaXNFbXB0eSh0aGlzLnhjb2RlVmVyc2lvbikgJiYgKCF0aGlzLm9wdHMud2ViRHJpdmVyQWdlbnRVcmwgfHwgIXRoaXMub3B0cy5yZWFsRGV2aWNlKSkge1xuICAgICAgLy8gbm8gYHdlYkRyaXZlckFnZW50VXJsYCwgb3Igb24gYSBzaW11bGF0b3IsIHNvIHdlIG5lZWQgYW4gWGNvZGUgdmVyc2lvblxuICAgICAgdGhpcy54Y29kZVZlcnNpb24gPSBhd2FpdCBnZXRBbmRDaGVja1hjb2RlVmVyc2lvbigpO1xuICAgIH1cbiAgICB0aGlzLmxvZ0V2ZW50KCd4Y29kZURldGFpbHNSZXRyaWV2ZWQnKTtcblxuICAgIGlmIChfLnRvTG93ZXIodGhpcy5vcHRzLmJyb3dzZXJOYW1lKSA9PT0gJ3NhZmFyaScpIHtcbiAgICAgIHRoaXMubG9nLmluZm8oJ1NhZmFyaSB0ZXN0IHJlcXVlc3RlZCcpO1xuICAgICAgdGhpcy5zYWZhcmkgPSB0cnVlO1xuICAgICAgdGhpcy5vcHRzLmFwcCA9IHVuZGVmaW5lZDtcbiAgICAgIHRoaXMub3B0cy5wcm9jZXNzQXJndW1lbnRzID0gdGhpcy5vcHRzLnByb2Nlc3NBcmd1bWVudHMgfHwge307XG4gICAgICB0aGlzLm9wdHMuYnVuZGxlSWQgPSBTQUZBUklfQlVORExFX0lEO1xuICAgICAgdGhpcy5fY3VycmVudFVybCA9IHRoaXMub3B0cy5zYWZhcmlJbml0aWFsVXJsIHx8IHRoaXMuZ2V0RGVmYXVsdFVybCgpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5vcHRzLmFwcCB8fCB0aGlzLm9wdHMuYnVuZGxlSWQpIHtcbiAgICAgIGF3YWl0IHRoaXMuY29uZmlndXJlQXBwKCk7XG4gICAgfVxuICAgIHRoaXMubG9nRXZlbnQoJ2FwcENvbmZpZ3VyZWQnKTtcblxuICAgIC8vIGZhaWwgdmVyeSBlYXJseSBpZiB0aGUgYXBwIGRvZXNuJ3QgYWN0dWFsbHkgZXhpc3RcbiAgICAvLyBvciBpZiBidW5kbGUgaWQgZG9lc24ndCBwb2ludCB0byBhbiBpbnN0YWxsZWQgYXBwXG4gICAgaWYgKHRoaXMub3B0cy5hcHApIHtcbiAgICAgIGF3YWl0IGNoZWNrQXBwUHJlc2VudCh0aGlzLm9wdHMuYXBwKTtcblxuICAgICAgaWYgKCF0aGlzLm9wdHMuYnVuZGxlSWQpIHtcbiAgICAgICAgdGhpcy5vcHRzLmJ1bmRsZUlkID0gYXdhaXQgZXh0cmFjdEJ1bmRsZUlkKHRoaXMub3B0cy5hcHApO1xuICAgICAgfVxuICAgIH1cblxuICAgIGF3YWl0IHRoaXMucnVuUmVzZXQoKTtcblxuICAgIHRoaXMud2RhID0gbmV3IFdlYkRyaXZlckFnZW50KHRoaXMueGNvZGVWZXJzaW9uLCB0aGlzLm9wdHMsIHRoaXMubG9nKTtcbiAgICAvLyBEZXJpdmVkIGRhdGEgcGF0aCByZXRyaWV2YWwgaXMgYW4gZXhwZW5zaXZlIG9wZXJhdGlvblxuICAgIC8vIFdlIGNvdWxkIHN0YXJ0IHRoYXQgbm93IGluIGJhY2tncm91bmQgYW5kIGdldCB0aGUgY2FjaGVkIHJlc3VsdFxuICAgIC8vIHdoZW5ldmVyIGl0IGlzIG5lZWRlZFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcm9taXNlL3ByZWZlci1hd2FpdC10by10aGVuXG4gICAgdGhpcy53ZGEucmV0cmlldmVEZXJpdmVkRGF0YVBhdGgoKS5jYXRjaCgoZSkgPT4gdGhpcy5sb2cuZGVidWcoZSkpO1xuXG4gICAgY29uc3QgbWVtb2l6ZWRMb2dJbmZvID0gXy5tZW1vaXplKCgpID0+IHtcbiAgICAgIHRoaXMubG9nLmluZm8oXCInc2tpcExvZ0NhcHR1cmUnIGlzIHNldC4gU2tpcHBpbmcgc3RhcnRpbmcgbG9ncyBzdWNoIGFzIGNyYXNoLCBzeXN0ZW0sIHNhZmFyaSBjb25zb2xlIGFuZCBzYWZhcmkgbmV0d29yay5cIik7XG4gICAgfSk7XG4gICAgY29uc3Qgc3RhcnRMb2dDYXB0dXJlID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKHRoaXMub3B0cy5za2lwTG9nQ2FwdHVyZSkge1xuICAgICAgICBtZW1vaXplZExvZ0luZm8oKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLnN0YXJ0TG9nQ2FwdHVyZSgpO1xuICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICB0aGlzLmxvZ0V2ZW50KCdsb2dDYXB0dXJlU3RhcnRlZCcpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICAgIGNvbnN0IGlzTG9nQ2FwdHVyZVN0YXJ0ZWQgPSBhd2FpdCBzdGFydExvZ0NhcHR1cmUoKTtcblxuICAgIHRoaXMubG9nLmluZm8oYFNldHRpbmcgdXAgJHt0aGlzLmlzUmVhbERldmljZSgpID8gJ3JlYWwgZGV2aWNlJyA6ICdzaW11bGF0b3InfWApO1xuXG4gICAgaWYgKHRoaXMuaXNTaW11bGF0b3IoKSkge1xuICAgICAgaWYgKHRoaXMub3B0cy5zaHV0ZG93bk90aGVyU2ltdWxhdG9ycykge1xuICAgICAgICB0aGlzLmVuc3VyZUZlYXR1cmVFbmFibGVkKFNIVVRET1dOX09USEVSX0ZFQVRfTkFNRSk7XG4gICAgICAgIGF3YWl0IHNodXRkb3duT3RoZXJTaW11bGF0b3JzKHRoaXMub3B0cy5kZXZpY2UpO1xuICAgICAgfVxuXG4gICAgICBhd2FpdCB0aGlzLnN0YXJ0U2ltKCk7XG5cbiAgICAgIGlmICh0aGlzLm9wdHMuY3VzdG9tU1NMQ2VydCkge1xuICAgICAgICAvLyBTaW11bGF0b3IgbXVzdCBiZSBib290ZWQgaW4gb3JkZXIgdG8gY2FsbCB0aGlzIGhlbHBlclxuICAgICAgICBhd2FpdCB0aGlzLm9wdHMuZGV2aWNlLmFkZENlcnRpZmljYXRlKHRoaXMub3B0cy5jdXN0b21TU0xDZXJ0KTtcbiAgICAgICAgdGhpcy5sb2dFdmVudCgnY3VzdG9tQ2VydEluc3RhbGxlZCcpO1xuICAgICAgfVxuXG4gICAgICBpZiAoYXdhaXQgc2V0U2FmYXJpUHJlZnModGhpcy5vcHRzLmRldmljZSwgdGhpcy5vcHRzKSkge1xuICAgICAgICB0aGlzLmxvZy5kZWJ1ZygnU2FmYXJpIHByZWZlcmVuY2VzIGhhdmUgYmVlbiB1cGRhdGVkJyk7XG4gICAgICB9XG5cbiAgICAgIGlmIChhd2FpdCBzZXRMb2NhbGl6YXRpb25QcmVmcyh0aGlzLm9wdHMuZGV2aWNlLCB0aGlzLm9wdHMpKSB7XG4gICAgICAgIHRoaXMubG9nLmRlYnVnKCdMb2NhbGl6YXRpb24gcHJlZmVyZW5jZXMgaGF2ZSBiZWVuIHVwZGF0ZWQnKTtcbiAgICAgIH1cblxuICAgICAgaWYgKF8uaXNCb29sZWFuKHRoaXMub3B0cy5yZWR1Y2VNb3Rpb24pKSB7XG4gICAgICAgIHRoaXMubG9nLmluZm8oYFNldHRpbmcgcmVkdWNlTW90aW9uIHRvICR7dGhpcy5vcHRzLnJlZHVjZU1vdGlvbn1gKTtcbiAgICAgICAgYXdhaXQgdGhpcy5vcHRzLmRldmljZS5zZXRSZWR1Y2VNb3Rpb24odGhpcy5vcHRzLnJlZHVjZU1vdGlvbik7XG4gICAgICB9XG5cbiAgICAgIGlmIChfLmlzQm9vbGVhbih0aGlzLm9wdHMucmVkdWNlVHJhbnNwYXJlbmN5KSkge1xuICAgICAgICB0aGlzLmxvZy5pbmZvKGBTZXR0aW5nIHJlZHVjZVRyYW5zcGFyZW5jeSB0byAke3RoaXMub3B0cy5yZWR1Y2VUcmFuc3BhcmVuY3l9YCk7XG4gICAgICAgIGF3YWl0IHRoaXMub3B0cy5kZXZpY2Uuc2V0UmVkdWNlVHJhbnNwYXJlbmN5KHRoaXMub3B0cy5yZWR1Y2VUcmFuc3BhcmVuY3kpO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5vcHRzLmxhdW5jaFdpdGhJREIpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBpZGIgPSBuZXcgSURCKHt1ZGlkfSk7XG4gICAgICAgICAgYXdhaXQgaWRiLmNvbm5lY3QoKTtcbiAgICAgICAgICB0aGlzLm9wdHMuZGV2aWNlLmlkYiA9IGlkYjtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIHRoaXMubG9nLmRlYnVnKGUuc3RhY2spO1xuICAgICAgICAgIHRoaXMubG9nLndhcm4oYGlkYiB3aWxsIG5vdCBiZSB1c2VkIGZvciBTaW11bGF0b3IgaW50ZXJhY3Rpb24uIE9yaWdpbmFsIGVycm9yOiAke2UubWVzc2FnZX1gKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aGlzLmxvZ0V2ZW50KCdzaW1TdGFydGVkJyk7XG4gICAgICBpZiAoIWlzTG9nQ2FwdHVyZVN0YXJ0ZWQpIHtcbiAgICAgICAgLy8gUmV0cnkgbG9nIGNhcHR1cmUgaWYgU2ltdWxhdG9yIHdhcyBub3QgcnVubmluZyBiZWZvcmVcbiAgICAgICAgYXdhaXQgc3RhcnRMb2dDYXB0dXJlKCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0aGlzLm9wdHMuY3VzdG9tU1NMQ2VydCkge1xuICAgICAgYXdhaXQgbmV3IFB5aWRldmljZSh1ZGlkKS5pbnN0YWxsUHJvZmlsZSh7cGF5bG9hZDogdGhpcy5vcHRzLmN1c3RvbVNTTENlcnR9KTtcbiAgICAgIHRoaXMubG9nRXZlbnQoJ2N1c3RvbUNlcnRJbnN0YWxsZWQnKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5vcHRzLmFwcCkge1xuICAgICAgYXdhaXQgdGhpcy5pbnN0YWxsQVVUKCk7XG4gICAgICB0aGlzLmxvZ0V2ZW50KCdhcHBJbnN0YWxsZWQnKTtcbiAgICB9XG5cbiAgICAvLyBpZiB3ZSBvbmx5IGhhdmUgYnVuZGxlIGlkZW50aWZpZXIgYW5kIG5vIGFwcCwgZmFpbCBpZiBpdCBpcyBub3QgYWxyZWFkeSBpbnN0YWxsZWRcbiAgICBpZiAoIXRoaXMub3B0cy5hcHAgJiYgdGhpcy5vcHRzLmJ1bmRsZUlkICYmICF0aGlzLmlzU2FmYXJpKClcbiAgICAgICAgJiYgIWF3YWl0IHRoaXMub3B0cy5kZXZpY2UuaXNBcHBJbnN0YWxsZWQodGhpcy5vcHRzLmJ1bmRsZUlkKSkge1xuICAgICAgdGhpcy5sb2cuZXJyb3JBbmRUaHJvdyhgQXBwIHdpdGggYnVuZGxlIGlkZW50aWZpZXIgJyR7dGhpcy5vcHRzLmJ1bmRsZUlkfScgdW5rbm93bmApO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmlzU2ltdWxhdG9yKCkpIHtcbiAgICAgIGlmICh0aGlzLm9wdHMucGVybWlzc2lvbnMpIHtcbiAgICAgICAgdGhpcy5sb2cuZGVidWcoJ1NldHRpbmcgdGhlIHJlcXVlc3RlZCBwZXJtaXNzaW9ucyBiZWZvcmUgV0RBIGlzIHN0YXJ0ZWQnKTtcbiAgICAgICAgZm9yIChjb25zdCBbYnVuZGxlSWQsIHBlcm1pc3Npb25zTWFwcGluZ10gb2YgXy50b1BhaXJzKEpTT04ucGFyc2UodGhpcy5vcHRzLnBlcm1pc3Npb25zKSkpIHtcbiAgICAgICAgICBhd2FpdCB0aGlzLm9wdHMuZGV2aWNlLnNldFBlcm1pc3Npb25zKGJ1bmRsZUlkLCBwZXJtaXNzaW9uc01hcHBpbmcpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFRPRE86IERlcHJlY2F0ZSBhbmQgcmVtb3ZlIHRoaXMgYmxvY2sgdG9nZXRoZXIgd2l0aCBjYWxlbmRhckFjY2Vzc0F1dGhvcml6ZWQgY2FwYWJpbGl0eVxuICAgICAgaWYgKF8uaXNCb29sZWFuKHRoaXMub3B0cy5jYWxlbmRhckFjY2Vzc0F1dGhvcml6ZWQpKSB7XG4gICAgICAgIHRoaXMubG9nLndhcm4oYFRoZSAnY2FsZW5kYXJBY2Nlc3NBdXRob3JpemVkJyBjYXBhYmlsaXR5IGlzIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBzb29uLiBgICtcbiAgICAgICAgICBgQ29uc2lkZXIgdXNpbmcgJ3Blcm1pc3Npb25zJyBvbmUgaW5zdGVhZCB3aXRoICdjYWxlbmRhcicga2V5YCk7XG4gICAgICAgIGNvbnN0IG1ldGhvZE5hbWUgPSBgJHt0aGlzLm9wdHMuY2FsZW5kYXJBY2Nlc3NBdXRob3JpemVkID8gJ2VuYWJsZScgOiAnZGlzYWJsZScgfUNhbGVuZGFyQWNjZXNzYDtcbiAgICAgICAgYXdhaXQgdGhpcy5vcHRzLmRldmljZVttZXRob2ROYW1lXSh0aGlzLm9wdHMuYnVuZGxlSWQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGF3YWl0IHRoaXMuc3RhcnRXZGEodGhpcy5vcHRzLnNlc3Npb25JZCwgcmVhbERldmljZSk7XG5cbiAgICBpZiAodGhpcy5vcHRzLm9yaWVudGF0aW9uKSB7XG4gICAgICBhd2FpdCB0aGlzLnNldEluaXRpYWxPcmllbnRhdGlvbih0aGlzLm9wdHMub3JpZW50YXRpb24pO1xuICAgICAgdGhpcy5sb2dFdmVudCgnb3JpZW50YXRpb25TZXQnKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5pc1NhZmFyaSgpIHx8IHRoaXMub3B0cy5hdXRvV2Vidmlldykge1xuICAgICAgYXdhaXQgdGhpcy5hY3RpdmF0ZVJlY2VudFdlYnZpZXcoKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuaXNTYWZhcmkoKSkge1xuICAgICAgaWYgKCEodGhpcy5vcHRzLnNhZmFyaUluaXRpYWxVcmwgPT09ICcnXG4gICAgICAgICAgfHwgKHRoaXMub3B0cy5ub1Jlc2V0ICYmIF8uaXNOaWwodGhpcy5vcHRzLnNhZmFyaUluaXRpYWxVcmwpKSkpIHtcbiAgICAgICAgdGhpcy5sb2cuaW5mbyhgQWJvdXQgdG8gc2V0IHRoZSBpbml0aWFsIFNhZmFyaSBVUkwgdG8gJyR7dGhpcy5nZXRDdXJyZW50VXJsKCl9Jy5gICtcbiAgICAgICAgICBgVXNlICdzYWZhcmlJbml0aWFsVXJsJyBjYXBhYmlsaXR5IGluIG9yZGVyIHRvIGN1c3RvbWl6ZSBpdGApO1xuICAgICAgICBhd2FpdCB0aGlzLnNldFVybCh0aGlzLmdldEN1cnJlbnRVcmwoKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnNldEN1cnJlbnRVcmwoYXdhaXQgdGhpcy5nZXRVcmwoKSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFN0YXJ0IFdlYkRyaXZlckFnZW50UnVubmVyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzZXNzaW9uSWQgLSBUaGUgaWQgb2YgdGhlIHRhcmdldCBzZXNzaW9uIHRvIGxhdW5jaCBXREEgd2l0aC5cbiAgICogQHBhcmFtIHtib29sZWFufSByZWFsRGV2aWNlIC0gRXF1YWxzIHRvIHRydWUgaWYgdGhlIHRlc3QgdGFyZ2V0IGRldmljZSBpcyBhIHJlYWwgZGV2aWNlLlxuICAgKi9cbiAgYXN5bmMgc3RhcnRXZGEgKHNlc3Npb25JZCwgcmVhbERldmljZSkge1xuICAgIC8vIERvbid0IGNsZWFudXAgdGhlIHByb2Nlc3NlcyBpZiB3ZWJEcml2ZXJBZ2VudFVybCBpcyBzZXRcbiAgICBpZiAoIXV0aWwuaGFzVmFsdWUodGhpcy53ZGEud2ViRHJpdmVyQWdlbnRVcmwpKSB7XG4gICAgICBhd2FpdCB0aGlzLndkYS5jbGVhbnVwT2Jzb2xldGVQcm9jZXNzZXMoKTtcbiAgICB9XG5cbiAgICBjb25zdCB1c2VQb3J0Rm9yd2FyZGluZyA9IHRoaXMuaXNSZWFsRGV2aWNlKClcbiAgICAgICYmICF0aGlzLndkYS53ZWJEcml2ZXJBZ2VudFVybFxuICAgICAgJiYgaXNMb2NhbEhvc3QodGhpcy53ZGEud2RhQmFzZVVybCk7XG4gICAgYXdhaXQgREVWSUNFX0NPTk5FQ1RJT05TX0ZBQ1RPUlkucmVxdWVzdENvbm5lY3Rpb24odGhpcy5vcHRzLnVkaWQsIHRoaXMud2RhLnVybC5wb3J0LCB7XG4gICAgICBkZXZpY2VQb3J0OiB1c2VQb3J0Rm9yd2FyZGluZyA/IHRoaXMud2RhLndkYVJlbW90ZVBvcnQgOiBudWxsLFxuICAgICAgdXNlUG9ydEZvcndhcmRpbmcsXG4gICAgfSk7XG5cbiAgICAvLyBMZXQgbXVsdGlwbGUgV0RBIGJpbmFyaWVzIHdpdGggZGlmZmVyZW50IGRlcml2ZWQgZGF0YSBmb2xkZXJzIGJlIGJ1aWx0IGluIHBhcmFsbGVsXG4gICAgLy8gQ29uY3VycmVudCBXREEgYnVpbGRzIGZyb20gdGhlIHNhbWUgc291cmNlIHdpbGwgY2F1c2UgeGNvZGVidWlsZCBzeW5jaHJvbml6YXRpb24gZXJyb3JzXG4gICAgbGV0IHN5bmNocm9uaXphdGlvbktleSA9IFhDVUlUZXN0RHJpdmVyLm5hbWU7XG4gICAgaWYgKHRoaXMub3B0cy51c2VYY3Rlc3RydW5GaWxlIHx8ICEoYXdhaXQgdGhpcy53ZGEuaXNTb3VyY2VGcmVzaCgpKSkge1xuICAgICAgLy8gRmlyc3QtdGltZSBjb21waWxhdGlvbiBpcyBhbiBleHBlbnNpdmUgb3BlcmF0aW9uLCB3aGljaCBpcyBkb25lIGZhc3RlciBpZiBleGVjdXRlZFxuICAgICAgLy8gc2VxdWVudGlhbGx5LiBYY29kZWJ1aWxkIHNwcmVhZHMgdGhlIGxvYWQgY2F1c2VkIGJ5IHRoZSBjbGFuZyBjb21waWxlciB0byBhbGwgYXZhaWxhYmxlIENQVSBjb3Jlc1xuICAgICAgY29uc3QgZGVyaXZlZERhdGFQYXRoID0gYXdhaXQgdGhpcy53ZGEucmV0cmlldmVEZXJpdmVkRGF0YVBhdGgoKTtcbiAgICAgIGlmIChkZXJpdmVkRGF0YVBhdGgpIHtcbiAgICAgICAgc3luY2hyb25pemF0aW9uS2V5ID0gcGF0aC5ub3JtYWxpemUoZGVyaXZlZERhdGFQYXRoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5sb2cuZGVidWcoYFN0YXJ0aW5nIFdlYkRyaXZlckFnZW50IGluaXRpYWxpemF0aW9uIHdpdGggdGhlIHN5bmNocm9uaXphdGlvbiBrZXkgJyR7c3luY2hyb25pemF0aW9uS2V5fSdgKTtcbiAgICBpZiAoU0hBUkVEX1JFU09VUkNFU19HVUFSRC5pc0J1c3koKSAmJiAhdGhpcy5vcHRzLmRlcml2ZWREYXRhUGF0aCAmJiAhdGhpcy5vcHRzLmJvb3RzdHJhcFBhdGgpIHtcbiAgICAgIHRoaXMubG9nLmRlYnVnKGBDb25zaWRlciBzZXR0aW5nIGEgdW5pcXVlICdkZXJpdmVkRGF0YVBhdGgnIGNhcGFiaWxpdHkgdmFsdWUgZm9yIGVhY2ggcGFyYWxsZWwgZHJpdmVyIGluc3RhbmNlIGAgK1xuICAgICAgICBgdG8gYXZvaWQgY29uZmxpY3RzIGFuZCBzcGVlZCB1cCB0aGUgYnVpbGRpbmcgcHJvY2Vzc2ApO1xuICAgIH1cbiAgICByZXR1cm4gYXdhaXQgU0hBUkVEX1JFU09VUkNFU19HVUFSRC5hY3F1aXJlKHN5bmNocm9uaXphdGlvbktleSwgYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKHRoaXMub3B0cy51c2VOZXdXREEpIHtcbiAgICAgICAgdGhpcy5sb2cuZGVidWcoYENhcGFiaWxpdHkgJ3VzZU5ld1dEQScgc2V0IHRvIHRydWUsIHNvIHVuaW5zdGFsbGluZyBXREEgYmVmb3JlIHByb2NlZWRpbmdgKTtcbiAgICAgICAgYXdhaXQgdGhpcy53ZGEucXVpdEFuZFVuaW5zdGFsbCgpO1xuICAgICAgICB0aGlzLmxvZ0V2ZW50KCd3ZGFVbmluc3RhbGxlZCcpO1xuICAgICAgfSBlbHNlIGlmICghdXRpbC5oYXNWYWx1ZSh0aGlzLndkYS53ZWJEcml2ZXJBZ2VudFVybCkpIHtcbiAgICAgICAgYXdhaXQgdGhpcy53ZGEuc2V0dXBDYWNoaW5nKCk7XG4gICAgICB9XG5cbiAgICAgIC8vIGxvY2FsIGhlbHBlciBmb3IgdGhlIHR3byBwbGFjZXMgd2UgbmVlZCB0byB1bmluc3RhbGwgd2RhIGFuZCByZS1zdGFydCBpdFxuICAgICAgY29uc3QgcXVpdEFuZFVuaW5zdGFsbCA9IGFzeW5jIChtc2cpID0+IHtcbiAgICAgICAgdGhpcy5sb2cuZGVidWcobXNnKTtcbiAgICAgICAgaWYgKHRoaXMub3B0cy53ZWJEcml2ZXJBZ2VudFVybCkge1xuICAgICAgICAgIHRoaXMubG9nLmRlYnVnKCdOb3QgcXVpdHRpbmcvdW5pbnN0YWxsaW5nIFdlYkRyaXZlckFnZW50IHNpbmNlIHdlYkRyaXZlckFnZW50VXJsIGNhcGFiaWxpdHkgaXMgcHJvdmlkZWQnKTtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IobXNnKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxvZy53YXJuKCdRdWl0dGluZyBhbmQgdW5pbnN0YWxsaW5nIFdlYkRyaXZlckFnZW50Jyk7XG4gICAgICAgIGF3YWl0IHRoaXMud2RhLnF1aXRBbmRVbmluc3RhbGwoKTtcblxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IobXNnKTtcbiAgICAgIH07XG5cbiAgICAgIC8vIFVzZWQgaW4gdGhlIGZvbGxvd2luZyBXREEgYnVpbGRcbiAgICAgIGlmICh0aGlzLm9wdHMucmVzdWx0QnVuZGxlUGF0aCkge1xuICAgICAgICB0aGlzLmVuc3VyZUZlYXR1cmVFbmFibGVkKENVU1RPTUlaRV9SRVNVTFRfQlVORFBFX1BBVEgpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBzdGFydHVwUmV0cmllcyA9IHRoaXMub3B0cy53ZGFTdGFydHVwUmV0cmllcyB8fCAodGhpcy5pc1JlYWxEZXZpY2UoKSA/IFdEQV9SRUFMX0RFVl9TVEFSVFVQX1JFVFJJRVMgOiBXREFfU0lNX1NUQVJUVVBfUkVUUklFUyk7XG4gICAgICBjb25zdCBzdGFydHVwUmV0cnlJbnRlcnZhbCA9IHRoaXMub3B0cy53ZGFTdGFydHVwUmV0cnlJbnRlcnZhbCB8fCBXREFfU1RBUlRVUF9SRVRSWV9JTlRFUlZBTDtcbiAgICAgIHRoaXMubG9nLmRlYnVnKGBUcnlpbmcgdG8gc3RhcnQgV2ViRHJpdmVyQWdlbnQgJHtzdGFydHVwUmV0cmllc30gdGltZXMgd2l0aCAke3N0YXJ0dXBSZXRyeUludGVydmFsfW1zIGludGVydmFsYCk7XG4gICAgICBpZiAoIXV0aWwuaGFzVmFsdWUodGhpcy5vcHRzLndkYVN0YXJ0dXBSZXRyaWVzKSAmJiAhdXRpbC5oYXNWYWx1ZSh0aGlzLm9wdHMud2RhU3RhcnR1cFJldHJ5SW50ZXJ2YWwpKSB7XG4gICAgICAgIHRoaXMubG9nLmRlYnVnKGBUaGVzZSB2YWx1ZXMgY2FuIGJlIGN1c3RvbWl6ZWQgYnkgY2hhbmdpbmcgd2RhU3RhcnR1cFJldHJpZXMvd2RhU3RhcnR1cFJldHJ5SW50ZXJ2YWwgY2FwYWJpbGl0aWVzYCk7XG4gICAgICB9XG4gICAgICBsZXQgcmV0cnlDb3VudCA9IDA7XG4gICAgICBhd2FpdCByZXRyeUludGVydmFsKHN0YXJ0dXBSZXRyaWVzLCBzdGFydHVwUmV0cnlJbnRlcnZhbCwgYXN5bmMgKCkgPT4ge1xuICAgICAgICB0aGlzLmxvZ0V2ZW50KCd3ZGFTdGFydEF0dGVtcHRlZCcpO1xuICAgICAgICBpZiAocmV0cnlDb3VudCA+IDApIHtcbiAgICAgICAgICB0aGlzLmxvZy5pbmZvKGBSZXRyeWluZyBXREEgc3RhcnR1cCAoJHtyZXRyeUNvdW50ICsgMX0gb2YgJHtzdGFydHVwUmV0cmllc30pYCk7XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBvbiB4Y29kZSAxMCBpbnN0YWxsZCB3aWxsIG9mdGVuIHRyeSB0byBhY2Nlc3MgdGhlIGFwcCBmcm9tIGl0cyBzdGFnaW5nXG4gICAgICAgICAgLy8gZGlyZWN0b3J5IGJlZm9yZSBmdWxseSBtb3ZpbmcgaXQgdGhlcmUsIGFuZCBmYWlsLiBSZXRyeWluZyBvbmNlXG4gICAgICAgICAgLy8gaW1tZWRpYXRlbHkgaGVscHNcbiAgICAgICAgICBjb25zdCByZXRyaWVzID0gdGhpcy54Y29kZVZlcnNpb24ubWFqb3IgPj0gMTAgPyAyIDogMTtcbiAgICAgICAgICB0aGlzLmNhY2hlZFdkYVN0YXR1cyA9IGF3YWl0IHJldHJ5KHJldHJpZXMsIHRoaXMud2RhLmxhdW5jaC5iaW5kKHRoaXMud2RhKSwgc2Vzc2lvbklkLCByZWFsRGV2aWNlKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgdGhpcy5sb2dFdmVudCgnd2RhU3RhcnRGYWlsZWQnKTtcbiAgICAgICAgICByZXRyeUNvdW50Kys7XG4gICAgICAgICAgbGV0IGVycm9yTXNnID0gYFVuYWJsZSB0byBsYXVuY2ggV2ViRHJpdmVyQWdlbnQgYmVjYXVzZSBvZiB4Y29kZWJ1aWxkIGZhaWx1cmU6ICR7ZXJyLm1lc3NhZ2V9YDtcbiAgICAgICAgICBpZiAodGhpcy5pc1JlYWxEZXZpY2UoKSkge1xuICAgICAgICAgICAgZXJyb3JNc2cgKz0gYC4gTWFrZSBzdXJlIHlvdSBmb2xsb3cgdGhlIHR1dG9yaWFsIGF0ICR7V0RBX1JFQUxfREVWX1RVVE9SSUFMX1VSTH0uIGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgYFRyeSB0byByZW1vdmUgdGhlIFdlYkRyaXZlckFnZW50UnVubmVyIGFwcGxpY2F0aW9uIGZyb20gdGhlIGRldmljZSBpZiBpdCBpcyBpbnN0YWxsZWQgYCArXG4gICAgICAgICAgICAgICAgICAgICAgICBgYW5kIHJlYm9vdCB0aGUgZGV2aWNlLmA7XG4gICAgICAgICAgfVxuICAgICAgICAgIGF3YWl0IHF1aXRBbmRVbmluc3RhbGwoZXJyb3JNc2cpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5wcm94eVJlcVJlcyA9IHRoaXMud2RhLnByb3h5UmVxUmVzLmJpbmQodGhpcy53ZGEpO1xuICAgICAgICB0aGlzLmp3cFByb3h5QWN0aXZlID0gdHJ1ZTtcblxuICAgICAgICBsZXQgb3JpZ2luYWxTdGFja3RyYWNlID0gbnVsbDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBhd2FpdCByZXRyeUludGVydmFsKDE1LCAxMDAwLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmxvZ0V2ZW50KCd3ZGFTZXNzaW9uQXR0ZW1wdGVkJyk7XG4gICAgICAgICAgICB0aGlzLmxvZy5kZWJ1ZygnU2VuZGluZyBjcmVhdGVTZXNzaW9uIGNvbW1hbmQgdG8gV0RBJyk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICB0aGlzLmNhY2hlZFdkYVN0YXR1cyA9IHRoaXMuY2FjaGVkV2RhU3RhdHVzIHx8IGF3YWl0IHRoaXMucHJveHlDb21tYW5kKCcvc3RhdHVzJywgJ0dFVCcpO1xuICAgICAgICAgICAgICBhd2FpdCB0aGlzLnN0YXJ0V2RhU2Vzc2lvbih0aGlzLm9wdHMuYnVuZGxlSWQsIHRoaXMub3B0cy5wcm9jZXNzQXJndW1lbnRzKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICBvcmlnaW5hbFN0YWNrdHJhY2UgPSBlcnIuc3RhY2s7XG4gICAgICAgICAgICAgIHRoaXMubG9nLmRlYnVnKGBGYWlsZWQgdG8gY3JlYXRlIFdEQSBzZXNzaW9uICgke2Vyci5tZXNzYWdlfSkuIFJldHJ5aW5nLi4uYCk7XG4gICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICB0aGlzLmxvZ0V2ZW50KCd3ZGFTZXNzaW9uU3RhcnRlZCcpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBpZiAob3JpZ2luYWxTdGFja3RyYWNlKSB7XG4gICAgICAgICAgICB0aGlzLmxvZy5kZWJ1ZyhvcmlnaW5hbFN0YWNrdHJhY2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBsZXQgZXJyb3JNc2cgPSBgVW5hYmxlIHRvIHN0YXJ0IFdlYkRyaXZlckFnZW50IHNlc3Npb24gYmVjYXVzZSBvZiB4Y29kZWJ1aWxkIGZhaWx1cmU6ICR7ZXJyLm1lc3NhZ2V9YDtcbiAgICAgICAgICBpZiAodGhpcy5pc1JlYWxEZXZpY2UoKSkge1xuICAgICAgICAgICAgZXJyb3JNc2cgKz0gYCBNYWtlIHN1cmUgeW91IGZvbGxvdyB0aGUgdHV0b3JpYWwgYXQgJHtXREFfUkVBTF9ERVZfVFVUT1JJQUxfVVJMfS4gYCArXG4gICAgICAgICAgICAgICAgICAgICAgICBgVHJ5IHRvIHJlbW92ZSB0aGUgV2ViRHJpdmVyQWdlbnRSdW5uZXIgYXBwbGljYXRpb24gZnJvbSB0aGUgZGV2aWNlIGlmIGl0IGlzIGluc3RhbGxlZCBgICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGBhbmQgcmVib290IHRoZSBkZXZpY2UuYDtcbiAgICAgICAgICB9XG4gICAgICAgICAgYXdhaXQgcXVpdEFuZFVuaW5zdGFsbChlcnJvck1zZyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5vcHRzLmNsZWFyU3lzdGVtRmlsZXMgJiYgIXRoaXMub3B0cy53ZWJEcml2ZXJBZ2VudFVybCkge1xuICAgICAgICAgIGF3YWl0IG1hcmtTeXN0ZW1GaWxlc0ZvckNsZWFudXAodGhpcy53ZGEpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gd2UgZXhwZWN0IGNlcnRhaW4gc29ja2V0IGVycm9ycyB1bnRpbCB0aGlzIHBvaW50LCBidXQgbm93XG4gICAgICAgIC8vIG1hcmsgdGhpbmdzIGFzIGZ1bGx5IHdvcmtpbmdcbiAgICAgICAgdGhpcy53ZGEuZnVsbHlTdGFydGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5sb2dFdmVudCgnd2RhU3RhcnRlZCcpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBhc3luYyBydW5SZXNldCAob3B0cyA9IG51bGwpIHtcbiAgICB0aGlzLmxvZ0V2ZW50KCdyZXNldFN0YXJ0ZWQnKTtcbiAgICBpZiAodGhpcy5pc1JlYWxEZXZpY2UoKSkge1xuICAgICAgYXdhaXQgcnVuUmVhbERldmljZVJlc2V0KHRoaXMub3B0cy5kZXZpY2UsIG9wdHMgfHwgdGhpcy5vcHRzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYXdhaXQgcnVuU2ltdWxhdG9yUmVzZXQodGhpcy5vcHRzLmRldmljZSwgb3B0cyB8fCB0aGlzLm9wdHMpO1xuICAgIH1cbiAgICB0aGlzLmxvZ0V2ZW50KCdyZXNldENvbXBsZXRlJyk7XG4gIH1cblxuICBhc3luYyBkZWxldGVTZXNzaW9uICgpIHtcbiAgICBhd2FpdCByZW1vdmVBbGxTZXNzaW9uV2ViU29ja2V0SGFuZGxlcnModGhpcy5zZXJ2ZXIsIHRoaXMuc2Vzc2lvbklkKTtcblxuICAgIGZvciAoY29uc3QgcmVjb3JkZXIgb2YgXy5jb21wYWN0KFtcbiAgICAgIHRoaXMuX3JlY2VudFNjcmVlblJlY29yZGVyLCB0aGlzLl9hdWRpb1JlY29yZGVyLCB0aGlzLl90cmFmZmljQ2FwdHVyZVxuICAgIF0pKSB7XG4gICAgICBhd2FpdCByZWNvcmRlci5pbnRlcnJ1cHQodHJ1ZSk7XG4gICAgICBhd2FpdCByZWNvcmRlci5jbGVhbnVwKCk7XG4gICAgfVxuXG4gICAgaWYgKCFfLmlzRW1wdHkodGhpcy5fcGVyZlJlY29yZGVycykpIHtcbiAgICAgIGF3YWl0IEIuYWxsKHRoaXMuX3BlcmZSZWNvcmRlcnMubWFwKCh4KSA9PiB4LnN0b3AodHJ1ZSkpKTtcbiAgICAgIHRoaXMuX3BlcmZSZWNvcmRlcnMgPSBbXTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fY29uZGl0aW9uSW5kdWNlclNlcnZpY2UpIHtcbiAgICAgIHRoaXMubW9iaWxlRGlzYWJsZUNvbmRpdGlvbkluZHVjZXIoKTtcbiAgICB9XG5cbiAgICBhd2FpdCB0aGlzLnN0b3AoKTtcblxuICAgIGlmICh0aGlzLndkYSAmJiAhdGhpcy5vcHRzLndlYkRyaXZlckFnZW50VXJsKSB7XG4gICAgICBpZiAodGhpcy5vcHRzLmNsZWFyU3lzdGVtRmlsZXMpIHtcbiAgICAgICAgbGV0IHN5bmNocm9uaXphdGlvbktleSA9IFhDVUlUZXN0RHJpdmVyLm5hbWU7XG4gICAgICAgIGNvbnN0IGRlcml2ZWREYXRhUGF0aCA9IGF3YWl0IHRoaXMud2RhLnJldHJpZXZlRGVyaXZlZERhdGFQYXRoKCk7XG4gICAgICAgIGlmIChkZXJpdmVkRGF0YVBhdGgpIHtcbiAgICAgICAgICBzeW5jaHJvbml6YXRpb25LZXkgPSBwYXRoLm5vcm1hbGl6ZShkZXJpdmVkRGF0YVBhdGgpO1xuICAgICAgICB9XG4gICAgICAgIGF3YWl0IFNIQVJFRF9SRVNPVVJDRVNfR1VBUkQuYWNxdWlyZShzeW5jaHJvbml6YXRpb25LZXksIGFzeW5jICgpID0+IHtcbiAgICAgICAgICBhd2FpdCBjbGVhclN5c3RlbUZpbGVzKHRoaXMud2RhKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmxvZy5kZWJ1ZygnTm90IGNsZWFyaW5nIGxvZyBmaWxlcy4gVXNlIGBjbGVhclN5c3RlbUZpbGVzYCBjYXBhYmlsaXR5IHRvIHR1cm4gb24uJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMucmVtb3RlKSB7XG4gICAgICB0aGlzLmxvZy5kZWJ1ZygnRm91bmQgYSByZW1vdGUgZGVidWdnZXIgc2Vzc2lvbi4gUmVtb3ZpbmcuLi4nKTtcbiAgICAgIGF3YWl0IHRoaXMuc3RvcFJlbW90ZSgpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLm9wdHMucmVzZXRPblNlc3Npb25TdGFydE9ubHkgPT09IGZhbHNlKSB7XG4gICAgICBhd2FpdCB0aGlzLnJ1blJlc2V0KE9iamVjdC5hc3NpZ24oe30sIHRoaXMub3B0cywge1xuICAgICAgICBlbmZvcmNlU2ltdWxhdG9yU2h1dGRvd246IHRydWUsXG4gICAgICB9KSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuaXNTaW11bGF0b3IoKSAmJiAhdGhpcy5vcHRzLm5vUmVzZXQgJiYgISF0aGlzLm9wdHMuZGV2aWNlKSB7XG4gICAgICBpZiAodGhpcy5saWZlY3ljbGVEYXRhLmNyZWF0ZVNpbSkge1xuICAgICAgICB0aGlzLmxvZy5kZWJ1ZyhgRGVsZXRpbmcgc2ltdWxhdG9yIGNyZWF0ZWQgZm9yIHRoaXMgcnVuICh1ZGlkOiAnJHt0aGlzLm9wdHMudWRpZH0nKWApO1xuICAgICAgICBhd2FpdCBzaHV0ZG93blNpbXVsYXRvcih0aGlzLm9wdHMuZGV2aWNlKTtcbiAgICAgICAgYXdhaXQgdGhpcy5vcHRzLmRldmljZS5kZWxldGUoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBzaG91bGRSZXNldExvY2F0aW9uU2Vydml2Y2UgPSB0aGlzLmlzUmVhbERldmljZSgpICYmICEhdGhpcy5vcHRzLnJlc2V0TG9jYXRpb25TZXJ2aWNlO1xuICAgIGlmIChzaG91bGRSZXNldExvY2F0aW9uU2Vydml2Y2UpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IHRoaXMubW9iaWxlUmVzZXRMb2NhdGlvblNlcnZpY2UoKTtcbiAgICAgIH0gY2F0Y2ggKGlnbm9yZSkgeyAvKiBJZ25vcmUgdGhpcyBlcnJvciBzaW5jZSBtb2JpbGVSZXNldExvY2F0aW9uU2VydmljZSBhbHJlYWR5IGxvZ2dlZCB0aGUgZXJyb3IgKi8gfVxuICAgIH1cblxuICAgIGlmICghXy5pc0VtcHR5KHRoaXMubG9ncykpIHtcbiAgICAgIGF3YWl0IHRoaXMubG9ncy5zeXNsb2cuc3RvcENhcHR1cmUoKTtcbiAgICAgIHRoaXMubG9ncyA9IHt9O1xuICAgIH1cblxuICAgIGlmICh0aGlzLm1qcGVnU3RyZWFtKSB7XG4gICAgICB0aGlzLmxvZy5pbmZvKCdDbG9zaW5nIE1KUEVHIHN0cmVhbScpO1xuICAgICAgdGhpcy5tanBlZ1N0cmVhbS5zdG9wKCk7XG4gICAgfVxuXG4gICAgdGhpcy5yZXNldElvcygpO1xuXG4gICAgYXdhaXQgc3VwZXIuZGVsZXRlU2Vzc2lvbigpO1xuICB9XG5cbiAgYXN5bmMgc3RvcCAoKSB7XG4gICAgdGhpcy5qd3BQcm94eUFjdGl2ZSA9IGZhbHNlO1xuICAgIHRoaXMucHJveHlSZXFSZXMgPSBudWxsO1xuXG5cbiAgICBpZiAodGhpcy53ZGEgJiYgdGhpcy53ZGEuZnVsbHlTdGFydGVkKSB7XG4gICAgICBpZiAodGhpcy53ZGEuandwcm94eSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGF3YWl0IHRoaXMucHJveHlDb21tYW5kKGAvc2Vzc2lvbi8ke3RoaXMuc2Vzc2lvbklkfWAsICdERUxFVEUnKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgLy8gYW4gZXJyb3IgaGVyZSBzaG91bGQgbm90IHNob3J0LWNpcmN1aXQgdGhlIHJlc3Qgb2YgY2xlYW4gdXBcbiAgICAgICAgICB0aGlzLmxvZy5kZWJ1ZyhgVW5hYmxlIHRvIERFTEVURSBzZXNzaW9uIG9uIFdEQTogJyR7ZXJyLm1lc3NhZ2V9Jy4gQ29udGludWluZyBzaHV0ZG93bi5gKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCF0aGlzLndkYS53ZWJEcml2ZXJBZ2VudFVybCAmJiB0aGlzLm9wdHMudXNlTmV3V0RBKSB7XG4gICAgICAgIGF3YWl0IHRoaXMud2RhLnF1aXQoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBERVZJQ0VfQ09OTkVDVElPTlNfRkFDVE9SWS5yZWxlYXNlQ29ubmVjdGlvbih0aGlzLm9wdHMudWRpZCk7XG4gIH1cblxuICBhc3luYyBleGVjdXRlQ29tbWFuZCAoY21kLCAuLi5hcmdzKSB7XG4gICAgdGhpcy5sb2cuZGVidWcoYEV4ZWN1dGluZyBjb21tYW5kICcke2NtZH0nYCk7XG5cbiAgICBpZiAoY21kID09PSAncmVjZWl2ZUFzeW5jUmVzcG9uc2UnKSB7XG4gICAgICByZXR1cm4gYXdhaXQgdGhpcy5yZWNlaXZlQXN5bmNSZXNwb25zZSguLi5hcmdzKTtcbiAgICB9XG4gICAgLy8gVE9ETzogb25jZSB0aGlzIGZpeCBnZXRzIGludG8gYmFzZSBkcml2ZXIgcmVtb3ZlIGZyb20gaGVyZVxuICAgIGlmIChjbWQgPT09ICdnZXRTdGF0dXMnKSB7XG4gICAgICByZXR1cm4gYXdhaXQgdGhpcy5nZXRTdGF0dXMoKTtcbiAgICB9XG4gICAgcmV0dXJuIGF3YWl0IHN1cGVyLmV4ZWN1dGVDb21tYW5kKGNtZCwgLi4uYXJncyk7XG4gIH1cblxuICBhc3luYyBjb25maWd1cmVBcHAgKCkge1xuICAgIGZ1bmN0aW9uIGFwcElzUGFja2FnZU9yQnVuZGxlIChhcHApIHtcbiAgICAgIHJldHVybiAoL14oW2EtekEtWjAtOVxcLV9dK1xcLlthLXpBLVowLTlcXC1fXSspKyQvKS50ZXN0KGFwcCk7XG4gICAgfVxuXG4gICAgLy8gdGhlIGFwcCBuYW1lIGlzIGEgYnVuZGxlSWQgYXNzaWduIGl0IHRvIHRoZSBidW5kbGVJZCBwcm9wZXJ0eVxuICAgIGlmICghdGhpcy5vcHRzLmJ1bmRsZUlkICYmIGFwcElzUGFja2FnZU9yQnVuZGxlKHRoaXMub3B0cy5hcHApKSB7XG4gICAgICB0aGlzLm9wdHMuYnVuZGxlSWQgPSB0aGlzLm9wdHMuYXBwO1xuICAgICAgdGhpcy5vcHRzLmFwcCA9ICcnO1xuICAgIH1cbiAgICAvLyB3ZSBoYXZlIGEgYnVuZGxlIElELCBidXQgbm8gYXBwLCBvciBhcHAgaXMgYWxzbyBhIGJ1bmRsZVxuICAgIGlmICgodGhpcy5vcHRzLmJ1bmRsZUlkICYmIGFwcElzUGFja2FnZU9yQnVuZGxlKHRoaXMub3B0cy5idW5kbGVJZCkpICYmXG4gICAgICAgICh0aGlzLm9wdHMuYXBwID09PSAnJyB8fCBhcHBJc1BhY2thZ2VPckJ1bmRsZSh0aGlzLm9wdHMuYXBwKSkpIHtcbiAgICAgIHRoaXMubG9nLmRlYnVnKCdBcHAgaXMgYW4gaU9TIGJ1bmRsZSwgd2lsbCBhdHRlbXB0IHRvIHJ1biBhcyBwcmUtZXhpc3RpbmcnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBjaGVjayBmb3Igc3VwcG9ydGVkIGJ1aWxkLWluIGFwcHNcbiAgICBzd2l0Y2ggKF8udG9Mb3dlcih0aGlzLm9wdHMuYXBwKSkge1xuICAgICAgY2FzZSAnc2V0dGluZ3MnOlxuICAgICAgICB0aGlzLm9wdHMuYnVuZGxlSWQgPSAnY29tLmFwcGxlLlByZWZlcmVuY2VzJztcbiAgICAgICAgdGhpcy5vcHRzLmFwcCA9IG51bGw7XG4gICAgICAgIHJldHVybjtcbiAgICAgIGNhc2UgJ2NhbGVuZGFyJzpcbiAgICAgICAgdGhpcy5vcHRzLmJ1bmRsZUlkID0gJ2NvbS5hcHBsZS5tb2JpbGVjYWwnO1xuICAgICAgICB0aGlzLm9wdHMuYXBwID0gbnVsbDtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMub3B0cy5hcHAgPSBhd2FpdCB0aGlzLmhlbHBlcnMuY29uZmlndXJlQXBwKHRoaXMub3B0cy5hcHAsIHtcbiAgICAgIG9uUG9zdFByb2Nlc3M6IHRoaXMub25Qb3N0Q29uZmlndXJlQXBwLmJpbmQodGhpcyksXG4gICAgICBzdXBwb3J0ZWRFeHRlbnNpb25zOiBTVVBQT1JURURfRVhURU5TSU9OU1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFVuemlwIHRoZSBnaXZlbiBhcmNoaXZlIGFuZCBmaW5kIGEgbWF0Y2hpbmcgLmFwcCBidW5kbGUgaW4gaXRcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGFwcFBhdGggVGhlIHBhdGggdG8gdGhlIGFyY2hpdmUuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBkZXB0aCBbMF0gdGhlIGN1cnJlbnQgbmVzdGluZyBkZXB0aC4gQXBwIGJ1bmRsZXMgd2hvc2UgbmVzdGluZyBsZXZlbFxuICAgKiBpcyBncmVhdGVyIHRoYW4gMSBhcmUgbm90IHN1cHBvcnRlZC5cbiAgICogQHJldHVybnMge3N0cmluZ30gRnVsbCBwYXRoIHRvIHRoZSBmaXJzdCBtYXRjaGluZyAuYXBwIGJ1bmRsZS4uXG4gICAqIEB0aHJvd3MgSWYgbm8gbWF0Y2hpbmcgLmFwcCBidW5kbGVzIHdlcmUgZm91bmQgaW4gdGhlIHByb3ZpZGVkIGFyY2hpdmUuXG4gICAqL1xuICBhc3luYyB1bnppcEFwcCAoYXBwUGF0aCwgZGVwdGggPSAwKSB7XG4gICAgaWYgKGRlcHRoID4gTUFYX0FSQ0hJVkVfU0NBTl9ERVBUSCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdOZXN0aW5nIG9mIHBhY2thZ2UgYnVuZGxlcyBpcyBub3Qgc3VwcG9ydGVkJyk7XG4gICAgfVxuICAgIGNvbnN0IFtyb290RGlyLCBtYXRjaGVkUGF0aHNdID0gYXdhaXQgZmluZEFwcHMoYXBwUGF0aCwgU1VQUE9SVEVEX0VYVEVOU0lPTlMpO1xuICAgIGlmIChfLmlzRW1wdHkobWF0Y2hlZFBhdGhzKSkge1xuICAgICAgdGhpcy5sb2cuZGVidWcoYCcke3BhdGguYmFzZW5hbWUoYXBwUGF0aCl9JyBoYXMgbm8gYnVuZGxlc2ApO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmxvZy5kZWJ1ZyhcbiAgICAgICAgYEZvdW5kICR7dXRpbC5wbHVyYWxpemUoJ2J1bmRsZScsIG1hdGNoZWRQYXRocy5sZW5ndGgsIHRydWUpfSBpbiBgICtcbiAgICAgICAgYCcke3BhdGguYmFzZW5hbWUoYXBwUGF0aCl9JzogJHttYXRjaGVkUGF0aHN9YFxuICAgICAgKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIGZvciAoY29uc3QgbWF0Y2hlZFBhdGggb2YgbWF0Y2hlZFBhdGhzKSB7XG4gICAgICAgIGNvbnN0IGZ1bGxQYXRoID0gcGF0aC5qb2luKHJvb3REaXIsIG1hdGNoZWRQYXRoKTtcbiAgICAgICAgaWYgKGF3YWl0IGlzQXBwQnVuZGxlKGZ1bGxQYXRoKSkge1xuICAgICAgICAgIGNvbnN0IHN1cHBvcnRlZFBsYXRmb3JtcyA9IGF3YWl0IGZldGNoU3VwcG9ydGVkQXBwUGxhdGZvcm1zKGZ1bGxQYXRoKTtcbiAgICAgICAgICBpZiAodGhpcy5pc1NpbXVsYXRvcigpICYmICFzdXBwb3J0ZWRQbGF0Zm9ybXMuc29tZSgocCkgPT4gXy5pbmNsdWRlcyhwLCAnU2ltdWxhdG9yJykpKSB7XG4gICAgICAgICAgICB0aGlzLmxvZy5pbmZvKGAnJHttYXRjaGVkUGF0aH0nIGRvZXMgbm90IGhhdmUgU2ltdWxhdG9yIGRldmljZXMgaW4gdGhlIGxpc3Qgb2Ygc3VwcG9ydGVkIHBsYXRmb3JtcyBgICtcbiAgICAgICAgICAgICAgYCgke3N1cHBvcnRlZFBsYXRmb3Jtcy5qb2luKCcsJyl9KS4gU2tpcHBpbmcgaXRgKTs7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHRoaXMuaXNSZWFsRGV2aWNlKCkgJiYgIXN1cHBvcnRlZFBsYXRmb3Jtcy5zb21lKChwKSA9PiBfLmluY2x1ZGVzKHAsICdPUycpKSkge1xuICAgICAgICAgICAgdGhpcy5sb2cuaW5mbyhgJyR7bWF0Y2hlZFBhdGh9JyBkb2VzIG5vdCBoYXZlIHJlYWwgZGV2aWNlcyBpbiB0aGUgbGlzdCBvZiBzdXBwb3J0ZWQgcGxhdGZvcm1zIGAgK1xuICAgICAgICAgICAgICBgKCR7c3VwcG9ydGVkUGxhdGZvcm1zLmpvaW4oJywnKX0pLiBTa2lwcGluZyBpdGApOztcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLmxvZy5pbmZvKGAnJHttYXRjaGVkUGF0aH0nIGlzIHRoZSByZXN1bHRpbmcgYXBwbGljYXRpb24gYnVuZGxlIHNlbGVjdGVkIGZyb20gJyR7YXBwUGF0aH0nYCk7XG4gICAgICAgICAgcmV0dXJuIGF3YWl0IGlzb2xhdGVBcHBCdW5kbGUoZnVsbFBhdGgpO1xuICAgICAgICB9IGVsc2UgaWYgKF8uZW5kc1dpdGgoXy50b0xvd2VyKGZ1bGxQYXRoKSwgSVBBX0VYVCkgJiYgKGF3YWl0IGZzLnN0YXQoZnVsbFBhdGgpKS5pc0ZpbGUoKSkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy51bnppcEFwcChmdWxsUGF0aCwgZGVwdGggKyAxKTtcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICB0aGlzLmxvZy53YXJuKGBTa2lwcGluZyBwcm9jZXNzaW5nIG9mICcke21hdGNoZWRQYXRofSc6ICR7ZS5tZXNzYWdlfWApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZmluYWxseSB7XG4gICAgICBhd2FpdCBmcy5yaW1yYWYocm9vdERpcik7XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihgJHt0aGlzLm9wdHMuYXBwfSBkaWQgbm90IGhhdmUgYW55IG1hdGNoaW5nICR7QVBQX0VYVH0gb3IgJHtJUEFfRVhUfSBgICtcbiAgICAgIGBidW5kbGVzLiBQbGVhc2UgbWFrZSBzdXJlIHRoZSBwcm92aWRlZCBwYWNrYWdlIGlzIHZhbGlkIGFuZCBjb250YWlucyBhdCBsZWFzdCBvbmUgbWF0Y2hpbmcgYCArXG4gICAgICBgYXBwbGljYXRpb24gYnVuZGxlIHdoaWNoIGlzIG5vdCBuZXN0ZWQuYFxuICAgICk7XG4gIH1cblxuICBhc3luYyBvblBvc3RDb25maWd1cmVBcHAgKHtjYWNoZWRBcHBJbmZvLCBpc1VybCwgYXBwUGF0aH0pIHtcbiAgICAvLyBQaWNrIHRoZSBwcmV2aW91c2x5IGNhY2hlZCBlbnRyeSBpZiBpdHMgaW50ZWdyaXR5IGhhcyBiZWVuIHByZXNlcnZlZFxuICAgIGlmIChfLmlzUGxhaW5PYmplY3QoY2FjaGVkQXBwSW5mbylcbiAgICAgICAgJiYgKGF3YWl0IGZzLnN0YXQoYXBwUGF0aCkpLmlzRmlsZSgpXG4gICAgICAgICYmIGF3YWl0IGZzLmhhc2goYXBwUGF0aCkgPT09IGNhY2hlZEFwcEluZm8ucGFja2FnZUhhc2hcbiAgICAgICAgJiYgYXdhaXQgZnMuZXhpc3RzKGNhY2hlZEFwcEluZm8uZnVsbFBhdGgpXG4gICAgICAgICYmIChhd2FpdCBmcy5nbG9iKCcqKi8qJywge1xuICAgICAgICAgIGN3ZDogY2FjaGVkQXBwSW5mby5mdWxsUGF0aCwgc3RyaWN0OiBmYWxzZSwgbm9zb3J0OiB0cnVlXG4gICAgICAgIH0pKS5sZW5ndGggPT09IGNhY2hlZEFwcEluZm8uaW50ZWdyaXR5LmZvbGRlcikge1xuICAgICAgdGhpcy5sb2cuaW5mbyhgVXNpbmcgJyR7Y2FjaGVkQXBwSW5mby5mdWxsUGF0aH0nIHdoaWNoIHdhcyBjYWNoZWQgZnJvbSAnJHthcHBQYXRofSdgKTtcbiAgICAgIHJldHVybiB7YXBwUGF0aDogY2FjaGVkQXBwSW5mby5mdWxsUGF0aH07XG4gICAgfVxuXG4gICAgLy8gT25seSBsb2NhbCAuYXBwIGJ1bmRsZXMgdGhhdCBhcmUgYXZhaWxhYmxlIGluLXBsYWNlIHNob3VsZCBub3QgYmUgY2FjaGVkXG4gICAgaWYgKGF3YWl0IGlzQXBwQnVuZGxlKGFwcFBhdGgpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gRXh0cmFjdCB0aGUgYXBwIGJ1bmRsZSBhbmQgY2FjaGUgaXRcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIHthcHBQYXRoOiBhd2FpdCB0aGlzLnVuemlwQXBwKGFwcFBhdGgpfTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgLy8gQ2xlYW51cCBwcmV2aW91c2x5IGRvd25sb2FkZWQgYXJjaGl2ZVxuICAgICAgaWYgKGlzVXJsKSB7XG4gICAgICAgIGF3YWl0IGZzLnJpbXJhZihhcHBQYXRoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBhc3luYyBkZXRlcm1pbmVEZXZpY2UgKCkge1xuICAgIC8vIGluIHRoZSBvbmUgY2FzZSB3aGVyZSB3ZSBjcmVhdGUgYSBzaW0sIHdlIHdpbGwgc2V0IHRoaXMgc3RhdGVcbiAgICB0aGlzLmxpZmVjeWNsZURhdGEuY3JlYXRlU2ltID0gZmFsc2U7XG5cbiAgICAvLyBpZiB3ZSBnZXQgZ2VuZXJpYyBuYW1lcywgdHJhbnNsYXRlIHRoZW1cbiAgICB0aGlzLm9wdHMuZGV2aWNlTmFtZSA9IHRyYW5zbGF0ZURldmljZU5hbWUodGhpcy5vcHRzLnBsYXRmb3JtVmVyc2lvbiwgdGhpcy5vcHRzLmRldmljZU5hbWUpO1xuXG4gICAgY29uc3Qgc2V0dXBWZXJzaW9uQ2FwcyA9IGFzeW5jICgpID0+IHtcbiAgICAgIHRoaXMub3B0cy5pb3NTZGtWZXJzaW9uID0gYXdhaXQgZ2V0QW5kQ2hlY2tJb3NTZGtWZXJzaW9uKCk7XG4gICAgICB0aGlzLmxvZy5pbmZvKGBpT1MgU0RLIFZlcnNpb24gc2V0IHRvICcke3RoaXMub3B0cy5pb3NTZGtWZXJzaW9ufSdgKTtcbiAgICAgIGlmICghdGhpcy5vcHRzLnBsYXRmb3JtVmVyc2lvbiAmJiB0aGlzLm9wdHMuaW9zU2RrVmVyc2lvbikge1xuICAgICAgICB0aGlzLmxvZy5pbmZvKGBObyBwbGF0Zm9ybVZlcnNpb24gc3BlY2lmaWVkLiBVc2luZyB0aGUgbGF0ZXN0IHZlcnNpb24gWGNvZGUgc3VwcG9ydHM6ICcke3RoaXMub3B0cy5pb3NTZGtWZXJzaW9ufScuIGAgK1xuICAgICAgICAgIGBUaGlzIG1heSBjYXVzZSBwcm9ibGVtcyBpZiBhIHNpbXVsYXRvciBkb2VzIG5vdCBleGlzdCBmb3IgdGhpcyBwbGF0Zm9ybSB2ZXJzaW9uLmApO1xuICAgICAgICB0aGlzLm9wdHMucGxhdGZvcm1WZXJzaW9uID0gbm9ybWFsaXplUGxhdGZvcm1WZXJzaW9uKHRoaXMub3B0cy5pb3NTZGtWZXJzaW9uKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgaWYgKHRoaXMub3B0cy51ZGlkKSB7XG4gICAgICBpZiAodGhpcy5vcHRzLnVkaWQudG9Mb3dlckNhc2UoKSA9PT0gJ2F1dG8nKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdGhpcy5vcHRzLnVkaWQgPSBhd2FpdCBkZXRlY3RVZGlkKCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIC8vIFRyeWluZyB0byBmaW5kIG1hdGNoaW5nIFVESUQgZm9yIFNpbXVsYXRvclxuICAgICAgICAgIHRoaXMubG9nLndhcm4oYENhbm5vdCBkZXRlY3QgYW55IGNvbm5lY3RlZCByZWFsIGRldmljZXMuIEZhbGxpbmcgYmFjayB0byBTaW11bGF0b3IuIE9yaWdpbmFsIGVycm9yOiAke2Vyci5tZXNzYWdlfWApO1xuICAgICAgICAgIGNvbnN0IGRldmljZSA9IGF3YWl0IGdldEV4aXN0aW5nU2ltKHRoaXMub3B0cyk7XG4gICAgICAgICAgaWYgKCFkZXZpY2UpIHtcbiAgICAgICAgICAgIC8vIE5vIG1hdGNoaW5nIFNpbXVsYXRvciBpcyBmb3VuZC4gVGhyb3cgYW4gZXJyb3JcbiAgICAgICAgICAgIHRoaXMubG9nLmVycm9yQW5kVGhyb3coYENhbm5vdCBkZXRlY3QgdWRpZCBmb3IgJHt0aGlzLm9wdHMuZGV2aWNlTmFtZX0gU2ltdWxhdG9yIHJ1bm5pbmcgaU9TICR7dGhpcy5vcHRzLnBsYXRmb3JtVmVyc2lvbn1gKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBNYXRjaGluZyBTaW11bGF0b3IgZXhpc3RzIGFuZCBpcyBmb3VuZC4gVXNlIGl0XG4gICAgICAgICAgdGhpcy5vcHRzLnVkaWQgPSBkZXZpY2UudWRpZDtcbiAgICAgICAgICBjb25zdCBkZXZpY2VQbGF0Zm9ybSA9IG5vcm1hbGl6ZVBsYXRmb3JtVmVyc2lvbihhd2FpdCBkZXZpY2UuZ2V0UGxhdGZvcm1WZXJzaW9uKCkpO1xuICAgICAgICAgIGlmICh0aGlzLm9wdHMucGxhdGZvcm1WZXJzaW9uICE9PSBkZXZpY2VQbGF0Zm9ybSkge1xuICAgICAgICAgICAgdGhpcy5vcHRzLnBsYXRmb3JtVmVyc2lvbiA9IGRldmljZVBsYXRmb3JtO1xuICAgICAgICAgICAgdGhpcy5sb2cuaW5mbyhgU2V0IHBsYXRmb3JtVmVyc2lvbiB0byAnJHtkZXZpY2VQbGF0Zm9ybX0nIHRvIG1hdGNoIHRoZSBkZXZpY2Ugd2l0aCBnaXZlbiBVRElEYCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGF3YWl0IHNldHVwVmVyc2lvbkNhcHMoKTtcbiAgICAgICAgICByZXR1cm4ge2RldmljZSwgcmVhbERldmljZTogZmFsc2UsIHVkaWQ6IGRldmljZS51ZGlkfTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gbWFrZSBzdXJlIGl0IGlzIGEgY29ubmVjdGVkIGRldmljZS4gSWYgbm90LCB0aGUgdWRpZCBwYXNzZWQgaW4gaXMgaW52YWxpZFxuICAgICAgICBjb25zdCBkZXZpY2VzID0gYXdhaXQgZ2V0Q29ubmVjdGVkRGV2aWNlcygpO1xuICAgICAgICB0aGlzLmxvZy5kZWJ1ZyhgQXZhaWxhYmxlIGRldmljZXM6ICR7ZGV2aWNlcy5qb2luKCcsICcpfWApO1xuICAgICAgICBpZiAoIWRldmljZXMuaW5jbHVkZXModGhpcy5vcHRzLnVkaWQpKSB7XG4gICAgICAgICAgLy8gY2hlY2sgZm9yIGEgcGFydGljdWxhciBzaW11bGF0b3JcbiAgICAgICAgICB0aGlzLmxvZy5kZWJ1ZyhgTm8gcmVhbCBkZXZpY2Ugd2l0aCB1ZGlkICcke3RoaXMub3B0cy51ZGlkfScuIExvb2tpbmcgZm9yIHNpbXVsYXRvcmApO1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBkZXZpY2UgPSBhd2FpdCBnZXRTaW11bGF0b3IodGhpcy5vcHRzLnVkaWQsIHtcbiAgICAgICAgICAgICAgZGV2aWNlc1NldFBhdGg6IHRoaXMub3B0cy5zaW11bGF0b3JEZXZpY2VzU2V0UGF0aCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHtkZXZpY2UsIHJlYWxEZXZpY2U6IGZhbHNlLCB1ZGlkOiB0aGlzLm9wdHMudWRpZH07XG4gICAgICAgICAgfSBjYXRjaCAoaWduKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gZGV2aWNlIG9yIHNpbXVsYXRvciBVRElEOiAnJHt0aGlzLm9wdHMudWRpZH0nYCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGRldmljZSA9IGF3YWl0IGdldFJlYWxEZXZpY2VPYmoodGhpcy5vcHRzLnVkaWQpO1xuICAgICAgcmV0dXJuIHtkZXZpY2UsIHJlYWxEZXZpY2U6IHRydWUsIHVkaWQ6IHRoaXMub3B0cy51ZGlkfTtcbiAgICB9XG5cbiAgICAvLyBOb3cgd2Uga25vdyBmb3Igc3VyZSB0aGUgZGV2aWNlIHdpbGwgYmUgYSBTaW11bGF0b3JcbiAgICBhd2FpdCBzZXR1cFZlcnNpb25DYXBzKCk7XG4gICAgaWYgKHRoaXMub3B0cy5lbmZvcmNlRnJlc2hTaW11bGF0b3JDcmVhdGlvbikge1xuICAgICAgdGhpcy5sb2cuZGVidWcoYE5ldyBzaW11bGF0b3IgaXMgcmVxdWVzdGVkLiBJZiB0aGlzIGlzIG5vdCB3YW50ZWQsIHNldCAnZW5mb3JjZUZyZXNoU2ltdWxhdG9yQ3JlYXRpb24nIGNhcGFiaWxpdHkgdG8gZmFsc2VgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gZmlndXJlIG91dCB0aGUgY29ycmVjdCBzaW11bGF0b3IgdG8gdXNlLCBnaXZlbiB0aGUgZGVzaXJlZCBjYXBhYmlsaXRpZXNcbiAgICAgIGNvbnN0IGRldmljZSA9IGF3YWl0IGdldEV4aXN0aW5nU2ltKHRoaXMub3B0cyk7XG5cbiAgICAgIC8vIGNoZWNrIGZvciBhbiBleGlzdGluZyBzaW11bGF0b3JcbiAgICAgIGlmIChkZXZpY2UpIHtcbiAgICAgICAgcmV0dXJuIHtkZXZpY2UsIHJlYWxEZXZpY2U6IGZhbHNlLCB1ZGlkOiBkZXZpY2UudWRpZH07XG4gICAgICB9XG5cbiAgICAgIHRoaXMubG9nLmluZm8oJ1NpbXVsYXRvciB1ZGlkIG5vdCBwcm92aWRlZCcpO1xuICAgIH1cblxuICAgIC8vIG5vIGRldmljZSBvZiB0aGlzIHR5cGUgZXhpc3RzLCBvciB0aGV5IHJlcXVlc3QgbmV3IHNpbSwgc28gY3JlYXRlIG9uZVxuICAgIHRoaXMubG9nLmluZm8oJ1VzaW5nIGRlc2lyZWQgY2FwcyB0byBjcmVhdGUgYSBuZXcgc2ltdWxhdG9yJyk7XG4gICAgY29uc3QgZGV2aWNlID0gYXdhaXQgdGhpcy5jcmVhdGVTaW0oKTtcbiAgICByZXR1cm4ge2RldmljZSwgcmVhbERldmljZTogZmFsc2UsIHVkaWQ6IGRldmljZS51ZGlkfTtcbiAgfVxuXG4gIGFzeW5jIHN0YXJ0U2ltICgpIHtcbiAgICBjb25zdCBydW5PcHRzID0ge1xuICAgICAgc2NhbGVGYWN0b3I6IHRoaXMub3B0cy5zY2FsZUZhY3RvcixcbiAgICAgIGNvbm5lY3RIYXJkd2FyZUtleWJvYXJkOiAhIXRoaXMub3B0cy5jb25uZWN0SGFyZHdhcmVLZXlib2FyZCxcbiAgICAgIHBhc3RlYm9hcmRBdXRvbWF0aWNTeW5jOiB0aGlzLm9wdHMuc2ltdWxhdG9yUGFzdGVib2FyZEF1dG9tYXRpY1N5bmMgPz8gJ29mZicsXG4gICAgICBpc0hlYWRsZXNzOiAhIXRoaXMub3B0cy5pc0hlYWRsZXNzLFxuICAgICAgdHJhY2VQb2ludGVyOiB0aGlzLm9wdHMuc2ltdWxhdG9yVHJhY2VQb2ludGVyLFxuICAgICAgZGV2aWNlUHJlZmVyZW5jZXM6IHt9LFxuICAgIH07XG5cbiAgICAvLyBhZGQgdGhlIHdpbmRvdyBjZW50ZXIsIGlmIGl0IGlzIHNwZWNpZmllZFxuICAgIGlmICh0aGlzLm9wdHMuU2ltdWxhdG9yV2luZG93Q2VudGVyKSB7XG4gICAgICBydW5PcHRzLmRldmljZVByZWZlcmVuY2VzLlNpbXVsYXRvcldpbmRvd0NlbnRlciA9IHRoaXMub3B0cy5TaW11bGF0b3JXaW5kb3dDZW50ZXI7XG4gICAgfVxuXG4gICAgaWYgKF8uaXNJbnRlZ2VyKHRoaXMub3B0cy5zaW11bGF0b3JTdGFydHVwVGltZW91dCkpIHtcbiAgICAgIHJ1bk9wdHMuc3RhcnR1cFRpbWVvdXQgPSB0aGlzLm9wdHMuc2ltdWxhdG9yU3RhcnR1cFRpbWVvdXQ7XG4gICAgfVxuXG4gICAgLy8gVGhpcyBpcyB0byB3b3JrYXJvdW5kIFhDVGVzdCBidWcgYWJvdXQgY2hhbmdpbmcgU2ltdWxhdG9yXG4gICAgLy8gb3JpZW50YXRpb24gaXMgbm90IHN5bmNocm9uaXplZCB0byB0aGUgYWN0dWFsIHdpbmRvdyBvcmllbnRhdGlvblxuICAgIGNvbnN0IG9yaWVudGF0aW9uID0gXy5pc1N0cmluZyh0aGlzLm9wdHMub3JpZW50YXRpb24pICYmIHRoaXMub3B0cy5vcmllbnRhdGlvbi50b1VwcGVyQ2FzZSgpO1xuICAgIHN3aXRjaCAob3JpZW50YXRpb24pIHtcbiAgICAgIGNhc2UgJ0xBTkRTQ0FQRSc6XG4gICAgICAgIHJ1bk9wdHMuZGV2aWNlUHJlZmVyZW5jZXMuU2ltdWxhdG9yV2luZG93T3JpZW50YXRpb24gPSAnTGFuZHNjYXBlTGVmdCc7XG4gICAgICAgIHJ1bk9wdHMuZGV2aWNlUHJlZmVyZW5jZXMuU2ltdWxhdG9yV2luZG93Um90YXRpb25BbmdsZSA9IDkwO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ1BPUlRSQUlUJzpcbiAgICAgICAgcnVuT3B0cy5kZXZpY2VQcmVmZXJlbmNlcy5TaW11bGF0b3JXaW5kb3dPcmllbnRhdGlvbiA9ICdQb3J0cmFpdCc7XG4gICAgICAgIHJ1bk9wdHMuZGV2aWNlUHJlZmVyZW5jZXMuU2ltdWxhdG9yV2luZG93Um90YXRpb25BbmdsZSA9IDA7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIGF3YWl0IHRoaXMub3B0cy5kZXZpY2UucnVuKHJ1bk9wdHMpO1xuICB9XG5cbiAgYXN5bmMgY3JlYXRlU2ltICgpIHtcbiAgICB0aGlzLmxpZmVjeWNsZURhdGEuY3JlYXRlU2ltID0gdHJ1ZTtcblxuICAgIC8vIEdldCBwbGF0Zm9ybSBuYW1lIGZyb20gY29uc3Qgc2luY2UgaXQgbXVzdCBiZSBjYXNlIHNlbnNpdGl2ZSB0byBjcmVhdGUgYSBuZXcgc2ltdWxhdG9yXG4gICAgY29uc3QgcGxhdGZvcm1OYW1lID0gdGhpcy5pc1R2T1MoKSA/IFBMQVRGT1JNX05BTUVfVFZPUyA6IFBMQVRGT1JNX05BTUVfSU9TO1xuXG4gICAgLy8gY3JlYXRlIHNpbSBmb3IgY2Fwc1xuICAgIGNvbnN0IHNpbSA9IGF3YWl0IGNyZWF0ZVNpbSh0aGlzLm9wdHMsIHBsYXRmb3JtTmFtZSk7XG4gICAgdGhpcy5sb2cuaW5mbyhgQ3JlYXRlZCBzaW11bGF0b3Igd2l0aCB1ZGlkICcke3NpbS51ZGlkfScuYCk7XG5cbiAgICByZXR1cm4gc2ltO1xuICB9XG5cbiAgYXN5bmMgbGF1bmNoQXBwICgpIHtcbiAgICBjb25zdCBBUFBfTEFVTkNIX1RJTUVPVVQgPSAyMCAqIDEwMDA7XG5cbiAgICB0aGlzLmxvZ0V2ZW50KCdhcHBMYXVuY2hBdHRlbXB0ZWQnKTtcbiAgICBhd2FpdCB0aGlzLm9wdHMuZGV2aWNlLmxhdW5jaEFwcCh0aGlzLm9wdHMuYnVuZGxlSWQpO1xuXG4gICAgbGV0IGNoZWNrU3RhdHVzID0gYXN5bmMgKCkgPT4ge1xuICAgICAgbGV0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5wcm94eUNvbW1hbmQoJy9zdGF0dXMnLCAnR0VUJyk7XG4gICAgICBsZXQgY3VycmVudEFwcCA9IHJlc3BvbnNlLmN1cnJlbnRBcHAuYnVuZGxlSUQ7XG4gICAgICBpZiAoY3VycmVudEFwcCAhPT0gdGhpcy5vcHRzLmJ1bmRsZUlkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgJHt0aGlzLm9wdHMuYnVuZGxlSWR9IG5vdCBpbiBmb3JlZ3JvdW5kLiAke2N1cnJlbnRBcHB9IGlzIGluIGZvcmVncm91bmRgKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5sb2cuaW5mbyhgV2FpdGluZyBmb3IgJyR7dGhpcy5vcHRzLmJ1bmRsZUlkfScgdG8gYmUgaW4gZm9yZWdyb3VuZGApO1xuICAgIGxldCByZXRyaWVzID0gcGFyc2VJbnQoQVBQX0xBVU5DSF9USU1FT1VUIC8gMjAwLCAxMCk7XG4gICAgYXdhaXQgcmV0cnlJbnRlcnZhbChyZXRyaWVzLCAyMDAsIGNoZWNrU3RhdHVzKTtcbiAgICB0aGlzLmxvZy5pbmZvKGAke3RoaXMub3B0cy5idW5kbGVJZH0gaXMgaW4gZm9yZWdyb3VuZGApO1xuICAgIHRoaXMubG9nRXZlbnQoJ2FwcExhdW5jaGVkJyk7XG4gIH1cblxuICBhc3luYyBzdGFydFdkYVNlc3Npb24gKGJ1bmRsZUlkLCBwcm9jZXNzQXJndW1lbnRzKSB7XG4gICAgY29uc3QgYXJncyA9IHByb2Nlc3NBcmd1bWVudHMgPyAocHJvY2Vzc0FyZ3VtZW50cy5hcmdzIHx8IFtdKSA6IFtdO1xuICAgIGlmICghXy5pc0FycmF5KGFyZ3MpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYHByb2Nlc3NBcmd1bWVudHMuYXJncyBjYXBhYmlsaXR5IGlzIGV4cGVjdGVkIHRvIGJlIGFuIGFycmF5LiBgICtcbiAgICAgICAgYCR7SlNPTi5zdHJpbmdpZnkoYXJncyl9IGlzIGdpdmVuIGluc3RlYWRgKTtcbiAgICB9XG4gICAgY29uc3QgZW52ID0gcHJvY2Vzc0FyZ3VtZW50cyA/IChwcm9jZXNzQXJndW1lbnRzLmVudiB8fCB7fSkgOiB7fTtcbiAgICBpZiAoIV8uaXNQbGFpbk9iamVjdChlbnYpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYHByb2Nlc3NBcmd1bWVudHMuZW52IGNhcGFiaWxpdHkgaXMgZXhwZWN0ZWQgdG8gYmUgYSBkaWN0aW9uYXJ5LiBgICtcbiAgICAgICAgYCR7SlNPTi5zdHJpbmdpZnkoZW52KX0gaXMgZ2l2ZW4gaW5zdGVhZGApO1xuICAgIH1cblxuICAgIGlmICh1dGlsLmhhc1ZhbHVlKHRoaXMub3B0cy5sYW5ndWFnZSkpIHtcbiAgICAgIGFyZ3MucHVzaCgnLUFwcGxlTGFuZ3VhZ2VzJywgYCgke3RoaXMub3B0cy5sYW5ndWFnZX0pYCk7XG4gICAgICBhcmdzLnB1c2goJy1OU0xhbmd1YWdlcycsIGAoJHt0aGlzLm9wdHMubGFuZ3VhZ2V9KWApO1xuICAgIH1cbiAgICBpZiAodXRpbC5oYXNWYWx1ZSh0aGlzLm9wdHMubG9jYWxlKSkge1xuICAgICAgYXJncy5wdXNoKCctQXBwbGVMb2NhbGUnLCB0aGlzLm9wdHMubG9jYWxlKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5vcHRzLm5vUmVzZXQpIHtcbiAgICAgIGlmIChfLmlzTmlsKHRoaXMub3B0cy5zaG91bGRUZXJtaW5hdGVBcHApKSB7XG4gICAgICAgIHRoaXMub3B0cy5zaG91bGRUZXJtaW5hdGVBcHAgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmIChfLmlzTmlsKHRoaXMub3B0cy5mb3JjZUFwcExhdW5jaCkpIHtcbiAgICAgICAgdGhpcy5vcHRzLmZvcmNlQXBwTGF1bmNoID0gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3Qgd2RhQ2FwcyA9IHtcbiAgICAgIGJ1bmRsZUlkOiB0aGlzLm9wdHMuYXV0b0xhdW5jaCA9PT0gZmFsc2UgPyB1bmRlZmluZWQgOiBidW5kbGVJZCxcbiAgICAgIGFyZ3VtZW50czogYXJncyxcbiAgICAgIGVudmlyb25tZW50OiBlbnYsXG4gICAgICBldmVudGxvb3BJZGxlRGVsYXlTZWM6IHRoaXMub3B0cy53ZGFFdmVudGxvb3BJZGxlRGVsYXkgPz8gMCxcbiAgICAgIHNob3VsZFdhaXRGb3JRdWllc2NlbmNlOiB0aGlzLm9wdHMud2FpdEZvclF1aWVzY2VuY2UgPz8gdHJ1ZSxcbiAgICAgIHNob3VsZFVzZVRlc3RNYW5hZ2VyRm9yVmlzaWJpbGl0eURldGVjdGlvbjogdGhpcy5vcHRzLnNpbXBsZUlzVmlzaWJsZUNoZWNrID8/IGZhbHNlLFxuICAgICAgbWF4VHlwaW5nRnJlcXVlbmN5OiB0aGlzLm9wdHMubWF4VHlwaW5nRnJlcXVlbmN5ID8/IDYwLFxuICAgICAgc2hvdWxkVXNlU2luZ2xldG9uVGVzdE1hbmFnZXI6IHRoaXMub3B0cy5zaG91bGRVc2VTaW5nbGV0b25UZXN0TWFuYWdlciA/PyB0cnVlLFxuICAgICAgd2FpdEZvcklkbGVUaW1lb3V0OiB0aGlzLm9wdHMud2FpdEZvcklkbGVUaW1lb3V0LFxuICAgICAgc2hvdWxkVXNlQ29tcGFjdFJlc3BvbnNlczogdGhpcy5vcHRzLnNob3VsZFVzZUNvbXBhY3RSZXNwb25zZXMsXG4gICAgICBlbGVtZW50UmVzcG9uc2VGaWVsZHM6IHRoaXMub3B0cy5lbGVtZW50UmVzcG9uc2VGaWVsZHMsXG4gICAgICBkaXNhYmxlQXV0b21hdGljU2NyZWVuc2hvdHM6IHRoaXMub3B0cy5kaXNhYmxlQXV0b21hdGljU2NyZWVuc2hvdHMsXG4gICAgICBzaG91bGRUZXJtaW5hdGVBcHA6IHRoaXMub3B0cy5zaG91bGRUZXJtaW5hdGVBcHAgPz8gdHJ1ZSxcbiAgICAgIGZvcmNlQXBwTGF1bmNoOiB0aGlzLm9wdHMuZm9yY2VBcHBMYXVuY2ggPz8gdHJ1ZSxcbiAgICAgIHVzZU5hdGl2ZUNhY2hpbmdTdHJhdGVneTogdGhpcy5vcHRzLnVzZU5hdGl2ZUNhY2hpbmdTdHJhdGVneSA/PyB0cnVlLFxuICAgICAgZm9yY2VTaW11bGF0b3JTb2Z0d2FyZUtleWJvYXJkUHJlc2VuY2U6IHRoaXMub3B0cy5mb3JjZVNpbXVsYXRvclNvZnR3YXJlS2V5Ym9hcmRQcmVzZW5jZVxuICAgICAgICA/PyAodGhpcy5vcHRzLmNvbm5lY3RIYXJkd2FyZUtleWJvYXJkID09PSB0cnVlID8gZmFsc2UgOiB0cnVlKSxcbiAgICB9O1xuICAgIGlmICh0aGlzLm9wdHMuYXV0b0FjY2VwdEFsZXJ0cykge1xuICAgICAgd2RhQ2Fwcy5kZWZhdWx0QWxlcnRBY3Rpb24gPSAnYWNjZXB0JztcbiAgICB9IGVsc2UgaWYgKHRoaXMub3B0cy5hdXRvRGlzbWlzc0FsZXJ0cykge1xuICAgICAgd2RhQ2Fwcy5kZWZhdWx0QWxlcnRBY3Rpb24gPSAnZGlzbWlzcyc7XG4gICAgfVxuXG4gICAgYXdhaXQgdGhpcy5wcm94eUNvbW1hbmQoJy9zZXNzaW9uJywgJ1BPU1QnLCB7XG4gICAgICBjYXBhYmlsaXRpZXM6IHtcbiAgICAgICAgZmlyc3RNYXRjaDogW3dkYUNhcHNdLFxuICAgICAgICBhbHdheXNNYXRjaDoge30sXG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvLyBPdmVycmlkZSBQcm94eSBtZXRob2RzIGZyb20gQmFzZURyaXZlclxuICBwcm94eUFjdGl2ZSAoKSB7XG4gICAgcmV0dXJuIHRoaXMuandwUHJveHlBY3RpdmU7XG4gIH1cblxuICBnZXRQcm94eUF2b2lkTGlzdCAoKSB7XG4gICAgaWYgKHRoaXMuaXNXZWJ2aWV3KCkpIHtcbiAgICAgIHJldHVybiBOT19QUk9YWV9XRUJfTElTVDtcbiAgICB9XG4gICAgcmV0dXJuIE5PX1BST1hZX05BVElWRV9MSVNUO1xuICB9XG5cbiAgY2FuUHJveHkgKCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgaXNTYWZhcmkgKCkge1xuICAgIHJldHVybiAhIXRoaXMuc2FmYXJpO1xuICB9XG5cbiAgaXNSZWFsRGV2aWNlICgpIHtcbiAgICByZXR1cm4gdGhpcy5vcHRzLnJlYWxEZXZpY2U7XG4gIH1cblxuICBpc1NpbXVsYXRvciAoKSB7XG4gICAgcmV0dXJuICF0aGlzLm9wdHMucmVhbERldmljZTtcbiAgfVxuXG4gIGlzVHZPUyAoKSB7XG4gICAgcmV0dXJuIF8udG9Mb3dlcih0aGlzLm9wdHMucGxhdGZvcm1OYW1lKSA9PT0gXy50b0xvd2VyKFBMQVRGT1JNX05BTUVfVFZPUyk7XG4gIH1cblxuICBpc1dlYnZpZXcgKCkge1xuICAgIHJldHVybiB0aGlzLmlzU2FmYXJpKCkgfHwgdGhpcy5pc1dlYkNvbnRleHQoKTtcbiAgfVxuXG4gIHZhbGlkYXRlTG9jYXRvclN0cmF0ZWd5IChzdHJhdGVneSkge1xuICAgIHN1cGVyLnZhbGlkYXRlTG9jYXRvclN0cmF0ZWd5KHN0cmF0ZWd5LCB0aGlzLmlzV2ViQ29udGV4dCgpKTtcbiAgfVxuXG4gIHZhbGlkYXRlRGVzaXJlZENhcHMgKGNhcHMpIHtcbiAgICBpZiAoIXN1cGVyLnZhbGlkYXRlRGVzaXJlZENhcHMoY2FwcykpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBtYWtlIHN1cmUgdGhhdCB0aGUgY2FwYWJpbGl0aWVzIGhhdmUgb25lIG9mIGBhcHBgIG9yIGBidW5kbGVJZGBcbiAgICBpZiAoXy50b0xvd2VyKGNhcHMuYnJvd3Nlck5hbWUpICE9PSAnc2FmYXJpJyAmJiAhY2Fwcy5hcHAgJiYgIWNhcHMuYnVuZGxlSWQpIHtcbiAgICAgIHRoaXMubG9nLmluZm8oJ1RoZSBkZXNpcmVkIGNhcGFiaWxpdGllcyBpbmNsdWRlIG5laXRoZXIgYW4gYXBwIG5vciBhIGJ1bmRsZUlkLiAnICtcbiAgICAgICAgJ1dlYkRyaXZlckFnZW50IHdpbGwgYmUgc3RhcnRlZCB3aXRob3V0IHRoZSBkZWZhdWx0IGFwcCcpO1xuICAgIH1cblxuICAgIGlmICghdXRpbC5jb2VyY2VWZXJzaW9uKGNhcHMucGxhdGZvcm1WZXJzaW9uLCBmYWxzZSkpIHtcbiAgICAgIHRoaXMubG9nLndhcm4oYCdwbGF0Zm9ybVZlcnNpb24nIGNhcGFiaWxpdHkgKCcke2NhcHMucGxhdGZvcm1WZXJzaW9ufScpIGlzIG5vdCBhIHZhbGlkIHZlcnNpb24gbnVtYmVyLiBgICtcbiAgICAgICAgYENvbnNpZGVyIGZpeGluZyBpdCBvciBiZSByZWFkeSB0byBleHBlcmllbmNlIGFuIGluY29uc2lzdGVudCBkcml2ZXIgYmVoYXZpb3IuYCk7XG4gICAgfVxuXG4gICAgbGV0IHZlcmlmeVByb2Nlc3NBcmd1bWVudCA9IChwcm9jZXNzQXJndW1lbnRzKSA9PiB7XG4gICAgICBjb25zdCB7YXJncywgZW52fSA9IHByb2Nlc3NBcmd1bWVudHM7XG4gICAgICBpZiAoIV8uaXNOaWwoYXJncykgJiYgIV8uaXNBcnJheShhcmdzKSkge1xuICAgICAgICB0aGlzLmxvZy5lcnJvckFuZFRocm93KCdwcm9jZXNzQXJndW1lbnRzLmFyZ3MgbXVzdCBiZSBhbiBhcnJheSBvZiBzdHJpbmdzJyk7XG4gICAgICB9XG4gICAgICBpZiAoIV8uaXNOaWwoZW52KSAmJiAhXy5pc1BsYWluT2JqZWN0KGVudikpIHtcbiAgICAgICAgdGhpcy5sb2cuZXJyb3JBbmRUaHJvdygncHJvY2Vzc0FyZ3VtZW50cy5lbnYgbXVzdCBiZSBhbiBvYmplY3QgPGtleSx2YWx1ZT4gcGFpciB7YTpiLCBjOmR9Jyk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8vIGBwcm9jZXNzQXJndW1lbnRzYCBzaG91bGQgYmUgSlNPTiBzdHJpbmcgb3IgYW4gb2JqZWN0IHdpdGggYXJndW1lbnRzIGFuZC8gZW52aXJvbm1lbnQgZGV0YWlsc1xuICAgIGlmIChjYXBzLnByb2Nlc3NBcmd1bWVudHMpIHtcbiAgICAgIGlmIChfLmlzU3RyaW5nKGNhcHMucHJvY2Vzc0FyZ3VtZW50cykpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyB0cnkgdG8gcGFyc2UgdGhlIHN0cmluZyBhcyBKU09OXG4gICAgICAgICAgY2Fwcy5wcm9jZXNzQXJndW1lbnRzID0gSlNPTi5wYXJzZShjYXBzLnByb2Nlc3NBcmd1bWVudHMpO1xuICAgICAgICAgIHZlcmlmeVByb2Nlc3NBcmd1bWVudChjYXBzLnByb2Nlc3NBcmd1bWVudHMpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICB0aGlzLmxvZy5lcnJvckFuZFRocm93KGBwcm9jZXNzQXJndW1lbnRzIG11c3QgYmUgYSBKU09OIGZvcm1hdCBvciBhbiBvYmplY3Qgd2l0aCBmb3JtYXQge2FyZ3MgOiBbXSwgZW52IDoge2E6YiwgYzpkfX0uIGAgK1xuICAgICAgICAgICAgYEJvdGggZW52aXJvbm1lbnQgYW5kIGFyZ3VtZW50IGNhbiBiZSBudWxsLiBFcnJvcjogJHtlcnJ9YCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoXy5pc1BsYWluT2JqZWN0KGNhcHMucHJvY2Vzc0FyZ3VtZW50cykpIHtcbiAgICAgICAgdmVyaWZ5UHJvY2Vzc0FyZ3VtZW50KGNhcHMucHJvY2Vzc0FyZ3VtZW50cyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmxvZy5lcnJvckFuZFRocm93KGAncHJvY2Vzc0FyZ3VtZW50cyBtdXN0IGJlIGFuIG9iamVjdCwgb3IgYSBzdHJpbmcgSlNPTiBvYmplY3Qgd2l0aCBmb3JtYXQge2FyZ3MgOiBbXSwgZW52IDoge2E6YiwgYzpkfX0uIGAgK1xuICAgICAgICAgIGBCb3RoIGVudmlyb25tZW50IGFuZCBhcmd1bWVudCBjYW4gYmUgbnVsbC5gKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyB0aGVyZSBpcyBubyBwb2ludCBpbiBoYXZpbmcgYGtleWNoYWluUGF0aGAgd2l0aG91dCBga2V5Y2hhaW5QYXNzd29yZGBcbiAgICBpZiAoKGNhcHMua2V5Y2hhaW5QYXRoICYmICFjYXBzLmtleWNoYWluUGFzc3dvcmQpIHx8ICghY2Fwcy5rZXljaGFpblBhdGggJiYgY2Fwcy5rZXljaGFpblBhc3N3b3JkKSkge1xuICAgICAgdGhpcy5sb2cuZXJyb3JBbmRUaHJvdyhgSWYgJ2tleWNoYWluUGF0aCcgaXMgc2V0LCAna2V5Y2hhaW5QYXNzd29yZCcgbXVzdCBhbHNvIGJlIHNldCAoYW5kIHZpY2UgdmVyc2EpLmApO1xuICAgIH1cblxuICAgIC8vIGByZXNldE9uU2Vzc2lvblN0YXJ0T25seWAgc2hvdWxkIGJlIHNldCB0byB0cnVlIGJ5IGRlZmF1bHRcbiAgICB0aGlzLm9wdHMucmVzZXRPblNlc3Npb25TdGFydE9ubHkgPSAhdXRpbC5oYXNWYWx1ZSh0aGlzLm9wdHMucmVzZXRPblNlc3Npb25TdGFydE9ubHkpIHx8IHRoaXMub3B0cy5yZXNldE9uU2Vzc2lvblN0YXJ0T25seTtcbiAgICB0aGlzLm9wdHMudXNlTmV3V0RBID0gdXRpbC5oYXNWYWx1ZSh0aGlzLm9wdHMudXNlTmV3V0RBKSA/IHRoaXMub3B0cy51c2VOZXdXREEgOiBmYWxzZTtcblxuICAgIGlmIChjYXBzLmNvbW1hbmRUaW1lb3V0cykge1xuICAgICAgY2Fwcy5jb21tYW5kVGltZW91dHMgPSBub3JtYWxpemVDb21tYW5kVGltZW91dHMoY2Fwcy5jb21tYW5kVGltZW91dHMpO1xuICAgIH1cblxuICAgIGlmIChfLmlzU3RyaW5nKGNhcHMud2ViRHJpdmVyQWdlbnRVcmwpKSB7XG4gICAgICBjb25zdCB7cHJvdG9jb2wsIGhvc3R9ID0gdXJsLnBhcnNlKGNhcHMud2ViRHJpdmVyQWdlbnRVcmwpO1xuICAgICAgaWYgKF8uaXNFbXB0eShwcm90b2NvbCkgfHwgXy5pc0VtcHR5KGhvc3QpKSB7XG4gICAgICAgIHRoaXMubG9nLmVycm9yQW5kVGhyb3coYCd3ZWJEcml2ZXJBZ2VudFVybCcgY2FwYWJpbGl0eSBpcyBleHBlY3RlZCB0byBjb250YWluIGEgdmFsaWQgV2ViRHJpdmVyQWdlbnQgc2VydmVyIFVSTC4gYCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGAnJHtjYXBzLndlYkRyaXZlckFnZW50VXJsfScgaXMgZ2l2ZW4gaW5zdGVhZGApO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChjYXBzLmJyb3dzZXJOYW1lKSB7XG4gICAgICBpZiAoY2Fwcy5idW5kbGVJZCkge1xuICAgICAgICB0aGlzLmxvZy5lcnJvckFuZFRocm93KGAnYnJvd3Nlck5hbWUnIGNhbm5vdCBiZSBzZXQgdG9nZXRoZXIgd2l0aCAnYnVuZGxlSWQnIGNhcGFiaWxpdHlgKTtcbiAgICAgIH1cbiAgICAgIC8vIHdhcm4gaWYgdGhlIGNhcGFiaWxpdGllcyBoYXZlIGJvdGggYGFwcGAgYW5kIGBicm93c2VyLCBhbHRob3VnaCB0aGlzXG4gICAgICAvLyBpcyBjb21tb24gd2l0aCBzZWxlbml1bSBncmlkXG4gICAgICBpZiAoY2Fwcy5hcHApIHtcbiAgICAgICAgdGhpcy5sb2cud2FybihgVGhlIGNhcGFiaWxpdGllcyBzaG91bGQgZ2VuZXJhbGx5IG5vdCBpbmNsdWRlIGJvdGggYW4gJ2FwcCcgYW5kIGEgJ2Jyb3dzZXJOYW1lJ2ApO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChjYXBzLnBlcm1pc3Npb25zKSB7XG4gICAgICB0cnkge1xuICAgICAgICBmb3IgKGNvbnN0IFtidW5kbGVJZCwgcGVybXNdIG9mIF8udG9QYWlycyhKU09OLnBhcnNlKGNhcHMucGVybWlzc2lvbnMpKSkge1xuICAgICAgICAgIGlmICghXy5pc1N0cmluZyhidW5kbGVJZCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgJyR7SlNPTi5zdHJpbmdpZnkoYnVuZGxlSWQpfScgbXVzdCBiZSBhIHN0cmluZ2ApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoIV8uaXNQbGFpbk9iamVjdChwZXJtcykpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgJyR7SlNPTi5zdHJpbmdpZnkocGVybXMpfScgbXVzdCBiZSBhIEpTT04gb2JqZWN0YCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHRoaXMubG9nLmVycm9yQW5kVGhyb3coYCcke2NhcHMucGVybWlzc2lvbnN9JyBpcyBleHBlY3RlZCB0byBiZSBhIHZhbGlkIG9iamVjdCB3aXRoIGZvcm1hdCBgICtcbiAgICAgICAgICBge1wiPGJ1bmRsZUlkMT5cIjoge1wiPHNlcnZpY2VOYW1lMT5cIjogXCI8c2VydmljZVN0YXR1czE+XCIsIC4uLn0sIC4uLn0uIE9yaWdpbmFsIGVycm9yOiAke2UubWVzc2FnZX1gKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoY2Fwcy5wbGF0Zm9ybVZlcnNpb24gJiYgIXV0aWwuY29lcmNlVmVyc2lvbihjYXBzLnBsYXRmb3JtVmVyc2lvbiwgZmFsc2UpKSB7XG4gICAgICB0aGlzLmxvZy5lcnJvckFuZFRocm93KGAncGxhdGZvcm1WZXJzaW9uJyBtdXN0IGJlIGEgdmFsaWQgdmVyc2lvbiBudW1iZXIuIGAgK1xuICAgICAgICBgJyR7Y2Fwcy5wbGF0Zm9ybVZlcnNpb259JyBpcyBnaXZlbiBpbnN0ZWFkLmApO1xuICAgIH1cblxuICAgIC8vIGFkZGl0aW9uYWxXZWJ2aWV3QnVuZGxlSWRzIGlzIGFuIGFycmF5LCBKU09OIGFycmF5LCBvciBzdHJpbmdcbiAgICBpZiAoY2Fwcy5hZGRpdGlvbmFsV2Vidmlld0J1bmRsZUlkcykge1xuICAgICAgY2Fwcy5hZGRpdGlvbmFsV2Vidmlld0J1bmRsZUlkcyA9IHRoaXMuaGVscGVycy5wYXJzZUNhcHNBcnJheShjYXBzLmFkZGl0aW9uYWxXZWJ2aWV3QnVuZGxlSWRzKTtcbiAgICB9XG5cbiAgICAvLyBmaW5hbGx5LCByZXR1cm4gdHJ1ZSBzaW5jZSB0aGUgc3VwZXJjbGFzcyBjaGVjayBwYXNzZWQsIGFzIGRpZCB0aGlzXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBhc3luYyBpbnN0YWxsQVVUICgpIHtcbiAgICBpZiAodGhpcy5pc1NhZmFyaSgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgYXdhaXQgdmVyaWZ5QXBwbGljYXRpb25QbGF0Zm9ybSh0aGlzLm9wdHMuYXBwLCB7XG4gICAgICBpc1NpbXVsYXRvcjogdGhpcy5pc1NpbXVsYXRvcigpLFxuICAgICAgaXNUdk9TOiB0aGlzLmlzVHZPUygpLFxuICAgIH0pO1xuXG4gICAgaWYgKHRoaXMuaXNSZWFsRGV2aWNlKCkpIHtcbiAgICAgIGF3YWl0IGluc3RhbGxUb1JlYWxEZXZpY2UodGhpcy5vcHRzLmRldmljZSwgdGhpcy5vcHRzLmFwcCwgdGhpcy5vcHRzLmJ1bmRsZUlkLCB7XG4gICAgICAgIG5vUmVzZXQ6IHRoaXMub3B0cy5ub1Jlc2V0LFxuICAgICAgICB0aW1lb3V0OiB0aGlzLm9wdHMuYXBwUHVzaFRpbWVvdXQsXG4gICAgICAgIHN0cmF0ZWd5OiB0aGlzLm9wdHMuYXBwSW5zdGFsbFN0cmF0ZWd5LFxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGF3YWl0IGluc3RhbGxUb1NpbXVsYXRvcih0aGlzLm9wdHMuZGV2aWNlLCB0aGlzLm9wdHMuYXBwLCB0aGlzLm9wdHMuYnVuZGxlSWQsIHtcbiAgICAgICAgbm9SZXNldDogdGhpcy5vcHRzLm5vUmVzZXQsXG4gICAgICAgIG5ld1NpbXVsYXRvcjogdGhpcy5saWZlY3ljbGVEYXRhLmNyZWF0ZVNpbSxcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAodGhpcy5vcHRzLm90aGVyQXBwcykge1xuICAgICAgYXdhaXQgdGhpcy5pbnN0YWxsT3RoZXJBcHBzKHRoaXMub3B0cy5vdGhlckFwcHMpO1xuICAgIH1cblxuICAgIGlmICh1dGlsLmhhc1ZhbHVlKHRoaXMub3B0cy5pb3NJbnN0YWxsUGF1c2UpKSB7XG4gICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vYXBwaXVtL2FwcGl1bS9pc3N1ZXMvNjg4OVxuICAgICAgbGV0IHBhdXNlID0gcGFyc2VJbnQodGhpcy5vcHRzLmlvc0luc3RhbGxQYXVzZSwgMTApO1xuICAgICAgdGhpcy5sb2cuZGVidWcoYGlvc0luc3RhbGxQYXVzZSBzZXQuIFBhdXNpbmcgJHtwYXVzZX0gbXMgYmVmb3JlIGNvbnRpbnVpbmdgKTtcbiAgICAgIGF3YWl0IEIuZGVsYXkocGF1c2UpO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGluc3RhbGxPdGhlckFwcHMgKG90aGVyQXBwcykge1xuICAgIGlmICh0aGlzLmlzUmVhbERldmljZSgpKSB7XG4gICAgICB0aGlzLmxvZy53YXJuKCdDYXBhYmlsaXR5IG90aGVyQXBwcyBpcyBvbmx5IHN1cHBvcnRlZCBmb3IgU2ltdWxhdG9ycycpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsZXQgYXBwc0xpc3Q7XG4gICAgdHJ5IHtcbiAgICAgIGFwcHNMaXN0ID0gdGhpcy5oZWxwZXJzLnBhcnNlQ2Fwc0FycmF5KG90aGVyQXBwcyk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgdGhpcy5sb2cuZXJyb3JBbmRUaHJvdyhgQ291bGQgbm90IHBhcnNlIFwib3RoZXJBcHBzXCIgY2FwYWJpbGl0eTogJHtlLm1lc3NhZ2V9YCk7XG4gICAgfVxuICAgIGlmIChfLmlzRW1wdHkoYXBwc0xpc3QpKSB7XG4gICAgICB0aGlzLmxvZy5pbmZvKGBHb3QgemVybyBhcHBzIGZyb20gJ290aGVyQXBwcycgY2FwYWJpbGl0eSB2YWx1ZS4gRG9pbmcgbm90aGluZ2ApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGFwcFBhdGhzID0gYXdhaXQgQi5hbGwoYXBwc0xpc3QubWFwKFxuICAgICAgKGFwcCkgPT4gdGhpcy5oZWxwZXJzLmNvbmZpZ3VyZUFwcChhcHAsICcuYXBwJylcbiAgICApKTtcbiAgICBmb3IgKGNvbnN0IG90aGVyQXBwIG9mIGFwcFBhdGhzKSB7XG4gICAgICBhd2FpdCBpbnN0YWxsVG9TaW11bGF0b3IodGhpcy5vcHRzLmRldmljZSwgb3RoZXJBcHAsIHVuZGVmaW5lZCwge1xuICAgICAgICBub1Jlc2V0OiB0aGlzLm9wdHMubm9SZXNldCxcbiAgICAgICAgbmV3U2ltdWxhdG9yOiB0aGlzLmxpZmVjeWNsZURhdGEuY3JlYXRlU2ltLFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgc2V0SW5pdGlhbE9yaWVudGF0aW9uIChvcmllbnRhdGlvbikge1xuICAgIGNvbnN0IGRzdE9yaWVudGF0aW9uID0gXy50b1VwcGVyKG9yaWVudGF0aW9uKTtcbiAgICBpZiAoIVNVUFBPUlRFRF9PUklFTkFUSU9OUy5pbmNsdWRlcyhkc3RPcmllbnRhdGlvbikpIHtcbiAgICAgIHRoaXMubG9nLmRlYnVnKFxuICAgICAgICBgVGhlIGluaXRpYWwgb3JpZW50YXRpb24gdmFsdWUgJyR7b3JpZW50YXRpb259JyBpcyB1bmtub3duLiBgICtcbiAgICAgICAgYE9ubHkgJHtKU09OLnN0cmluZ2lmeShTVVBQT1JURURfT1JJRU5BVElPTlMpfSBhcmUgc3VwcG9ydGVkLmBcbiAgICAgICk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5sb2cuZGVidWcoYFNldHRpbmcgaW5pdGlhbCBvcmllbnRhdGlvbiB0byAnJHtkc3RPcmllbnRhdGlvbn0nYCk7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IHRoaXMucHJveHlDb21tYW5kKCcvb3JpZW50YXRpb24nLCAnUE9TVCcsIHtvcmllbnRhdGlvbjogZHN0T3JpZW50YXRpb259KTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHRoaXMubG9nLndhcm4oYFNldHRpbmcgaW5pdGlhbCBvcmllbnRhdGlvbiBmYWlsZWQgd2l0aDogJHtlcnIubWVzc2FnZX1gKTtcbiAgICB9XG4gIH1cblxuICBfZ2V0Q29tbWFuZFRpbWVvdXQgKGNtZE5hbWUpIHtcbiAgICBpZiAodGhpcy5vcHRzLmNvbW1hbmRUaW1lb3V0cykge1xuICAgICAgaWYgKGNtZE5hbWUgJiYgXy5oYXModGhpcy5vcHRzLmNvbW1hbmRUaW1lb3V0cywgY21kTmFtZSkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3B0cy5jb21tYW5kVGltZW91dHNbY21kTmFtZV07XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5vcHRzLmNvbW1hbmRUaW1lb3V0c1tERUZBVUxUX1RJTUVPVVRfS0VZXTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0IHNlc3Npb24gY2FwYWJpbGl0aWVzIG1lcmdlZCB3aXRoIHdoYXQgV0RBIHJlcG9ydHNcbiAgICogVGhpcyBpcyBhIGxpYnJhcnkgY29tbWFuZCBidXQgbmVlZHMgdG8gY2FsbCAnc3VwZXInIHNvIGNhbid0IGJlIG9uXG4gICAqIGEgaGVscGVyIG9iamVjdFxuICAgKi9cbiAgYXN5bmMgZ2V0U2Vzc2lvbiAoKSB7XG4gICAgLy8gY2FsbCBzdXBlciB0byBnZXQgZXZlbnQgdGltaW5ncywgZXRjLi4uXG4gICAgY29uc3QgZHJpdmVyU2Vzc2lvbiA9IGF3YWl0IHN1cGVyLmdldFNlc3Npb24oKTtcbiAgICBpZiAoIXRoaXMud2RhQ2Fwcykge1xuICAgICAgdGhpcy53ZGFDYXBzID0gYXdhaXQgdGhpcy5wcm94eUNvbW1hbmQoJy8nLCAnR0VUJyk7XG4gICAgfVxuXG4gICAgY29uc3Qgc2hvdWxkR2V0RGV2aWNlQ2FwcyA9IF8uaXNCb29sZWFuKHRoaXMub3B0cy5pbmNsdWRlRGV2aWNlQ2Fwc1RvU2Vzc2lvbkluZm8pXG4gICAgICA/IHRoaXMub3B0cy5pbmNsdWRlRGV2aWNlQ2Fwc1RvU2Vzc2lvbkluZm9cbiAgICAgIDogdHJ1ZTsgLy8gQmFja3dhcmQgY29tcGF0aWJpbGl0eVxuICAgIGlmIChzaG91bGRHZXREZXZpY2VDYXBzICYmICF0aGlzLmRldmljZUNhcHMpIHtcbiAgICAgIGNvbnN0IHtzdGF0dXNCYXJTaXplLCBzY2FsZX0gPSBhd2FpdCB0aGlzLmdldFNjcmVlbkluZm8oKTtcbiAgICAgIHRoaXMuZGV2aWNlQ2FwcyA9IHtcbiAgICAgICAgcGl4ZWxSYXRpbzogc2NhbGUsXG4gICAgICAgIHN0YXRCYXJIZWlnaHQ6IHN0YXR1c0JhclNpemUuaGVpZ2h0LFxuICAgICAgICB2aWV3cG9ydFJlY3Q6IGF3YWl0IHRoaXMuZ2V0Vmlld3BvcnRSZWN0KCksXG4gICAgICB9O1xuICAgIH1cbiAgICB0aGlzLmxvZy5pbmZvKCdNZXJnaW5nIFdEQSBjYXBzIG92ZXIgQXBwaXVtIGNhcHMgZm9yIHNlc3Npb24gZGV0YWlsIHJlc3BvbnNlJyk7XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe3VkaWQ6IHRoaXMub3B0cy51ZGlkfSwgZHJpdmVyU2Vzc2lvbixcbiAgICAgIHRoaXMud2RhQ2Fwcy5jYXBhYmlsaXRpZXMsIHRoaXMuZGV2aWNlQ2FwcyB8fCB7fSk7XG4gIH1cblxuICBhc3luYyByZXNldCAoKSB7XG4gICAgaWYgKHRoaXMub3B0cy5ub1Jlc2V0KSB7XG4gICAgICAvLyBUaGlzIGlzIHRvIG1ha2Ugc3VyZSByZXNldCBoYXBwZW5zIGV2ZW4gaWYgbm9SZXNldCBpcyBzZXQgdG8gdHJ1ZVxuICAgICAgbGV0IG9wdHMgPSBfLmNsb25lRGVlcCh0aGlzLm9wdHMpO1xuICAgICAgb3B0cy5ub1Jlc2V0ID0gZmFsc2U7XG4gICAgICBvcHRzLmZ1bGxSZXNldCA9IGZhbHNlO1xuICAgICAgY29uc3Qgc2h1dGRvd25IYW5kbGVyID0gdGhpcy5yZXNldE9uVW5leHBlY3RlZFNodXRkb3duO1xuICAgICAgdGhpcy5yZXNldE9uVW5leHBlY3RlZFNodXRkb3duID0gKCkgPT4ge307XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCB0aGlzLnJ1blJlc2V0KG9wdHMpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgdGhpcy5yZXNldE9uVW5leHBlY3RlZFNodXRkb3duID0gc2h1dGRvd25IYW5kbGVyO1xuICAgICAgfVxuICAgIH1cbiAgICBhd2FpdCBzdXBlci5yZXNldCgpO1xuICB9XG59XG5cbk9iamVjdC5hc3NpZ24oWENVSVRlc3REcml2ZXIucHJvdG90eXBlLCBjb21tYW5kcyk7XG5cbmV4cG9ydCBkZWZhdWx0IFhDVUlUZXN0RHJpdmVyO1xuZXhwb3J0IHsgWENVSVRlc3REcml2ZXIgfTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUtBO0FBR0E7QUFDQTtBQVFBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0EsTUFBTUEsd0JBQXdCLEdBQUcscUJBQXFCO0FBQ3RELE1BQU1DLDRCQUE0QixHQUFHLDhCQUE4QjtBQUVuRSxNQUFNQyxvQkFBb0IsR0FBRyxDQUFDQyxpQkFBTyxFQUFFQyxpQkFBTyxDQUFDO0FBQy9DLE1BQU1DLHNCQUFzQixHQUFHLENBQUM7QUFDaEMsTUFB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