"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.EventMixin = EventMixin;

require("source-map-support/register");

var _lodash = _interopRequireDefault(require("lodash"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function EventMixin(Base) {
  class EventCommands extends Base {
    async logCustomEvent(vendor, event) {
      this.logEvent(`${vendor}:${event}`);
    }

    async getLogEvents(type) {
      if (_lodash.default.isEmpty(type)) {
        return this.eventHistory;
      }

      const typeList = _lodash.default.castArray(type);

      return _lodash.default.reduce(this.eventHistory, (acc, eventTimes, eventType) => {
        if (typeList.includes(eventType)) {
          acc[eventType] = eventTimes;
        }

        return acc;
      }, {});
    }

  }

  return EventCommands;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJFdmVudE1peGluIiwiQmFzZSIsIkV2ZW50Q29tbWFuZHMiLCJsb2dDdXN0b21FdmVudCIsInZlbmRvciIsImV2ZW50IiwibG9nRXZlbnQiLCJnZXRMb2dFdmVudHMiLCJ0eXBlIiwiXyIsImlzRW1wdHkiLCJldmVudEhpc3RvcnkiLCJ0eXBlTGlzdCIsImNhc3RBcnJheSIsInJlZHVjZSIsImFjYyIsImV2ZW50VGltZXMiLCJldmVudFR5cGUiLCJpbmNsdWRlcyJdLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xpYi9iYXNlZHJpdmVyL2NvbW1hbmRzL2V2ZW50LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlIHJlcXVpcmUtYXdhaXQgKi9cbi8vIEB0cy1jaGVja1xuaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcblxuLyoqXG4gKiBAcGFyYW0ge1RpbWVvdXRCYXNlfSBCYXNlXG4gKiBAcmV0dXJucyB7RXZlbnRCYXNlfVxuICovXG5leHBvcnQgZnVuY3Rpb24gRXZlbnRNaXhpbihCYXNlKSB7XG4gIC8qKlxuICAgKiBAaW1wbGVtZW50cyB7SUV2ZW50Q29tbWFuZHN9XG4gICAqL1xuICBjbGFzcyBFdmVudENvbW1hbmRzIGV4dGVuZHMgQmFzZSB7XG4gICAgLyoqXG4gICAgICogTG9nIGEgdXNlci1kZWZpbmVkIGV2ZW50IGluIHRoZSBldmVudCBsb2cuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdmVuZG9yIC0gYSB2ZW5kb3IgcHJlZml4IGZvciB0aGUgdXNlciwgdG8gZW5zdXJlIG5hbWVzcGFjZVxuICAgICAqIHNlcGFyYXRpb25cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnQgLSB0aGUgZXZlbnQgbmFtZVxuICAgICAqL1xuICAgIGFzeW5jIGxvZ0N1c3RvbUV2ZW50KHZlbmRvciwgZXZlbnQpIHtcbiAgICAgIHRoaXMubG9nRXZlbnQoYCR7dmVuZG9yfToke2V2ZW50fWApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgZXZlbnQgbG9nXG4gICAgICogQHBhcmFtIHtzdHJpbmd8c3RyaW5nW119IFt0eXBlXSAtIHRoZSBldmVudCB0eXBlIHRvIGZpbHRlciB3aXRoLlxuICAgICAqIEl0IHJldHVybnMgYWxsIGV2ZW50cyBpZiB0aGUgdHlwZSBpcyBub3QgcHJvdmlkZWQgb3IgZW1wdHkgc3RyaW5nL2FycmF5LlxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPGltcG9ydCgnQGFwcGl1bS90eXBlcycpLkV2ZW50SGlzdG9yeXxSZWNvcmQ8c3RyaW5nLG51bWJlcj4+fSAtIHRoZSBldmVudCBoaXN0b3J5IGxvZyBvYmplY3RcbiAgICAgKi9cbiAgICBhc3luYyBnZXRMb2dFdmVudHModHlwZSkge1xuICAgICAgaWYgKF8uaXNFbXB0eSh0eXBlKSkge1xuICAgICAgICByZXR1cm4gdGhpcy5ldmVudEhpc3Rvcnk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHR5cGVMaXN0ID0gXy5jYXN0QXJyYXkodHlwZSk7XG5cbiAgICAgIHJldHVybiBfLnJlZHVjZShcbiAgICAgICAgdGhpcy5ldmVudEhpc3RvcnksXG4gICAgICAgIChhY2MsIGV2ZW50VGltZXMsIGV2ZW50VHlwZSkgPT4ge1xuICAgICAgICAgIGlmICh0eXBlTGlzdC5pbmNsdWRlcyhldmVudFR5cGUpKSB7XG4gICAgICAgICAgICBhY2NbZXZlbnRUeXBlXSA9IGV2ZW50VGltZXM7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgIH0sXG4gICAgICAgIHt9XG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBFdmVudENvbW1hbmRzO1xufVxuXG4vKipcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJ0BhcHBpdW0vdHlwZXMnKS5FdmVudENvbW1hbmRzfSBJRXZlbnRDb21tYW5kc1xuICogQHR5cGVkZWYge2ltcG9ydCgnLi90aW1lb3V0JykuVGltZW91dEJhc2V9IFRpbWVvdXRCYXNlXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi9kcml2ZXInKS5CYXNlRHJpdmVyQmFzZTxpbXBvcnQoJ0BhcHBpdW0vdHlwZXMnKS5UaW1lb3V0Q29tbWFuZHMgJiBJRXZlbnRDb21tYW5kcz59IEV2ZW50QmFzZVxuICovXG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUVBOzs7O0FBTU8sU0FBU0EsVUFBVCxDQUFvQkMsSUFBcEIsRUFBMEI7RUFJL0IsTUFBTUMsYUFBTixTQUE0QkQsSUFBNUIsQ0FBaUM7SUFRWCxNQUFkRSxjQUFjLENBQUNDLE1BQUQsRUFBU0MsS0FBVCxFQUFnQjtNQUNsQyxLQUFLQyxRQUFMLENBQWUsR0FBRUYsTUFBTyxJQUFHQyxLQUFNLEVBQWpDO0lBQ0Q7O0lBUWlCLE1BQVpFLFlBQVksQ0FBQ0MsSUFBRCxFQUFPO01BQ3ZCLElBQUlDLGVBQUEsQ0FBRUMsT0FBRixDQUFVRixJQUFWLENBQUosRUFBcUI7UUFDbkIsT0FBTyxLQUFLRyxZQUFaO01BQ0Q7O01BRUQsTUFBTUMsUUFBUSxHQUFHSCxlQUFBLENBQUVJLFNBQUYsQ0FBWUwsSUFBWixDQUFqQjs7TUFFQSxPQUFPQyxlQUFBLENBQUVLLE1BQUYsQ0FDTCxLQUFLSCxZQURBLEVBRUwsQ0FBQ0ksR0FBRCxFQUFNQyxVQUFOLEVBQWtCQyxTQUFsQixLQUFnQztRQUM5QixJQUFJTCxRQUFRLENBQUNNLFFBQVQsQ0FBa0JELFNBQWxCLENBQUosRUFBa0M7VUFDaENGLEdBQUcsQ0FBQ0UsU0FBRCxDQUFILEdBQWlCRCxVQUFqQjtRQUNEOztRQUNELE9BQU9ELEdBQVA7TUFDRCxDQVBJLEVBUUwsRUFSSyxDQUFQO0lBVUQ7O0VBbkM4Qjs7RUFzQ2pDLE9BQU9iLGFBQVA7QUFDRCJ9